<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: TreeManagement Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classTreeManagement.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">TreeManagement Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="TreeManagement" --><!-- doxytag: inherits="RpcListener" -->
<p><code>#include &lt;<a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TreeManagement:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classTreeManagement.png" usemap="#TreeManagement_map" alt=""/>
  <map id="TreeManagement_map" name="TreeManagement_map">
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="0,0,110,24"/>
</map>
 </div></div>

<p><a href="classTreeManagement-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a988c54418e75390bc590eb52f581632a">TreeManagement</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aeaefcafce57423835ea11edc0ee0c3b6">init</a> (<a class="el" href="classNeighborCache.html">NeighborCache</a> *<a class="el" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aec387715e2ee5b8ce9d0a6a1a5f711ab">~TreeManagement</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ab63a46fb93d9225b4ce80385d3fd36da">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aa525eb5ac9d59a285d481736e6b280f1">handleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#afcbadf051958d6930d5a0404f103a4b8">handleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC timeout has been reached.  <a href="#afcbadf051958d6930d5a0404f103a4b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a0f27e1436b5db404e2329d43bc577e60">sendMessageToParent</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">send a message to the parent  <a href="#a0f27e1436b5db404e2329d43bc577e60"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aca91cfe88405942601f17b55c64f254a">sendMessageToChildren</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#adc6f93b4af76efcd31a605b77789421d">startTreeBuilding</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#afc584bf2c7605137e93fc69fe2272d38">getParentNode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a1a40ced95ba4eea6df7de40104411280">isRoot</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a2a3e54e1c53d4d721ef008bf6456361e">isChild</a> (<a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ad0a0f594487873ac8ca06a65b4823a8f">isParent</a> (<a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a8eb49d4d9e1df68543a607e7cb38dd3e">getCurrentTreeLevel</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current tree level of this node  <a href="#a8eb49d4d9e1df68543a607e7cb38dd3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="TreeManagement_8h.html#ae5fdca572efd0610e98a2d32d96f6f73">treeNodeMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a2e4264a8dd8c9dfd3b7eb4f960e67d03">getChildNodes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a38a402c913d3f099131fb46984851746">addMsgClient</a> (const char *identifier, <a class="el" href="classAbstractTreeMsgClient.html">AbstractTreeMsgClient</a> *msgClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a64b1592a3d4e0f532d40ce840b53a633">removeMsgClient</a> (const char *identifier)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a0c1c9a9390343a6f74ad922977b82491">handleChildCheckRpcCall</a> (<a class="el" href="classChildCheckCall.html">ChildCheckCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a4e047795c7832bdea474ea26a4115471">handleChildCheckRpcResponse</a> (<a class="el" href="classChildCheckResponse.html">ChildCheckResponse</a> *response, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a92e01ba568e4da809c0ecff163c340f3">finishTreeManagement</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">finish module and collect statistical data  <a href="#a92e01ba568e4da809c0ecff163c340f3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a03da018b5d1cb932510fa86698afd2a8">connectToParent</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a valid parent connection exists and establish one if not.  <a href="#a03da018b5d1cb932510fa86698afd2a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a4b00c73abaf62c2c71330262d5de1018">removeParentConnection</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a7f32b9f28c35dd9d431abfde330901c8">checkParentValid</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a6660e08dddf823c35ccb23c11143b94a">registerAtParent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a5f27b8f33d223a718b0d633722a97455">isTreeDomainKeyValid</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOverlayKey.html">OverlayKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ade11b0800e586e8f5b287ec840515f62">getResponsibleDomainKey</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Crawl the ID Space to find the smallest "Domain" for which the current node is NOT responsible.  <a href="#ade11b0800e586e8f5b287ec840515f62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aadb3ebdba4996fe6edb12ab9b83a7634">handleParentRequestRpcCall</a> (<a class="el" href="classParentRequestCall.html">ParentRequestCall</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aee4625ca7e6ebed34565c744e3a162a0">handleParentRequestRpcResponse</a> (<a class="el" href="classParentRequestResponse.html">ParentRequestResponse</a> *response, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a53e6e5e8fb87d9e73ba359a939645518">handleChildReleaseRpcCall</a> (<a class="el" href="classChildReleaseCall.html">ChildReleaseCall</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ac1549b5851d20edde9fb7c94f900c535">visualizeTreeLinkToNode</a> (const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;treeNode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a646e124bb2a73f0e48f7ba6a51351b02">addChildNode</a> (<a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;childNode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aa48a44f02e65683005bb3e5f63797c20">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC response has been received.  <a href="#aa48a44f02e65683005bb3e5f63797c20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a94da3b6fb651db64adc4046e3151625f">sendChildReleaseCall</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">send a message to my parent to release me from his children-list  <a href="#a94da3b6fb651db64adc4046e3151625f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a45cc0d62df83d365e53aee89ed907c41">checkTreeChildNodes</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">check the lastTouch record of theChildNode map and send a ping if the time is over limit  <a href="#a45cc0d62df83d365e53aee89ed907c41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ae60095626912c9b084162af1592d6d19">removeTreeChild</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;childToRemove)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">remove child from list  <a href="#ae60095626912c9b084162af1592d6d19"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aaa926dbb6ef2273d89ba17273770e499">debugChildren</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a9c3a357541b5abd66f005df8f3b525c6">cleanup</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd">currentTreeLevel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current TreeLevel of this node - calculated by getResponsibleDomainKey.  <a href="#afbfd6b867df71c1f0476a009465065dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a> [MAXTREELEVEL]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a> [MAXTREELEVEL]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a> [MAXTREELEVEL]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">bytesTMReceived</a> [MAXTREELEVEL]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a2ba5a471ddd412ed3b061d9b9fbe7e17">creationTime</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; const char <br class="typebreak"/>
*, <a class="el" href="classAbstractTreeMsgClient.html">AbstractTreeMsgClient</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#aaa30fca0f5023fd3f5cc2ff4486c8182">msgClientPair</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef UNORDERED_MAP&lt; const <br class="typebreak"/>
char *, <a class="el" href="classAbstractTreeMsgClient.html">AbstractTreeMsgClient</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a440034a312d99aba79a8b8f584d352ad">msgClientMap</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGlobalNodeList.html">GlobalNodeList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a8f1deabdd1399eaadb56ab3a688f7c0d">globalNodeList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNeighborCache.html">NeighborCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseOverlay.html">BaseOverlay</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNodeHandle.html">NodeHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOverlayKey.html">OverlayKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="TreeManagement_8h.html#ae5fdca572efd0610e98a2d32d96f6f73">treeNodeMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a8f731531c9d13b5c65e14d86f18677dc">treeMgmtBuildInterval</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ab31009abb8d73255042bd67927684335">deviation</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#ad2530bdf87b5cd2dc2b136bfe1e81f68">timeOutInSeconds</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTreeManagement.html#a440034a312d99aba79a8b8f584d352ad">msgClientMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00054">54</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a440034a312d99aba79a8b8f584d352ad"></a><!-- doxytag: member="TreeManagement::msgClientMap" ref="a440034a312d99aba79a8b8f584d352ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef UNORDERED_MAP&lt;const char*, <a class="el" href="classAbstractTreeMsgClient.html">AbstractTreeMsgClient</a>*&gt; <a class="el" href="classTreeManagement.html#a440034a312d99aba79a8b8f584d352ad">TreeManagement::msgClientMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00077">77</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaa30fca0f5023fd3f5cc2ff4486c8182"></a><!-- doxytag: member="TreeManagement::msgClientPair" ref="aaa30fca0f5023fd3f5cc2ff4486c8182" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;const char*, <a class="el" href="classAbstractTreeMsgClient.html">AbstractTreeMsgClient</a>*&gt; <a class="el" href="classTreeManagement.html#aaa30fca0f5023fd3f5cc2ff4486c8182">TreeManagement::msgClientPair</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00076">76</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a988c54418e75390bc590eb52f581632a"></a><!-- doxytag: member="TreeManagement::TreeManagement" ref="a988c54418e75390bc590eb52f581632a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TreeManagement::TreeManagement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00038">38</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classTreeManagement.html#a8f1deabdd1399eaadb56ab3a688f7c0d">globalNodeList</a> = NULL;
    <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a> = <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>;
    <a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;treeBuildTimer&quot;</span>);
    <a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a> = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aec387715e2ee5b8ce9d0a6a1a5f711ab"></a><!-- doxytag: member="TreeManagement::~TreeManagement" ref="aec387715e2ee5b8ce9d0a6a1a5f711ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TreeManagement::~TreeManagement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00046">46</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;cancelAndDelete(<a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a646e124bb2a73f0e48f7ba6a51351b02"></a><!-- doxytag: member="TreeManagement::addChildNode" ref="a646e124bb2a73f0e48f7ba6a51351b02" args="(NodeHandle &amp;childNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::addChildNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>childNode</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00545">545</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00484">handleParentRequestRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>() == childNode) <span class="keywordflow">return</span>;
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.find(childNode) == <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end()) {
        <a class="code" href="structtreeNodeEntry.html">treeNodeEntry</a> entry;

        entry.<a class="code" href="structtreeNodeEntry.html#a07a5f8a8dcdcf6d1dd60ca26d674352f">node</a> = childNode;
        entry.<a class="code" href="structtreeNodeEntry.html#aa63db95856e5c2b1fa0abc52563ddf5f">lastTouch</a> = simTime();
        <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.insert(<a class="code" href="TreeManagement_8h.html#a8adb427f80d14b67213875e3b032f993">treeNodePair</a>(childNode, entry));

        <span class="comment">//inform clients</span>
        <span class="keywordflow">for</span> (msgClientMap::iterator it = <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.begin();
                it != <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.end(); ++it) {
            it-&gt;second-&gt;newChild(childNode);
        }
    }

    <a class="code" href="classTreeManagement.html#aaa926dbb6ef2273d89ba17273770e499">debugChildren</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38a402c913d3f099131fb46984851746"></a><!-- doxytag: member="TreeManagement::addMsgClient" ref="a38a402c913d3f099131fb46984851746" args="(const char *identifier, AbstractTreeMsgClient *msgClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::addMsgClient </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAbstractTreeMsgClient.html">AbstractTreeMsgClient</a> *&#160;</td>
          <td class="paramname"><em>msgClient</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00705">705</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00073">NeighborCache::initializeApp()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.find(identifier) == <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.end()) {
        <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.insert(<a class="code" href="classTreeManagement.html#aaa30fca0f5023fd3f5cc2ff4486c8182">msgClientPair</a>(identifier, msgClient));
    }

}
</pre></div>
</div>
</div>
<a class="anchor" id="a7f32b9f28c35dd9d431abfde330901c8"></a><!-- doxytag: member="TreeManagement::checkParentValid" ref="a7f32b9f28c35dd9d431abfde330901c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::checkParentValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00332">332</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00240">connectToParent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> err = <span class="keyword">false</span>;

    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()){
        EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::checkParentValid (Not Valid: Unspecified) &lt;||&quot;</span> &lt;&lt; endl;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a1a40ced95ba4eea6df7de40104411280">isRoot</a>()) {
        <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> testKey = (<a class="code" href="classOverlayKey.html#a6434b4360f6feec10578daa85001f6c1" title="Returns the maximum key, i.e.">OverlayKey::getMax</a>()&gt;&gt;1);
        <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#ab5887b89ba9da5973068e834feb69ce7" title="Query if a node is among the siblings for a given key.">isSiblingFor</a>(<a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>(), testKey ,1, &amp;err)) {
            <span class="comment">//std::cout &lt;&lt; neighborCache-&gt;getThisNode().getIp() &lt;&lt; &quot; is still ROOT&quot; &lt;&lt; std::endl;</span>
            EV &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::checkParentValid() @ &quot;</span>
               &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    I&#39;m still ROOT!&quot;</span>
               &lt;&lt; endl;
            <span class="comment">//std::cout &lt;&lt; neighborCache-&gt;getThisNode().getIp() &lt;&lt; &quot; is still ROOT&quot; &lt;&lt; std::endl;</span>
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        } <span class="keywordflow">else</span> {
            EV &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::checkParentValid() @ &quot;</span>
               &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    I&#39;m NOT longer ROOT!&quot;</span>
               &lt;&lt; endl;
            <span class="comment">//std::cout &lt;&lt; simTime() &lt;&lt; &quot; &quot; &lt;&lt; neighborCache-&gt;getThisNode().getIp() &lt;&lt; &quot; is NOT longer ROOT&quot; &lt;&lt; std::endl;</span>
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }

    <span class="comment">// 1. if my treeDomainKey is still valid</span>
    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a5f27b8f33d223a718b0d633722a97455">isTreeDomainKeyValid</a>()) {
        <span class="comment">// 2. check if parent is responsible for my TreeDomainKey</span>
        <span class="keywordtype">bool</span> isSiblingReturn = <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#ab5887b89ba9da5973068e834feb69ce7" title="Query if a node is among the siblings for a given key.">isSiblingFor</a>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>, <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>,1, &amp;err);
        <span class="keywordflow">if</span>(isSiblingReturn &amp;&amp; !err) {
            <span class="comment">// 3. check if I am not responsible for my TreeDomainKey</span>
            isSiblingReturn = <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#ab5887b89ba9da5973068e834feb69ce7" title="Query if a node is among the siblings for a given key.">isSiblingFor</a>(<a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>(), <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>, 1, &amp;err);
            <span class="keywordflow">if</span>(!isSiblingReturn &amp;&amp; !err) {
                <span class="comment">//std::cout &lt;&lt; neighborCache-&gt;getThisNode().getIp() &lt;&lt; &quot; 3 checks passed&quot; &lt;&lt; std::endl;</span>
                EV &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; 3 checks passed&quot;</span> &lt;&lt; endl;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a45cc0d62df83d365e53aee89ed907c41"></a><!-- doxytag: member="TreeManagement::checkTreeChildNodes" ref="a45cc0d62df83d365e53aee89ed907c41" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::checkTreeChildNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>check the lastTouch record of theChildNode map and send a ping if the time is over limit </p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00293">293</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00082">handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    treeNodeMap::const_iterator nodeIterator = <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.begin();
    <span class="keywordflow">while</span> (nodeIterator != <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end()) {
        <span class="keywordflow">if</span>(nodeIterator-&gt;second.lastTouch + <a class="code" href="classTreeManagement.html#ad2530bdf87b5cd2dc2b136bfe1e81f68">timeOutInSeconds</a> &lt; simTime()) {
            <a class="code" href="classChildCheckCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ChildCheckCall</a>* childCheckCall = <span class="keyword">new</span> <a class="code" href="classChildCheckCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ChildCheckCall</a>(<span class="stringliteral">&quot;ChildCheckCall&quot;</span>);
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4" title="Return the component type of this module.">getThisCompType</a>(),
                                            nodeIterator-&gt;second.node,
                                            childCheckCall,
                                            NULL, <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>,
                                            -1, 0, -1, <span class="keyword">this</span>);
            <span class="comment">//neighborCache-&gt;pingNode(nodeIterator-&gt;second.node, -1, -1, NULL,</span>
            <span class="comment">//                        &quot;CheckChildAlive&quot;);</span>
        }
        nodeIterator++;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9c3a357541b5abd66f005df8f3b525c6"></a><!-- doxytag: member="TreeManagement::cleanup" ref="a9c3a357541b5abd66f005df8f3b525c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00051">51</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00416">startTreeBuilding()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a> = <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>;
    <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.clear();
    <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a> = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a03da018b5d1cb932510fa86698afd2a8"></a><!-- doxytag: member="TreeManagement::connectToParent" ref="a03da018b5d1cb932510fa86698afd2a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::connectToParent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a valid parent connection exists and establish one if not. </p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00240">240</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00082">handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::connectToParent (=== PARENTCHECK for Node &quot;</span>
       &lt;&lt; <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt;<span class="stringliteral">&quot; ===) &lt;||&quot;</span> &lt;&lt; endl;

    <span class="keywordflow">if</span>(!<a class="code" href="classTreeManagement.html#a7f32b9f28c35dd9d431abfde330901c8">checkParentValid</a>()) {
        EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::connectToParent (Parent is not Valid) &lt;||&quot;</span>
           &lt;&lt; endl;

        <span class="comment">// add a new connection</span>
        <a class="code" href="classTreeManagement.html#a6660e08dddf823c35ccb23c11143b94a">registerAtParent</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaa926dbb6ef2273d89ba17273770e499"></a><!-- doxytag: member="TreeManagement::debugChildren" ref="aaa926dbb6ef2273d89ba17273770e499" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::debugChildren </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00565">565</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00545">addChildNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::stringstream shortChildMapString;

    shortChildMapString &lt;&lt; <span class="stringliteral">&quot;CL &quot;</span>;

    EV &lt;&lt; <span class="stringliteral">&quot;=== Children List of &quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;===&quot;</span> &lt;&lt; endl;

    treeNodeMap::const_iterator nodeMapIterator = <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.begin();

    <span class="keywordflow">while</span>(nodeMapIterator != <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end()) {
        EV &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; (*nodeMapIterator).first &lt;&lt; endl;
        shortChildMapString &lt;&lt; (*nodeMapIterator).first.getIp() &lt;&lt; <span class="stringliteral">&quot; | &quot;</span>;
        ++nodeMapIterator;
    }

    <span class="comment">//neighborCache-&gt;getParentModule()-&gt;getDisplayString().setTagArg(&quot;t2&quot;, 0, shortChildMapString.str().c_str());</span>

    EV &lt;&lt; <span class="stringliteral">&quot;=====================&quot;</span> &lt;&lt; endl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a92e01ba568e4da809c0ecff163c340f3"></a><!-- doxytag: member="TreeManagement::finishTreeManagement" ref="a92e01ba568e4da809c0ecff163c340f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::finishTreeManagement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>finish module and collect statistical data </p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00728">728</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00194">NeighborCache::finishApp()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> i;
    std::stringstream statName;

    simtime_t time = <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a610799ebfbf64696c59b811870cc8300">calcMeasuredLifetime</a>(<a class="code" href="classTreeManagement.html#a2ba5a471ddd412ed3b061d9b9fbe7e17">creationTime</a>);

    <span class="keywordflow">for</span>(i = 1; i &lt; <a class="code" href="TreeManagement_8h.html#abc024d494863300fffc1ae8279a7cf46">MAXTREELEVEL</a>; i++) {
        <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[i] &gt; 0 || <a class="code" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a>[i] &gt; 0) {

            <span class="comment">//int branchingFactor = 2;</span>

            <span class="comment">// messages sent per level</span>
            statName.str(<span class="stringliteral">&quot;&quot;</span>);
            statName &lt;&lt; <span class="stringliteral">&quot;TreeManagement Level &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; numTMSent/Node/s&quot;</span>;
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(statName.str(), (double)<a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[i] / SIMTIME_DBL(time) );

            statName.str(<span class="stringliteral">&quot;&quot;</span>);
            statName &lt;&lt; <span class="stringliteral">&quot;TreeManagement Level &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; numTMReceived/Node/s&quot;</span>;
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(statName.str(), (double)<a class="code" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a>[i] / SIMTIME_DBL(time));

            statName.str(<span class="stringliteral">&quot;&quot;</span>);
            statName &lt;&lt; <span class="stringliteral">&quot;TreeManagement Level &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; numTMTotal/Node/s&quot;</span>;
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(statName.str(), ((double)<a class="code" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a>[i] + (<span class="keywordtype">double</span>)<a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[i]) / SIMTIME_DBL(time));

            <span class="comment">// bytes per time send per level</span>
            statName.str(<span class="stringliteral">&quot;&quot;</span>);
            statName &lt;&lt; <span class="stringliteral">&quot;TreeManagement Level &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; bytesTMSent/Node/s&quot;</span>;
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(statName.str(), (double)<a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[i] / SIMTIME_DBL(time));

            statName.str(<span class="stringliteral">&quot;&quot;</span>);
            statName &lt;&lt; <span class="stringliteral">&quot;TreeManagement Level &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; bytesTMReceived/Node/s&quot;</span>;
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(statName.str(), (double)<a class="code" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">bytesTMReceived</a>[i] / SIMTIME_DBL(time));

            statName.str(<span class="stringliteral">&quot;&quot;</span>);
            statName &lt;&lt; <span class="stringliteral">&quot;TreeManagement Level &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; bytesTMTotal/Node/s&quot;</span>;
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(statName.str(), ((double)<a class="code" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">bytesTMReceived</a>[i] + (<span class="keywordtype">double</span>)<a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[i]) / SIMTIME_DBL(time));
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2e4264a8dd8c9dfd3b7eb4f960e67d03"></a><!-- doxytag: member="TreeManagement::getChildNodes" ref="a2e4264a8dd8c9dfd3b7eb4f960e67d03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="TreeManagement_8h.html#ae5fdca572efd0610e98a2d32d96f6f73">treeNodeMap</a> &amp; TreeManagement::getChildNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00699">699</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">GlobalViewBuilder::cleanup()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8eb49d4d9e1df68543a607e7cb38dd3e"></a><!-- doxytag: member="TreeManagement::getCurrentTreeLevel" ref="a8eb49d4d9e1df68543a607e7cb38dd3e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TreeManagement::getCurrentTreeLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the current tree level of this node </p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00722">722</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afc584bf2c7605137e93fc69fe2272d38"></a><!-- doxytag: member="TreeManagement::getParentNode" ref="afc584bf2c7605137e93fc69fe2272d38" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp; TreeManagement::getParentNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00693">693</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">GlobalViewBuilder::handleCoordinateRpcCall()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ade11b0800e586e8f5b287ec840515f62"></a><!-- doxytag: member="TreeManagement::getResponsibleDomainKey" ref="ade11b0800e586e8f5b287ec840515f62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> TreeManagement::getResponsibleDomainKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Crawl the ID Space to find the smallest "Domain" for which the current node is NOT responsible. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> a random key from this domain </dd></dl>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00587">587</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00382">isTreeDomainKeyValid()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00423">registerAtParent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> node = <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>();
    <span class="keywordtype">bool</span> err = <span class="keyword">false</span>;

    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> rightBorder = <a class="code" href="classOverlayKey.html#a6434b4360f6feec10578daa85001f6c1" title="Returns the maximum key, i.e.">OverlayKey::getMax</a>(); <span class="comment">// 1</span>
    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> leftBorder = <a class="code" href="classOverlayKey.html#a7fb11c90a3ce70d71025ffbbe195bf80" title="OverlayKey with key initialized as 0.">OverlayKey::ZERO</a>;
    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> testKey = <a class="code" href="classOverlayKey.html#a6434b4360f6feec10578daa85001f6c1" title="Returns the maximum key, i.e.">OverlayKey::getMax</a>()&gt;&gt;1;       <span class="comment">// middle of idSpace</span>
    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> domainKey = <a class="code" href="classOverlayKey.html#a6434b4360f6feec10578daa85001f6c1" title="Returns the maximum key, i.e.">OverlayKey::getMax</a>()&gt;&gt;1;

    <span class="keywordtype">int</span> it = 1;
    <span class="keywordtype">int</span> maxIteration = <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;par(<span class="stringliteral">&quot;keyLength&quot;</span>);

    <span class="keywordflow">while</span>(it &lt; maxIteration) {

        domainKey = testKey;
        testKey = (leftBorder&gt;&gt;1) + (rightBorder&gt;&gt;1);

        EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::getResponsibleDomain (Checking: &quot;</span>
           &lt;&lt; testKey &lt;&lt;<span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;

        <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#ab5887b89ba9da5973068e834feb69ce7" title="Query if a node is among the siblings for a given key.">isSiblingFor</a>(node, testKey,1, &amp;err)) {
            <a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a> = it;
            EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::getResponsibleDomainKey (&quot;</span>
               &lt;&lt;  <span class="stringliteral">&quot;CURTREELEVEL: &quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a> &lt;&lt; <span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;
            <span class="keywordflow">return</span> domainKey;
        }

        <span class="keywordflow">if</span>(err) {
            EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::getResponsibleDomain (ERROR WHILE CALLING isSiblingFor) &lt;||&quot;</span> &lt;&lt; endl;
        }

        <span class="keywordflow">if</span>(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#a4fa622c1f48d20712fe558b17f1187a5" title="Returns true, if this key is element of the interval (keyA, keyB) on the ring.">isBetween</a>(leftBorder, testKey)) { <span class="comment">// linke Seite</span>
            rightBorder = testKey;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#a4fa622c1f48d20712fe558b17f1187a5" title="Returns true, if this key is element of the interval (keyA, keyB) on the ring.">isBetween</a>((rightBorder+leftBorder)&gt;&gt;1,rightBorder)) {
            leftBorder=testKey;
        } <span class="keywordflow">else</span> {
            EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::getResponsibleDomain (KEY IS THE BORDER!) &lt;||&quot;</span> &lt;&lt; endl;
        }

        it++;
    }

    <span class="keywordflow">return</span> <a class="code" href="classOverlayKey.html#a7fb11c90a3ce70d71025ffbbe195bf80" title="OverlayKey with key initialized as 0.">OverlayKey::ZERO</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0c1c9a9390343a6f74ad922977b82491"></a><!-- doxytag: member="TreeManagement::handleChildCheckRpcCall" ref="a0c1c9a9390343a6f74ad922977b82491" args="(ChildCheckCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleChildCheckRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classChildCheckCall.html">ChildCheckCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00459">459</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() || msg-&gt;getSrcNode() != <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>) {
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="classChildCheckResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ChildCheckResponse</a>* response = <span class="keyword">new</span> <a class="code" href="classChildCheckResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ChildCheckResponse</a>(<span class="stringliteral">&quot;ChildCheckReponse&quot;</span>);
    <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(msg, response);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4e047795c7832bdea474ea26a4115471"></a><!-- doxytag: member="TreeManagement::handleChildCheckRpcResponse" ref="a4e047795c7832bdea474ea26a4115471" args="(ChildCheckResponse *response, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleChildCheckRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classChildCheckResponse.html">ChildCheckResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00312">312</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00114">handleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.find(response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>()) != <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end()) {
        <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.find(response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>())-&gt;second.lastTouch = simTime();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a53e6e5e8fb87d9e73ba359a939645518"></a><!-- doxytag: member="TreeManagement::handleChildReleaseRpcCall" ref="a53e6e5e8fb87d9e73ba359a939645518" args="(ChildReleaseCall *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleChildReleaseRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classChildReleaseCall.html">ChildReleaseCall</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00450">450</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{

    <a class="code" href="classTreeManagement.html#ae60095626912c9b084162af1592d6d19" title="remove child from list">removeTreeChild</a>(msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>());

    <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aadb3ebdba4996fe6edb12ab9b83a7634"></a><!-- doxytag: member="TreeManagement::handleParentRequestRpcCall" ref="aadb3ebdba4996fe6edb12ab9b83a7634" args="(ParentRequestCall *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleParentRequestRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classParentRequestCall.html">ParentRequestCall</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00484">484</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::handleParentRequestRpcCall (ADDCHILDNODE!!! &quot;</span>
       &lt;&lt; msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; to &quot;</span>
       &lt;&lt; <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;

    <span class="comment">/*</span>
<span class="comment">    if (dynamic_cast&lt;OverlayCtrlInfo*&gt;(msg-&gt;getControlInfo())) {</span>
<span class="comment">        //OverlayCtrlInfo* overlayCtrlInfo = static_cast&lt;OverlayCtrlInfo*&gt;(msg-&gt;getControlInfo());</span>
<span class="comment">        if (msg-&gt;getDomainKey() != getResponsibleDomainKey().second) {</span>
<span class="comment">            std::cout &lt;&lt; neighborCache-&gt;getThisNode().getIp()</span>
<span class="comment">                      &lt;&lt; &quot;, msg-&gt;getDomainKey(): &quot; &lt;&lt; msg-&gt;getDomainKey()</span>
<span class="comment">                      &lt;&lt; &quot;, getResponsibleDomainKey().second: &quot; &lt;&lt; getResponsibleDomainKey().second</span>
<span class="comment">                      &lt;&lt; &quot; --&gt; not responsible!&quot; &lt;&lt; std::endl;</span>
<span class="comment">            //delete msg;</span>
<span class="comment">            //return;</span>
<span class="comment">        }</span>
<span class="comment">    }</span>
<span class="comment">    */</span>
    <a class="code" href="classTreeManagement.html#a646e124bb2a73f0e48f7ba6a51351b02">addChildNode</a>(msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>());

    <a class="code" href="classParentRequestResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ParentRequestResponse</a>* parentResp = <span class="keyword">new</span> <a class="code" href="classParentRequestResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ParentRequestResponse</a>(<span class="stringliteral">&quot;ParentResponse&quot;</span>);
    parentResp-&gt;setBitLength(<a class="code" href="TreeManagementMessage__m_8h.html#ab7cccbc47096f221c6d432305aaf4fda">PARENTREQUESTRESPONSE_L</a>(parentResp));
    <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(msg, parentResp);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aee4625ca7e6ebed34565c744e3a162a0"></a><!-- doxytag: member="TreeManagement::handleParentRequestRpcResponse" ref="aee4625ca7e6ebed34565c744e3a162a0" args="(ParentRequestResponse *response, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleParentRequestRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classParentRequestResponse.html">ParentRequestResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00511">511</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00114">handleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::handleParentRequestRpcResponse (&quot;</span>
       &lt;&lt; <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt;<span class="stringliteral">&quot; ISCHILDOF &quot;</span>
       &lt;&lt; response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;


    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() || response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>() != <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>) {
        <span class="comment">// remove old connection</span>
        <a class="code" href="classTreeManagement.html#a4b00c73abaf62c2c71330262d5de1018">removeParentConnection</a>();

        <span class="comment">// add new connection</span>
        <span class="keywordflow">if</span> (response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>() == <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>()) {
            <span class="comment">//std::cout &lt;&lt; simTime() &lt;&lt; &quot; &quot; &lt;&lt; neighborCache-&gt;getThisNode().getIp() &lt;&lt; &quot; (thinks that it) is now ROOT!&quot; &lt;&lt; std::endl;</span>
        }
        <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a> = response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>();

        <span class="comment">// TODO</span>
        <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classTopologyVis.html#a4fe67c060004c8ca76658c7b41514a4a" title="Draws an arrow from this node to neighbor.">showOverlayNeighborArrow</a>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>, <span class="keyword">true</span>,
                                          <span class="stringliteral">&quot;m=m,50,0,50,0;ls=blue,1&quot;</span>);

        <span class="comment">//inform clients</span>
        <span class="keywordflow">for</span> (msgClientMap::iterator it = <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.begin();
             it != <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.end(); ++it) {
            it-&gt;second-&gt;newParent();
        }
    } <span class="comment">/*else {</span>
<span class="comment">        std::cout &lt;&lt; (parentNode.isUnspecified()?&quot;parentNode.isUnspecified()&quot;:&quot;NOT parentNode.isUnspecified()&quot;) &lt;&lt; &quot;\n&quot;</span>
<span class="comment">                  &lt;&lt; response-&gt;getSrcNode() &lt;&lt; &quot; &quot; &lt;&lt; parentNode &lt;&lt; std::endl;</span>
<span class="comment">    }*/</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa525eb5ac9d59a285d481736e6b280f1"></a><!-- doxytag: member="TreeManagement::handleRpcCall" ref="aa525eb5ac9d59a285d481736e6b280f1" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::handleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00097">97</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00814">NeighborCache::handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>()) {
        <a class="code" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>]++;
        <a class="code" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">bytesTMReceived</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>] +=  msg-&gt;getByteLength();
    }

    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg );
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( ParentRequest, <a class="code" href="classTreeManagement.html#aadb3ebdba4996fe6edb12ab9b83a7634">handleParentRequestRpcCall</a> );
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( ChildCheck, <a class="code" href="classTreeManagement.html#a0c1c9a9390343a6f74ad922977b82491">handleChildCheckRpcCall</a> );
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( ChildRelease, <a class="code" href="classTreeManagement.html#a53e6e5e8fb87d9e73ba359a939645518">handleChildReleaseRpcCall</a> );
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( );

    <span class="keywordflow">return</span> <a class="code" href="RpcMacros_8h.html#aa5e964b7c7129c0943237a786e455e9a">RPC_HANDLED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa48a44f02e65683005bb3e5f63797c20"></a><!-- doxytag: member="TreeManagement::handleRpcResponse" ref="aa48a44f02e65683005bb3e5f63797c20" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC response has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The response message. </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classTreeManagement.html#aa48a44f02e65683005bb3e5f63797c20" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">rtt</td><td>The Round-Trip-Time of this RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#a6229090a446fb649cfec3c1fb61e7167">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00114">114</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>()) {
        <a class="code" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>]++;
        <a class="code" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">bytesTMReceived</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>] +=  msg-&gt;getByteLength();
    }

    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg );
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( ParentRequest ) {
        <a class="code" href="classTreeManagement.html#aee4625ca7e6ebed34565c744e3a162a0">handleParentRequestRpcResponse</a>(_ParentRequestResponse, context,
                                       rpcId, rtt);
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( ChildCheck ) {
        <a class="code" href="classTreeManagement.html#a4e047795c7832bdea474ea26a4115471">handleChildCheckRpcResponse</a>(_ChildCheckResponse, context,
                                    rpcId, rtt);
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( );

    <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afcbadf051958d6930d5a0404f103a4b8"></a><!-- doxytag: member="TreeManagement::handleRpcTimeout" ref="afcbadf051958d6930d5a0404f103a4b8" args="(BaseCallMessage *msg, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;destKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC timeout has been reached. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The original RPC message. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination node </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classTreeManagement.html#aa48a44f02e65683005bb3e5f63797c20" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">destKey</td><td>the destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#aaaf9cd362481527ed995dd159aa96b73">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00138">138</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>( ChildRelease ) {

        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>( ChildCheck ) {
        EV &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::handleRpcTimeout() @ &quot;</span>
           &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Child timout: &quot;</span> &lt;&lt; dest.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; endl;

        <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.erase(dest);

        <a class="code" href="classTreeManagement.html#ab63a46fb93d9225b4ce80385d3fd36da">handleTimerEvent</a>(<a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>);
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>( ParentRequest ) {
        EV &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::handleRpcTimeout() @ &quot;</span>
           &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Parent timout, domainKey = &quot;</span> &lt;&lt; destKey
           &lt;&lt; endl;
        std::cout &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::handleRpcTimeout() @ &quot;</span>
                  &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                  &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                  &lt;&lt; <span class="stringliteral">&quot;    Parent timout, domainKey = &quot;</span> &lt;&lt; destKey
                  &lt;&lt; std::endl;

        <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classTopologyVis.html#ae9629882d5f3bb7865f9c9501b23a172" title="Removes an arrow from this node to neighbor.">deleteOverlayNeighborArrow</a>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>);
        <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a> = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
        <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a> = <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>;

        <a class="code" href="classTreeManagement.html#ab63a46fb93d9225b4ce80385d3fd36da">handleTimerEvent</a>(<a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>);
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>( TreeApp ) {
        EV &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::handleRpcTimeout() @ &quot;</span>
           &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Peer in tree timout: &quot;</span> &lt;&lt; dest.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; destKey &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>
           &lt;&lt; endl;

        <span class="keywordflow">if</span> (!dest.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>() &amp;&amp; !<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() &amp;&amp;
            (dest == <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>)) {
            EV &lt;&lt; <span class="stringliteral">&quot;[TreeManagement::handleRpcTimeout() @ &quot;</span>
               &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    TreeAppCall (sent directly to parent &quot;</span>
               &lt;&lt; dest &lt;&lt; <span class="stringliteral">&quot;) timed out, retry sending message to key &quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>
               &lt;&lt; endl;

            <span class="comment">// retry to key</span>
            <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a> = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
            <a class="code" href="classTreeManagement.html#ab63a46fb93d9225b4ce80385d3fd36da">handleTimerEvent</a>(<a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>);
            <span class="comment">//TODO delayed</span>
            <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4" title="Return the component type of this module.">getThisCompType</a>(),
                                            <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>,
                                            msg-&gt;<a class="code" href="classBaseCallMessage.html#a2e1b28efce2f3b0b45c6b101b9515704">dup</a>(), NULL, <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>,
                                            -1 , 0, -1, <span class="keyword">this</span>);
        } <span class="keywordflow">else</span> std::cout &lt;&lt; <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; msg-&gt;getName()
                         &lt;&lt; <span class="stringliteral">&quot; timed out to &quot;</span> &lt;&lt; dest.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                         &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; destKey &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>
                         &lt;&lt; std::endl;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )


        <span class="comment">/*</span>
<span class="comment">    // check parentNode</span>
<span class="comment">    if (!destKey.isUnspecified() &amp;&amp; destKey == treeDomainKey) {</span>
<span class="comment">        treeDomainKey = OverlayKey::UNSPECIFIED_KEY;</span>
<span class="comment">        overlay-&gt;deleteOverlayNeighborArrow(parentNode);</span>
<span class="comment">        parentNode = NodeHandle::UNSPECIFIED_NODE;</span>
<span class="comment">        std::cout &lt;&lt; &quot;parent timeout&quot; &lt;&lt; std::endl;</span>
<span class="comment">        //return;</span>
<span class="comment">    } else</span>
<span class="comment">    // check children</span>
<span class="comment">    if (dest.isUnspecified()) {</span>
<span class="comment">        for (treeNodeMap::iterator it = treeChildNodes.begin();</span>
<span class="comment">             it != treeChildNodes.end(); ++it) {</span>
<span class="comment">            if (destKey == it-&gt;second.node.getKey()) {</span>
<span class="comment">                treeChildNodes.erase(it);</span>
<span class="comment">                //return;</span>
<span class="comment">            }</span>
<span class="comment">        }</span>
<span class="comment">    } else if (dynamic_cast&lt;ChildReleaseCall*&gt;(msg)) {</span>
<span class="comment">        //TODO there is no response...???</span>
<span class="comment">        return;</span>
<span class="comment">    } else std::cout &lt;&lt; msg-&gt;getName() &lt;&lt; std::endl;</span>
<span class="comment"></span>
<span class="comment">    handleTimerEvent(treeBuildTimer);</span>
<span class="comment">        */</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab63a46fb93d9225b4ce80385d3fd36da"></a><!-- doxytag: member="TreeManagement::handleTimerEvent" ref="ab63a46fb93d9225b4ce80385d3fd36da" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00082">82</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00780">NeighborCache::handleTimerEvent()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00416">startTreeBuilding()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(msg == <a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>) {
        <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;cancelEvent(<a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>);
        <a class="code" href="classTreeManagement.html#a03da018b5d1cb932510fa86698afd2a8" title="Check if a valid parent connection exists and establish one if not.">connectToParent</a>();
        <a class="code" href="classTreeManagement.html#a45cc0d62df83d365e53aee89ed907c41" title="check the lastTouch record of theChildNode map and send a ping if the time is over limit...">checkTreeChildNodes</a>();

        <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;scheduleAt(simTime() +
                                  truncnormal(<a class="code" href="classTreeManagement.html#a8f731531c9d13b5c65e14d86f18677dc">treeMgmtBuildInterval</a>,
                                              <a class="code" href="classTreeManagement.html#ab31009abb8d73255042bd67927684335">deviation</a>),
                                  msg);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aeaefcafce57423835ea11edc0ee0c3b6"></a><!-- doxytag: member="TreeManagement::init" ref="aeaefcafce57423835ea11edc0ee0c3b6" args="(NeighborCache *neighborCache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNeighborCache.html">NeighborCache</a> *&#160;</td>
          <td class="paramname"><em>neighborCache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00059">59</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00073">NeighborCache::initializeApp()</a>.</p>
<div class="fragment"><pre class="fragment">{
    this-&gt;neighborCache = <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>;
    this-&gt;<a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a> = neighborCache-&gt;<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>;
    this-&gt;<a class="code" href="classTreeManagement.html#a8f1deabdd1399eaadb56ab3a688f7c0d">globalNodeList</a> = <a class="code" href="classGlobalNodeListAccess.html" title="Gives access to the GlobalNodeList.">GlobalNodeListAccess</a>().<a class="code" href="classGlobalNodeListAccess.html#a632ebc68d476efa2dd053517509786ec">get</a>();

    <a class="code" href="classTreeManagement.html#a8f731531c9d13b5c65e14d86f18677dc">treeMgmtBuildInterval</a> = neighborCache-&gt;par(<span class="stringliteral">&quot;treeMgmtBuildInterval&quot;</span>);
    <a class="code" href="classTreeManagement.html#ab31009abb8d73255042bd67927684335">deviation</a> = <a class="code" href="classTreeManagement.html#a8f731531c9d13b5c65e14d86f18677dc">treeMgmtBuildInterval</a> / 10;
    <a class="code" href="classTreeManagement.html#ad2530bdf87b5cd2dc2b136bfe1e81f68">timeOutInSeconds</a> =
        neighborCache-&gt;par(<span class="stringliteral">&quot;treeMgmtChildrenTimeOut&quot;</span>).doubleValue();

    <a class="code" href="classTreeManagement.html#a2ba5a471ddd412ed3b061d9b9fbe7e17">creationTime</a> = simTime();

    <span class="comment">// init stats Counter</span>
    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="TreeManagement_8h.html#abc024d494863300fffc1ae8279a7cf46">MAXTREELEVEL</a>; i++) {
        <a class="code" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">numTMReceived</a>[i] = 0;
        <a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[i] = 0;
        <a class="code" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">bytesTMReceived</a>[i] = 0;
        <a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[i] = 0;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2a3e54e1c53d4d721ef008bf6456361e"></a><!-- doxytag: member="TreeManagement::isChild" ref="a2a3e54e1c53d4d721ef008bf6456361e" args="(TransportAddress &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::isChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00403">403</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">GlobalViewBuilder::handleCoordinateRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.find(node) != <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end());
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad0a0f594487873ac8ca06a65b4823a8f"></a><!-- doxytag: member="TreeManagement::isParent" ref="ad0a0f594487873ac8ca06a65b4823a8f" args="(TransportAddress &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::isParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00409">409</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    assert(!node.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>());
    <span class="keywordflow">return</span> (!<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() &amp;&amp; (node == <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1a40ced95ba4eea6df7de40104411280"></a><!-- doxytag: member="TreeManagement::isRoot" ref="a1a40ced95ba4eea6df7de40104411280" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::isRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00394">394</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00332">checkParentValid()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">GlobalViewBuilder::handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() &amp;&amp; <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a> == <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>()) {
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5f27b8f33d223a718b0d633722a97455"></a><!-- doxytag: member="TreeManagement::isTreeDomainKeyValid" ref="a5f27b8f33d223a718b0d633722a97455" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::isTreeDomainKeyValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00382">382</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00332">checkParentValid()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#ade11b0800e586e8f5b287ec840515f62" title="Crawl the ID Space to find the smallest &quot;Domain&quot; for which the current node is NOT responsible...">getResponsibleDomainKey</a>() == <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>) {
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6660e08dddf823c35ccb23c11143b94a"></a><!-- doxytag: member="TreeManagement::registerAtParent" ref="a6660e08dddf823c35ccb23c11143b94a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::registerAtParent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00423">423</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00240">connectToParent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a> = <a class="code" href="classTreeManagement.html#ade11b0800e586e8f5b287ec840515f62" title="Crawl the ID Space to find the smallest &quot;Domain&quot; for which the current node is NOT responsible...">getResponsibleDomainKey</a>();

    <a class="code" href="classParentRequestCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ParentRequestCall</a>* parentReq = <span class="keyword">new</span> <a class="code" href="classParentRequestCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ParentRequestCall</a>(<span class="stringliteral">&quot;ParentRequest&quot;</span>);
    simtime_t timeout = -1;

    parentReq-&gt;<a class="code" href="classParentRequestCall.html#adc479293b5c52071459fa377c52c8bfa">setDomainKey</a>(<a class="code" href="classTreeManagement.html#ade11b0800e586e8f5b287ec840515f62" title="Crawl the ID Space to find the smallest &quot;Domain&quot; for which the current node is NOT responsible...">getResponsibleDomainKey</a>());

    parentReq-&gt;setBitLength(<a class="code" href="TreeManagementMessage__m_8h.html#ada2761cd78fb7b35c2523db601dcc790">PARENTREQUESTCALL_L</a>(parentReq));

    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>()) {
        <a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>]++;
        <a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>] +=  parentReq-&gt;getByteLength();
    }

    <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4" title="Return the component type of this module.">getThisCompType</a>(),
                                    <a class="code" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">treeDomainKey</a>,
                                    parentReq,
                                    NULL,<a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>,
                                    timeout, 0, -1, this
    );

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64b1592a3d4e0f532d40ce840b53a633"></a><!-- doxytag: member="TreeManagement::removeMsgClient" ref="a64b1592a3d4e0f532d40ce840b53a633" args="(const char *identifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::removeMsgClient </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>identifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00714">714</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.find(identifier) != <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.end()) {
        <a class="code" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">msgClients</a>.erase(identifier);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4b00c73abaf62c2c71330262d5de1018"></a><!-- doxytag: member="TreeManagement::removeParentConnection" ref="a4b00c73abaf62c2c71330262d5de1018" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::removeParentConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00255">255</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00511">handleParentRequestRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) <span class="keywordflow">return</span>;

    <span class="comment">//TODO</span>
    <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classTopologyVis.html#ae9629882d5f3bb7865f9c9501b23a172" title="Removes an arrow from this node to neighbor.">deleteOverlayNeighborArrow</a>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>);

    EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; TreeManagement::removeParentConnection (RELEASE Connection From &quot;</span>
       &lt;&lt; <a class="code" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; to Parent &quot;</span> &lt;&lt; <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt;  <span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;

    <a class="code" href="classTreeManagement.html#a94da3b6fb651db64adc4046e3151625f" title="send a message to my parent to release me from his children-list">sendChildReleaseCall</a>();

    <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a> = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae60095626912c9b084162af1592d6d19"></a><!-- doxytag: member="TreeManagement::removeTreeChild" ref="ae60095626912c9b084162af1592d6d19" args="(const TransportAddress &amp;childToRemove)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::removeTreeChild </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>childToRemove</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>remove child from list </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a></td><td>handle to childNode </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00471">471</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00450">handleChildReleaseRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.empty()) <span class="keywordflow">return</span>;

    <span class="comment">//debugChildren();</span>

    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.find(childToRemove) != <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end()) {
        <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.erase(childToRemove);
    }

    <span class="comment">//debugChildren();</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a94da3b6fb651db64adc4046e3151625f"></a><!-- doxytag: member="TreeManagement::sendChildReleaseCall" ref="a94da3b6fb651db64adc4046e3151625f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::sendChildReleaseCall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>send a message to my parent to release me from his children-list </p>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00272">272</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00255">removeParentConnection()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classChildReleaseCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ChildReleaseCall</a>* childReleaseRequest = <span class="keyword">new</span> <a class="code" href="classChildReleaseCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">ChildReleaseCall</a>(<span class="stringliteral">&quot;ChildRelease&quot;</span>);
    simtime_t timeout = -1;

    childReleaseRequest-&gt;setBitLength(<a class="code" href="TreeManagementMessage__m_8h.html#ac8c7ed7adddfdb10ad600b8bfc19d346">CHILDRELEASECALL_L</a>(childReleaseRequest));

    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>()) {
        <a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>]++;
        <a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>] +=  childReleaseRequest-&gt;getByteLength();
    }

    <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4" title="Return the component type of this module.">getThisCompType</a>(),
                                    <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>,
                                    childReleaseRequest,
                                    NULL,<a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>,
                                    timeout, 0, -1, this
    );
}
</pre></div>
</div>
</div>
<a class="anchor" id="aca91cfe88405942601f17b55c64f254a"></a><!-- doxytag: member="TreeManagement::sendMessageToChildren" ref="aca91cfe88405942601f17b55c64f254a" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::sendMessageToChildren </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00662">662</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">GlobalViewBuilder::handleCoordinateRpcCall()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">GlobalViewBuilder::spreadGlobalView()</a>.</p>
<div class="fragment"><pre class="fragment">{
    simtime_t timeout = -1;

    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>()) {
        <a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>]++;
        <a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>] +=  msg-&gt;getByteLength();
    }

    treeNodeMap::const_iterator nodeMapIterator = <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.begin();
    <span class="keywordflow">while</span>(nodeMapIterator != <a class="code" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">treeChildNodes</a>.end()) {
        <span class="comment">/*</span>
<span class="comment">        neighborCache-&gt;sendRouteRpcCall(neighborCache-&gt;getThisCompType(),</span>
<span class="comment">                                        (*nodeMapIterator).second.node.getKey(),</span>
<span class="comment">                                        msg-&gt;dup(),</span>
<span class="comment">                                        NULL,DEFAULT_ROUTING,</span>
<span class="comment">                                        timeout, 0, -1, this);</span>
<span class="comment">        */</span>
        <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4" title="Return the component type of this module.">getThisCompType</a>(),
                                        (*nodeMapIterator).second.node,
                                        msg-&gt;<a class="code" href="classBaseCallMessage.html#a2e1b28efce2f3b0b45c6b101b9515704">dup</a>(),
                                        NULL,<a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>,
                                        timeout, 0, -1, <span class="keyword">this</span>);
        ++nodeMapIterator;
    }

    <span class="keyword">delete</span> msg;
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0f27e1436b5db404e2329d43bc577e60"></a><!-- doxytag: member="TreeManagement::sendMessageToParent" ref="a0f27e1436b5db404e2329d43bc577e60" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TreeManagement::sendMessageToParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>send a message to the parent </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td><a class="el" href="classBaseCallMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseCallMessage</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00634">634</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) {
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>()) {
        <a class="code" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">numTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>]++;
        <a class="code" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">bytesTMSent</a>[<a class="code" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd" title="Current TreeLevel of this node - calculated by getResponsibleDomainKey.">currentTreeLevel</a>] +=  msg-&gt;getByteLength();
    }

    <span class="comment">/*</span>
<span class="comment">    // send to key</span>
<span class="comment">    neighborCache-&gt;sendRouteRpcCall(neighborCache-&gt;getThisCompType(),</span>
<span class="comment">                                    treeDomainKey,</span>
<span class="comment">                                    msg, NULL, DEFAULT_ROUTING,</span>
<span class="comment">                                    -1 , 0, -1, this);</span>
<span class="comment">    */</span>

    <span class="comment">// send directly</span>
    <a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4" title="Return the component type of this module.">getThisCompType</a>(),
                                    <a class="code" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">parentNode</a>, msg, NULL, <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>,
                                    -1 , 0, -1, <span class="keyword">this</span>);

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc6f93b4af76efcd31a605b77789421d"></a><!-- doxytag: member="TreeManagement::startTreeBuilding" ref="adc6f93b4af76efcd31a605b77789421d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::startTreeBuilding </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8cc_source.html#l00416">416</a> of file <a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>, and <a class="el" href="NeighborCache_8cc_source.html#l00658">NeighborCache::handleReadyMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classTreeManagement.html#a9c3a357541b5abd66f005df8f3b525c6">cleanup</a>();
    <a class="code" href="classTreeManagement.html#ab63a46fb93d9225b4ce80385d3fd36da">handleTimerEvent</a>(<a class="code" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">treeBuildTimer</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac1549b5851d20edde9fb7c94f900c535"></a><!-- doxytag: member="TreeManagement::visualizeTreeLinkToNode" ref="ac1549b5851d20edde9fb7c94f900c535" args="(const NodeHandle &amp;treeNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TreeManagement::visualizeTreeLinkToNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>treeNode</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a0653d3639aefbacff26cd37b256b7536"></a><!-- doxytag: member="TreeManagement::bytesTMReceived" ref="a0653d3639aefbacff26cd37b256b7536" args="[MAXTREELEVEL]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classTreeManagement.html#a0653d3639aefbacff26cd37b256b7536">TreeManagement::bytesTMReceived</a>[MAXTREELEVEL]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00175">175</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00728">finishTreeManagement()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00114">handleRpcResponse()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a92cd3dc004368b28372675ea453ff63e"></a><!-- doxytag: member="TreeManagement::bytesTMSent" ref="a92cd3dc004368b28372675ea453ff63e" args="[MAXTREELEVEL]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classTreeManagement.html#a92cd3dc004368b28372675ea453ff63e">TreeManagement::bytesTMSent</a>[MAXTREELEVEL]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00174">174</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00728">finishTreeManagement()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">registerAtParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">sendChildReleaseCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00662">sendMessageToChildren()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00634">sendMessageToParent()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ba5a471ddd412ed3b061d9b9fbe7e17"></a><!-- doxytag: member="TreeManagement::creationTime" ref="a2ba5a471ddd412ed3b061d9b9fbe7e17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classTreeManagement.html#a2ba5a471ddd412ed3b061d9b9fbe7e17">TreeManagement::creationTime</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00177">177</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00728">finishTreeManagement()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>.</p>

</div>
</div>
<a class="anchor" id="afbfd6b867df71c1f0476a009465065dd"></a><!-- doxytag: member="TreeManagement::currentTreeLevel" ref="afbfd6b867df71c1f0476a009465065dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classTreeManagement.html#afbfd6b867df71c1f0476a009465065dd">TreeManagement::currentTreeLevel</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current TreeLevel of this node - calculated by getResponsibleDomainKey. </p>

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00170">170</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00722">getCurrentTreeLevel()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00587">getResponsibleDomainKey()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00114">handleRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">registerAtParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">sendChildReleaseCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00662">sendMessageToChildren()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00634">sendMessageToParent()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00038">TreeManagement()</a>.</p>

</div>
</div>
<a class="anchor" id="ab31009abb8d73255042bd67927684335"></a><!-- doxytag: member="TreeManagement::deviation" ref="ab31009abb8d73255042bd67927684335" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classTreeManagement.html#ab31009abb8d73255042bd67927684335">TreeManagement::deviation</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00070">70</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00082">handleTimerEvent()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f1deabdd1399eaadb56ab3a688f7c0d"></a><!-- doxytag: member="TreeManagement::globalNodeList" ref="a8f1deabdd1399eaadb56ab3a688f7c0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalNodeList.html">GlobalNodeList</a>* <a class="el" href="classTreeManagement.html#a8f1deabdd1399eaadb56ab3a688f7c0d">TreeManagement::globalNodeList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00059">59</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00038">TreeManagement()</a>.</p>

</div>
</div>
<a class="anchor" id="a703fbb8d8d4f626d141b0532b99286e1"></a><!-- doxytag: member="TreeManagement::msgClients" ref="a703fbb8d8d4f626d141b0532b99286e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTreeManagement.html#a440034a312d99aba79a8b8f584d352ad">msgClientMap</a> <a class="el" href="classTreeManagement.html#a703fbb8d8d4f626d141b0532b99286e1">TreeManagement::msgClients</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00079">79</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00545">addChildNode()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00705">addMsgClient()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00511">handleParentRequestRpcResponse()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00714">removeMsgClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a64d237e4b26078ec87829dbcf84b6fa1"></a><!-- doxytag: member="TreeManagement::neighborCache" ref="a64d237e4b26078ec87829dbcf84b6fa1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNeighborCache.html">NeighborCache</a>* <a class="el" href="classTreeManagement.html#a64d237e4b26078ec87829dbcf84b6fa1">TreeManagement::neighborCache</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00060">60</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00332">checkParentValid()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00293">checkTreeChildNodes()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00728">finishTreeManagement()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00459">handleChildCheckRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00484">handleParentRequestRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00511">handleParentRequestRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00114">handleRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00082">handleTimerEvent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">registerAtParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">sendChildReleaseCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00662">sendMessageToChildren()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00634">sendMessageToParent()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00046">~TreeManagement()</a>.</p>

</div>
</div>
<a class="anchor" id="a5d3a0eaa0012dc71ae612652d75b90c7"></a><!-- doxytag: member="TreeManagement::numTMReceived" ref="a5d3a0eaa0012dc71ae612652d75b90c7" args="[MAXTREELEVEL]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classTreeManagement.html#a5d3a0eaa0012dc71ae612652d75b90c7">TreeManagement::numTMReceived</a>[MAXTREELEVEL]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00173">173</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00728">finishTreeManagement()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00097">handleRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00114">handleRpcResponse()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab13067697ff4c43bfa60bb94abdea854"></a><!-- doxytag: member="TreeManagement::numTMSent" ref="ab13067697ff4c43bfa60bb94abdea854" args="[MAXTREELEVEL]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classTreeManagement.html#ab13067697ff4c43bfa60bb94abdea854">TreeManagement::numTMSent</a>[MAXTREELEVEL]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00172">172</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00728">finishTreeManagement()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">registerAtParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">sendChildReleaseCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00662">sendMessageToChildren()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00634">sendMessageToParent()</a>.</p>

</div>
</div>
<a class="anchor" id="a328f8ccf8827a8a8ab4483542bab5cd1"></a><!-- doxytag: member="TreeManagement::overlay" ref="a328f8ccf8827a8a8ab4483542bab5cd1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseOverlay.html">BaseOverlay</a>* <a class="el" href="classTreeManagement.html#a328f8ccf8827a8a8ab4483542bab5cd1">TreeManagement::overlay</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00061">61</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00545">addChildNode()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00332">checkParentValid()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00240">connectToParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00565">debugChildren()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00587">getResponsibleDomainKey()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00484">handleParentRequestRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00511">handleParentRequestRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00394">isRoot()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00255">removeParentConnection()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1bbf5fd79d8e4f1989cf27625ab3285"></a><!-- doxytag: member="TreeManagement::parentNode" ref="ab1bbf5fd79d8e4f1989cf27625ab3285" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNodeHandle.html">NodeHandle</a> <a class="el" href="classTreeManagement.html#ab1bbf5fd79d8e4f1989cf27625ab3285">TreeManagement::parentNode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00062">62</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00332">checkParentValid()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00051">cleanup()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00693">getParentNode()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00459">handleChildCheckRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00511">handleParentRequestRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00409">isParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00394">isRoot()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00255">removeParentConnection()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">sendChildReleaseCall()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00634">sendMessageToParent()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2530bdf87b5cd2dc2b136bfe1e81f68"></a><!-- doxytag: member="TreeManagement::timeOutInSeconds" ref="ad2530bdf87b5cd2dc2b136bfe1e81f68" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classTreeManagement.html#ad2530bdf87b5cd2dc2b136bfe1e81f68">TreeManagement::timeOutInSeconds</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00071">71</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00293">checkTreeChildNodes()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a37ac7434576f7452a9078498202e8571"></a><!-- doxytag: member="TreeManagement::treeBuildTimer" ref="a37ac7434576f7452a9078498202e8571" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classTreeManagement.html#a37ac7434576f7452a9078498202e8571">TreeManagement::treeBuildTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00067">67</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00082">handleTimerEvent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00416">startTreeBuilding()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00038">TreeManagement()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00046">~TreeManagement()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ea5dde2f6a8f0ed41807021428d68a7"></a><!-- doxytag: member="TreeManagement::treeChildNodes" ref="a3ea5dde2f6a8f0ed41807021428d68a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="TreeManagement_8h.html#ae5fdca572efd0610e98a2d32d96f6f73">treeNodeMap</a> <a class="el" href="classTreeManagement.html#a3ea5dde2f6a8f0ed41807021428d68a7">TreeManagement::treeChildNodes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00065">65</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00545">addChildNode()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00293">checkTreeChildNodes()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00051">cleanup()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00565">debugChildren()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00699">getChildNodes()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00312">handleChildCheckRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00403">isChild()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00471">removeTreeChild()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00662">sendMessageToChildren()</a>.</p>

</div>
</div>
<a class="anchor" id="acb78af942edf539cca5828752a8ffc02"></a><!-- doxytag: member="TreeManagement::treeDomainKey" ref="acb78af942edf539cca5828752a8ffc02" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> <a class="el" href="classTreeManagement.html#acb78af942edf539cca5828752a8ffc02">TreeManagement::treeDomainKey</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00063">63</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00332">checkParentValid()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00051">cleanup()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">handleRpcTimeout()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00382">isTreeDomainKeyValid()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">registerAtParent()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00038">TreeManagement()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f731531c9d13b5c65e14d86f18677dc"></a><!-- doxytag: member="TreeManagement::treeMgmtBuildInterval" ref="a8f731531c9d13b5c65e14d86f18677dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classTreeManagement.html#a8f731531c9d13b5c65e14d86f18677dc">TreeManagement::treeMgmtBuildInterval</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TreeManagement_8h_source.html#l00069">69</a> of file <a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00082">handleTimerEvent()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00059">init()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TreeManagement_8h_source.html">TreeManagement.h</a></li>
<li><a class="el" href="TreeManagement_8cc_source.html">TreeManagement.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classTreeManagement.html">TreeManagement</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:07:04 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
