<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: oversim::Koorde Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classoversim_1_1Koorde.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">oversim::Koorde Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="oversim::Koorde" --><!-- doxytag: inherits="oversim::Chord" -->
<p><a class="el" href="classoversim_1_1Koorde.html" title="Koorde overlay module.">Koorde</a> overlay module.  
 <a href="classoversim_1_1Koorde.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Koorde_8h_source.html">Koorde.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for oversim::Koorde:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classoversim_1_1Koorde.png" usemap="#oversim::Koorde_map" alt=""/>
  <map id="oversim::Koorde_map" name="oversim::Koorde_map">
<area href="classoversim_1_1Chord.html" title="Chord overlay module." alt="oversim::Chord" shape="rect" coords="172,168,277,192"/>
<area href="classBaseOverlay.html" title="Base class for overlays." alt="BaseOverlay" shape="rect" coords="115,112,220,136"/>
<area href="classProxListener.html" alt="ProxListener" shape="rect" coords="230,112,335,136"/>
<area href="classBaseRpc.html" title="Base class for RPCs." alt="BaseRpc" shape="rect" coords="0,56,105,80"/>
<area href="classBaseTcpSupport.html" alt="BaseTcpSupport" shape="rect" coords="115,56,220,80"/>
<area href="classTopologyVis.html" alt="TopologyVis" shape="rect" coords="230,56,335,80"/>
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="0,0,105,24"/>
</map>
 </div></div>

<p><a href="classoversim_1_1Koorde-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#af6a856110e11c606c8eb25897c1850f0">~Koorde</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a3b281279cbf37344659bf3f9ff732d8f">initializeOverlay</a> (int stage)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes derived-class-attributes.  <a href="#a3b281279cbf37344659bf3f9ff732d8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ad57f65c954b86e89a31166764f616a87">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a98fb65a513aa6274415a4638449201ad">handleUDPMessage</a> (<a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes messages from underlay.  <a href="#a98fb65a513aa6274415a4638449201ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a01b7b96e8645ae25ef00bc04355b9f10">recordOverlaySentStats</a> (<a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect overlay specific sent messages statistics.  <a href="#a01b7b96e8645ae25ef00bc04355b9f10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a11bccef58fe7f9eae778645d38c95451">finishOverlay</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">collects statistical data in derived class  <a href="#a11bccef58fe7f9eae778645d38c95451"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a31184338bec30e0d3197e8797c3bbe66">updateTooltip</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">updates information shown in tk-environment  <a href="#a31184338bec30e0d3197e8797c3bbe66"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#af1b93f951fa47e64698a4e021186a29c">changeState</a> (int <a class="el" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">changes node state  <a href="#af1b93f951fa47e64698a4e021186a29c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ac33a2bad62d8190887facb060c0d88df">handleDeBruijnTimerExpired</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handle an expired de bruijn timer  <a href="#ac33a2bad62d8190887facb060c0d88df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a604ffcffd116be18c44e7bc42e6bf7f8">handleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handle an expired fix_fingers timer (dummy function)  <a href="#a604ffcffd116be18c44e7bc42e6bf7f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#acbd731af5663833f47af380ccb7b350b">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC response has been received.  <a href="#acbd731af5663833f47af380ccb7b350b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a303e6b506fc60bc72bfc615c315c9eb0">handleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC timeout has been reached.  <a href="#a303e6b506fc60bc72bfc615c315c9eb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#abe83f9b8b3242e6a328c9d164da69a92">handleRpcJoinResponse</a> (<a class="el" href="classJoinResponse.html">JoinResponse</a> *joinResponse)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handle a received JOIN response  <a href="#abe83f9b8b3242e6a328c9d164da69a92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a699c8ee1fba09f14187eb5469e5612e1">handleRpcDeBruijnRequest</a> (<a class="el" href="classDeBruijnCall.html">DeBruijnCall</a> *deBruinCall)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handle a received DEBRUIJN request  <a href="#a699c8ee1fba09f14187eb5469e5612e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a973e05898945347be96135510a680214">handleRpcDeBruijnResponse</a> (<a class="el" href="classDeBruijnResponse.html">DeBruijnResponse</a> *deBruijnResponse)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handle a received DEBRUIJN response  <a href="#a973e05898945347be96135510a680214"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a29cd9890f7a4b2185908b4e3200800ac">handleDeBruijnTimeout</a> (<a class="el" href="classDeBruijnCall.html">DeBruijnCall</a> *deBruijnCall)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handle a DEBRUIJN timeout  <a href="#a29cd9890f7a4b2185908b4e3200800ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classNodeHandle.html">NodeHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#acc6c1e70acc862fe8657b745d3eb25e2">findDeBruijnHop</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, <a class="el" href="classKoordeFindNodeExtMessage.html">KoordeFindNodeExtMessage</a> *findNodeExt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the <a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> of the next hop to destination key using the de Bruijn list  <a href="#acc6c1e70acc862fe8657b745d3eb25e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a0b50911a5d0a1bbb4dc277d6854e9a7c">findNode</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key, int numRedundantNodes, int numSiblings, <a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the find node call.  <a href="#a0b50911a5d0a1bbb4dc277d6854e9a7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classOverlayKey.html">OverlayKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a5a6d2b6004307afc0027faddedef986f">findStartKey</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;startKey, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;endKey, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, int &amp;step)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">find a "good" routing key to destKey between startingKey and endKey with the longest matching prefix possible  <a href="#a5a6d2b6004307afc0027faddedef986f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a491c06fd0ac8609af118931126cdde13">walkDeBruijnList</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a key the function checks if the key falls between two nodes in the de Bruijn list.  <a href="#a491c06fd0ac8609af118931126cdde13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a30fb9378aa319544dcd20190d65cef8b">walkSuccessorList</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a key the function checks if the key falls between two nodes in the de successor list.  <a href="#a30fb9378aa319544dcd20190d65cef8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ac783aeb95d5d49ee606da244f2595779">handleFailedNode</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;failed)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a failed node.  <a href="#ac783aeb95d5d49ee606da244f2595779"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#acb2ec023b312208cc9e25d94de48e10a">rpcJoin</a> (<a class="el" href="classJoinCall.html">JoinCall</a> *call)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Join Remote-Procedure-Call.  <a href="#acb2ec023b312208cc9e25d94de48e10a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#af93efbf0629a9d7769fb553503e05005">findFriendModules</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns the finger table and successor list module to our reference.  <a href="#af93efbf0629a9d7769fb553503e05005"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#af5478856d0a17eaff0c3aa7c625ee2bd">initializeFriendModules</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes finger table and successor list  <a href="#af5478856d0a17eaff0c3aa7c625ee2bd"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ab69793269561a3daef5e0699214c92f2">deBruijnDelay</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of seconds between two de bruijn calls  <a href="#ab69793269561a3daef5e0699214c92f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f">deBruijnNumber</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of current nodes in de bruijn list; depend on number of nodes in successor list  <a href="#ad8850fadd7c3d4b86e8b42e2547c992f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee">deBruijnListSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maximal number of nodes in de bruijn list  <a href="#ae079e3bd8782fe05bdc748a07283a1ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db">shiftingBits</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of bits concurrently shifted in one routing step  <a href="#ad3f6771f97eac9ffb1d5951663d720db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#aa6358d0ff4ee45fb4bb4af918ac46b56">useOtherLookup</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">flag which is indicating that the optimization other lookup is enabled  <a href="#aa6358d0ff4ee45fb4bb4af918ac46b56"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a415b6b2ba86e8aa00737ebc37407e4c4">useSucList</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">flag which is indicating that the optimization using the successorlist is enabled  <a href="#a415b6b2ba86e8aa00737ebc37407e4c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb">breakLookup</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">flag is used during the recursive step when returning this node  <a href="#afbe4d38039f56c6f93cbb9709b11ffeb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a">setupDeBruijnBeforeJoin</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">if true, first setup the de bruijn node using the bootstrap node and than join the ring  <a href="#a3d349ecb9d582ad6baf81aef464e1e4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#ae8e953d1b3e48f2094b72a879b39a460">setupDeBruijnAtJoin</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">if true, join the ring and setup the de bruijn node using the bootstrap node in parallel  <a href="#ae8e953d1b3e48f2094b72a879b39a460"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#aed7e4c0a3809e24574a8665cdfb1272a">deBruijnCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of de bruijn calls  <a href="#aed7e4c0a3809e24574a8665cdfb1272a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a41b1f9ebf763bad10cfb4ff361585c30">deBruijnBytesSent</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of bytes sent during de bruijn calls  <a href="#a41b1f9ebf763bad10cfb4ff361585c30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNodeHandle.html">NodeHandle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6">deBruijnNodes</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">List of de Bruijn nodes.  <a href="#a2369f4b8f09179f6e070e4a0863e6cc6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNodeHandle.html">NodeHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba">deBruijnNode</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle to our de Bruijn node.  <a href="#a0400e8af965d376f74d83322d78d3fba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978">deBruijn_timer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">timer for periodic de bruijn stabilization  <a href="#aaf963dd99d12ac42742624c1f7eda978"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classoversim_1_1Koorde.html" title="Koorde overlay module.">Koorde</a> overlay module. </p>
<p>Implementation of the <a class="el" href="classoversim_1_1Koorde.html" title="Koorde overlay module.">Koorde</a> KBR overlay as described in "Koorde: A simple degree-optimal distributed hash table" by M. Kaashoek and D. Karger</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Jochen Schenk </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classoversim_1_1Chord.html" title="Chord overlay module.">Chord</a>, <a class="el" href="classoversim_1_1ChordSuccessorList.html" title="Chord&#39;s successor list module.">ChordSuccessorList</a> </dd></dl>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00050">50</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af6a856110e11c606c8eb25897c1850f0"></a><!-- doxytag: member="oversim::Koorde::~Koorde" ref="af6a856110e11c606c8eb25897c1850f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">oversim::Koorde::~Koorde </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00074">74</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    cancelAndDelete(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af1b93f951fa47e64698a4e021186a29c"></a><!-- doxytag: member="oversim::Koorde::changeState" ref="af1b93f951fa47e64698a4e021186a29c" args="(int state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::changeState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>changes node state </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>state to change to </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#acd8535c47e747c57ef5e02454f7ae0b7">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00079">79</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#af1b93f951fa47e64698a4e021186a29c" title="changes node state">Chord::changeState</a>(toState);

    <span class="keywordflow">switch</span>(<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a>) {
    <span class="keywordflow">case</span> <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa4c1b397f6c4682baf7db280e7f15520a">INIT</a>:
        <span class="comment">// init de Bruijn nodes</span>
        <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a> = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;

        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>; i++) {
            <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i] = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
        }

        <a class="code" href="classoversim_1_1Koorde.html#a31184338bec30e0d3197e8797c3bbe66" title="updates information shown in tk-environment">updateTooltip</a>();
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>:
        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a" title="if true, first setup the de bruijn node using the bootstrap node and than join the ring...">setupDeBruijnBeforeJoin</a>) {
            <span class="comment">// setup de bruijn node before joining the ring</span>
            cancelEvent(<a class="code" href="classoversim_1_1Chord.html#afbcfe6c86c560ee376cf17cec0d6173a">join_timer</a>);
            cancelEvent(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
            scheduleAt(simTime(), <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#ae8e953d1b3e48f2094b72a879b39a460" title="if true, join the ring and setup the de bruijn node using the bootstrap node in parallel">setupDeBruijnAtJoin</a>) {
            cancelEvent(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
            scheduleAt(simTime(), <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
        }
        <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>:
        <span class="comment">// init de Bruijn Protocol</span>
        cancelEvent(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
        scheduleAt(simTime(), <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);

        <span class="comment">// since we don&#39;t need the fixfingers protocol in Koorde cancel timer</span>
        cancelEvent(<a class="code" href="classoversim_1_1Chord.html#afef54e9c50b0dffb655e358d6c48f306">fixfingers_timer</a>);
        <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
        <span class="keywordflow">break</span>;
    }

}
</pre></div>
</div>
</div>
<a class="anchor" id="acc6c1e70acc862fe8657b745d3eb25e2"></a><!-- doxytag: member="oversim::Koorde::findDeBruijnHop" ref="acc6c1e70acc862fe8657b745d3eb25e2" args="(const OverlayKey &amp;destKey, KoordeFindNodeExtMessage *findNodeExt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNodeHandle.html">NodeHandle</a> oversim::Koorde::findDeBruijnHop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classKoordeFindNodeExtMessage.html">KoordeFindNodeExtMessage</a> *&#160;</td>
          <td class="paramname"><em>findNodeExt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns the <a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> of the next hop to destination key using the de Bruijn list </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">destKey</td><td>The destination key </td></tr>
    <tr><td class="paramname">findNodeExt</td><td>The FindNodeExtensionMessage </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>next hop to destination key </dd></dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00473">473</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>().<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) {
        <span class="keywordflow">if</span> (!<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            <span class="keywordtype">int</span> step;
            findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#aeb894264eab91506f5b14429cb24510a">setRouteKey</a>(<a class="code" href="classoversim_1_1Koorde.html#a5a6d2b6004307afc0027faddedef986f" title="find a &quot;good&quot; routing key to destKey between startingKey and endKey with the longest matching prefix ...">findStartKey</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                              <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor().getKey(), destKey,
                              step));
            findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a5de2bd74cb48cec03ce04bf25023e4ac">setStep</a>(step);
        } <span class="keywordflow">else</span> {
            <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a> = <span class="keyword">true</span>;
            <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor();
        }
    }

    <span class="comment">// check if the route key falls in our responsibility or</span>
    <span class="comment">// else forward the message to our successor</span>
    <span class="keywordflow">if</span> (findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>().<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
        <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor().getKey())) {
        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#ab5b3fd2f2492f8f330f5ef9c631d3a71">getStep</a>() &gt; destKey.<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">getLength</a>())
            <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;Koorde::findDeBruijnHop - Bounding error: &quot;</span>
                  <span class="stringliteral">&quot;trying to get non existing bit out of overlay key!&quot;</span>);

        <span class="comment">// update the route key</span>
        <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> add = <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>(destKey.<a class="code" href="classOverlayKey.html#abf5c47662357fb4f01de9a7a93523308">getBit</a>(destKey.<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">getLength</a>() -
                                                   findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#ab5b3fd2f2492f8f330f5ef9c631d3a71">getStep</a>()));
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a>; i++) {
            add = (add &lt;&lt; 1) + <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>(destKey.<a class="code" href="classOverlayKey.html#abf5c47662357fb4f01de9a7a93523308">getBit</a>(destKey.<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">getLength</a>() -
                                          findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#ab5b3fd2f2492f8f330f5ef9c631d3a71">getStep</a>() - i));
        }

        <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> routeKey = (findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>()&lt;&lt;<a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a>) + add;
        findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#aeb894264eab91506f5b14429cb24510a">setRouteKey</a>(routeKey);
        findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a5de2bd74cb48cec03ce04bf25023e4ac">setStep</a>(findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#ab5b3fd2f2492f8f330f5ef9c631d3a71">getStep</a>() + <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a>);

        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a> = <span class="keyword">true</span>;
            <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a415b6b2ba86e8aa00737ebc37407e4c4" title="flag which is indicating that the optimization using the successorlist is enabled">useSucList</a>)
                <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a30fb9378aa319544dcd20190d65cef8b" title="Given a key the function checks if the key falls between two nodes in the de successor list...">walkSuccessorList</a>(findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>());
            <span class="keywordflow">else</span>
                <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor();
        }

        <span class="comment">// check if the new route key falls between our</span>
        <span class="comment">// de Bruijn node and its successor</span>
        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> &gt; 0) {
            <span class="keywordflow">if</span> (findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>().<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                                      <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[0].<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>())) {
                <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>;
            } <span class="keywordflow">else</span> {
                <span class="comment">// otherwise check if the route key falls between</span>
                <span class="comment">// our de Bruijn successors</span>
                <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> nextHop = <a class="code" href="classoversim_1_1Koorde.html#a491c06fd0ac8609af118931126cdde13" title="Given a key the function checks if the key falls between two nodes in the de Bruijn list...">walkDeBruijnList</a>(findNodeExt-&gt;
                                                      getRouteKey());
                <span class="keywordflow">return</span> nextHop;
            }
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>;
        }
    } <span class="keywordflow">else</span> {
        <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a> = <span class="keyword">true</span>;
        <span class="comment">// if optimization is set search the successor list and</span>
        <span class="comment">// de bruijn node to find &quot;good&quot; next hop</span>
        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a415b6b2ba86e8aa00737ebc37407e4c4" title="flag which is indicating that the optimization using the successorlist is enabled">useSucList</a>) {
            <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
                <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a30fb9378aa319544dcd20190d65cef8b" title="Given a key the function checks if the key falls between two nodes in the de successor list...">walkSuccessorList</a>(findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>());
            } <span class="keywordflow">else</span> {
                <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> tmpHandle =
                    <a class="code" href="classoversim_1_1Koorde.html#a30fb9378aa319544dcd20190d65cef8b" title="Given a key the function checks if the key falls between two nodes in the de successor list...">walkSuccessorList</a>(findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>());

                <span class="comment">// todo: optimization - check complete deBruijnList</span>
                <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#a4fa622c1f48d20712fe558b17f1187a5" title="Returns true, if this key is element of the interval (keyA, keyB) on the ring.">isBetween</a>(tmpHandle.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                               findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a6a3874f6cf9a35ebc66841abe87c7dfb">getRouteKey</a>())) {
                    <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>;
                } <span class="keywordflow">else</span> {
                    <span class="keywordflow">return</span> tmpHandle;
                }
            }
        } <span class="keywordflow">else</span>
            <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af93efbf0629a9d7769fb553503e05005"></a><!-- doxytag: member="oversim::Koorde::findFriendModules" ref="af93efbf0629a9d7769fb553503e05005" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::findFriendModules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assigns the finger table and successor list module to our reference. </p>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#acf1848528103f2bde93047c51d3fc411">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00764">764</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a> = check_and_cast&lt;<a class="code" href="classoversim_1_1Chord.html#aaf6a807771c72ff35f3843210c0a2d4e">ChordSuccessorList</a>*&gt;
                    (getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;successorList&quot;</span>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0b50911a5d0a1bbb4dc277d6854e9a7c"></a><!-- doxytag: member="oversim::Koorde::findNode" ref="a0b50911a5d0a1bbb4dc277d6854e9a7c" args="(const OverlayKey &amp;key, int numRedundantNodes, int numSiblings, BaseOverlayMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a> * oversim::Koorde::findNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRedundantNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSiblings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements the find node call. </p>
<p>This method simply returns the closest nodes known in the corresponding routing topology. If the node is a sibling for this key (isSiblingFor(key) = true), this method returns all numSiblings siblings, with the closest neighbor to the key first.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The lookup key. </td></tr>
    <tr><td class="paramname">numRedundantNodes</td><td>Maximum number of next hop nodes to return. </td></tr>
    <tr><td class="paramname">numSiblings</td><td>number of siblings to return </td></tr>
    <tr><td class="paramname">msg</td><td>A pointer to the <a class="el" href="classBaseRouteMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRouteMessage</a> or <a class="el" href="classFindNodeCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">FindNodeCall</a> message of this lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NodeVector with closest nodes. </dd></dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a4f5cc75c40ceedbfc4f41b215358bdea">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00405">405</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// TODO: return redundant nodes for iterative routing</span>
    <span class="comment">// TODO: try to always calculate optimal routing key (if e.g.</span>
    <span class="comment">//       the originator didn&#39;t have its deBruijnNode set already, the</span>
    <span class="comment">//       routing key may be very far away on the ring)</span>
    <a class="code" href="classBaseKeySortedVector.html">NodeVector</a>* nextHop = <span class="keyword">new</span> <a class="code" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a>();
    <a class="code" href="classKoordeFindNodeExtMessage.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">KoordeFindNodeExtMessage</a> *findNodeExt = NULL;

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> != <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>)
        <span class="keywordflow">return</span> nextHop;

    <span class="keywordflow">if</span> (msg != NULL) {
        <span class="keywordflow">if</span> (!msg-&gt;hasObject(<span class="stringliteral">&quot;findNodeExt&quot;</span>)) {
            findNodeExt = <span class="keyword">new</span> <a class="code" href="classKoordeFindNodeExtMessage.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">KoordeFindNodeExtMessage</a>(<span class="stringliteral">&quot;findNodeExt&quot;</span>);
            findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#aeb894264eab91506f5b14429cb24510a">setRouteKey</a>(<a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>);
            findNodeExt-&gt;<a class="code" href="classKoordeFindNodeExtMessage.html#a5de2bd74cb48cec03ce04bf25023e4ac">setStep</a>(1);
            findNodeExt-&gt;setBitLength(<a class="code" href="ChordMessage__m_8h.html#aa96567df9c417d5592f776defc6413c6">KOORDEFINDNODEEXTMESSAGE_L</a>);
            msg-&gt;addObject( findNodeExt );
        }

        findNodeExt = (<a class="code" href="classKoordeFindNodeExtMessage.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">KoordeFindNodeExtMessage</a>*) msg-&gt;getObject(<span class="stringliteral">&quot;findNodeExt&quot;</span>);
    }

    <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) {
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;Koorde::findNode() - direct Messaging is no longer in use.&quot;</span>);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(), <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>())) {
        <span class="comment">// the message is destined for this node</span>
        nextHop-&gt;push_back(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                              <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor().getKey())){
        <span class="comment">// the message destined for our successor</span>
        nextHop-&gt;push_back(<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor());
    } <span class="keywordflow">else</span> {
        <span class="comment">// if useOtherLookup is enabled we try to use</span>
        <span class="comment">// our successor list to get to the key</span>
        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#aa6358d0ff4ee45fb4bb4af918ac46b56" title="flag which is indicating that the optimization other lookup is enabled">useOtherLookup</a>) {
            <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> tmpNode = <a class="code" href="classoversim_1_1Koorde.html#a30fb9378aa319544dcd20190d65cef8b" title="Given a key the function checks if the key falls between two nodes in the de successor list...">walkSuccessorList</a>(key);
            <span class="keywordflow">if</span> (tmpNode !=
                  <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize() - 1)) {
                nextHop-&gt;push_back(tmpNode);
            } <span class="keywordflow">else</span> {
                <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> tmpHandle = <a class="code" href="classoversim_1_1Koorde.html#acc6c1e70acc862fe8657b745d3eb25e2" title="returns the NodeHandle of the next hop to destination key using the de Bruijn list">findDeBruijnHop</a>(key, findNodeExt);
                <span class="keywordflow">if</span> (tmpHandle != <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a> || <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a>) {
                    nextHop-&gt;push_back(tmpHandle);
                    <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a> = <span class="keyword">false</span>;
                } <span class="keywordflow">else</span> {
                    <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a0b50911a5d0a1bbb4dc277d6854e9a7c" title="Implements the find node call.">findNode</a>(key, numRedundantNodes, numSiblings, msg);
                }
            }
        } <span class="keywordflow">else</span> {
            <span class="comment">// find next hop using either the de Bruijn node and</span>
            <span class="comment">// its successors or our own successors</span>
            <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> tmpHandle = <a class="code" href="classoversim_1_1Koorde.html#acc6c1e70acc862fe8657b745d3eb25e2" title="returns the NodeHandle of the next hop to destination key using the de Bruijn list">findDeBruijnHop</a>(key, findNodeExt);
            <span class="keywordflow">if</span> (tmpHandle != <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a> || <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a>) {
                nextHop-&gt;push_back(tmpHandle);
                <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a> = <span class="keyword">false</span>;
            } <span class="keywordflow">else</span> {
                <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a0b50911a5d0a1bbb4dc277d6854e9a7c" title="Implements the find node call.">findNode</a>(key, numRedundantNodes, numSiblings, msg);
            }
        }
    }
    <span class="keywordflow">return</span> nextHop;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5a6d2b6004307afc0027faddedef986f"></a><!-- doxytag: member="oversim::Koorde::findStartKey" ref="a5a6d2b6004307afc0027faddedef986f" args="(const OverlayKey &amp;startKey, const OverlayKey &amp;endKey, const OverlayKey &amp;destKey, int &amp;step)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> oversim::Koorde::findStartKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>startKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>endKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>find a "good" routing key to destKey between startingKey and endKey with the longest matching prefix possible </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">startKey</td><td>begin of the (key) interval </td></tr>
    <tr><td class="paramname">endKey</td><td>end of the (key) interval </td></tr>
    <tr><td class="paramname">destKey</td><td>destination key - should be matched as good as possible </td></tr>
    <tr><td class="paramname">step</td><td>reference to return the bit position </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a "good" routing key to start from </dd></dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00664">664</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> diffKey, newStart, tmpDest, newKey, powKey;
    <span class="keywordtype">int</span> nBits;

    <span class="keywordflow">if</span> (startKey == endKey)
        <span class="keywordflow">return</span> startKey;

    diffKey = endKey - startKey;
    nBits = diffKey.<a class="code" href="classOverlayKey.html#a17623efad9f966e1150560debf01f6d8" title="Returns the position of the msb in this key, which represents just the logarithm to base 2...">log_2</a>();

    <span class="keywordflow">if</span> (nBits &lt; 0) {
        nBits = 0;
    }

    <span class="keywordflow">while</span> ((startKey.getLength() - nBits) % <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a> != 0) {
       nBits--;
   }

    step = nBits + 1;

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>    <span class="comment">// TODO: work in progress to find better start key</span>
    uint shared;
    <span class="keywordflow">for</span> (shared = 0; shared &lt; (startKey.getLength() - nBits); shared += <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a>) {
        <span class="keywordflow">if</span> (destKey.<a class="code" href="classOverlayKey.html#a0a44da45d3d52ce2ad76dad4e06a2888" title="Calculates the number of equal bits (digits) from the left with another Key (shared prefix length)...">sharedPrefixLength</a>(startKey &lt;&lt; shared) &gt;= (startKey.getLength() - nBits - shared)) {
             <span class="keywordflow">break</span>;
         }
    }

    uint nBits2 = startKey.getLength() - shared;

    newStart = (startKey &gt;&gt; nBits2) &lt;&lt; nBits2;

    tmpDest = destKey &gt;&gt; (destKey.<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">getLength</a>() - nBits2);
    newKey = tmpDest + newStart;

    std::cout &lt;&lt; <span class="stringliteral">&quot;startKey: &quot;</span> &lt;&lt; startKey.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(2) &lt;&lt; endl
              &lt;&lt; <span class="stringliteral">&quot;endKey  : &quot;</span> &lt;&lt; endKey.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(2) &lt;&lt; endl
              &lt;&lt; <span class="stringliteral">&quot;diff    : &quot;</span> &lt;&lt; (endKey-startKey).toString(2) &lt;&lt; endl
              &lt;&lt; <span class="stringliteral">&quot;newKey  : &quot;</span> &lt;&lt; newKey.toString(2) &lt;&lt; endl
              &lt;&lt; <span class="stringliteral">&quot;destKey : &quot;</span> &lt;&lt; destKey.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(2) &lt;&lt; endl
              &lt;&lt; <span class="stringliteral">&quot;nbits   : &quot;</span> &lt;&lt; nBits &lt;&lt; endl
              &lt;&lt; <span class="stringliteral">&quot;nbits2  : &quot;</span> &lt;&lt; nBits2 &lt;&lt; endl;

    <span class="comment">// is the new constructed route key bigger than our start key return it</span>
    <span class="keywordflow">if</span> (newKey.isBetweenR(startKey, endKey)) {
        std::cout &lt;&lt; <span class="stringliteral">&quot;HIT&quot;</span> &lt;&lt; endl;
        <span class="keywordflow">return</span> newKey;
    } <span class="keywordflow">else</span> {
        nBits2 -= <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a>;
        newStart = (startKey &gt;&gt; nBits2) &lt;&lt; nBits2;

        tmpDest = destKey &gt;&gt; (destKey.<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">getLength</a>() - nBits2);
        newKey = tmpDest + newStart;

        <span class="keywordflow">if</span> (newKey.isBetweenR(startKey, endKey)) {
            std::cout &lt;&lt; <span class="stringliteral">&quot;startKey: &quot;</span> &lt;&lt; startKey.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(2) &lt;&lt; endl
                      &lt;&lt; <span class="stringliteral">&quot;endKey  : &quot;</span> &lt;&lt; endKey.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(2) &lt;&lt; endl
                      &lt;&lt; <span class="stringliteral">&quot;diff    : &quot;</span> &lt;&lt; (endKey-startKey).toString(2) &lt;&lt; endl
                      &lt;&lt; <span class="stringliteral">&quot;newKey  : &quot;</span> &lt;&lt; newKey.toString(2) &lt;&lt; endl
                      &lt;&lt; <span class="stringliteral">&quot;destKey : &quot;</span> &lt;&lt; destKey.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(2) &lt;&lt; endl
                      &lt;&lt; <span class="stringliteral">&quot;nbits   : &quot;</span> &lt;&lt; nBits &lt;&lt; endl
                      &lt;&lt; <span class="stringliteral">&quot;nbits2  : &quot;</span> &lt;&lt; nBits2 &lt;&lt; endl;
            std::cout &lt;&lt; <span class="stringliteral">&quot;HIT2&quot;</span> &lt;&lt; endl;
            <span class="keywordflow">return</span> newKey;
        }
    }

    std::cout &lt;&lt; <span class="stringliteral">&quot;MISS&quot;</span> &lt;&lt; endl;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    newStart = (startKey &gt;&gt; nBits) &lt;&lt; nBits;

    tmpDest = destKey &gt;&gt; (destKey.<a class="code" href="classOverlayKey.html#af855a4dfc0e5dc0d2afc6b87fa1d7426" title="Returns the length in number of bits.">getLength</a>() - nBits);
    newKey = tmpDest + newStart;

    <span class="comment">// is the new constructed route key bigger than our start key return it</span>
    <span class="keywordflow">if</span> (newKey.isBetweenR(startKey, endKey)) {
        <span class="keywordflow">return</span> newKey;
    }

    <span class="comment">// If the part of the destination key smaller than the one of</span>
    <span class="comment">// the original key add pow(nBits) (this is the first bit where</span>
    <span class="comment">// the start key and end key differ) to the new constructed key</span>
    <span class="comment">// and check if it&#39;s between start and end key.</span>
    newKey += powKey.<a class="code" href="classOverlayKey.html#a1a28cc46fc9289c94401cfa5f492eac9" title="Returns a key 2^exponent.">pow2</a>(nBits);

    <span class="keywordflow">if</span> (newKey.isBetweenR(startKey, endKey)) {
        <span class="keywordflow">return</span> newKey;
    } <span class="keywordflow">else</span> {
        <span class="comment">// this part should not be called</span>
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Koorde::findStartKey(): Invalid start key&quot;</span>);
        <span class="keywordflow">return</span> <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a11bccef58fe7f9eae778645d38c95451"></a><!-- doxytag: member="oversim::Koorde::finishOverlay" ref="a11bccef58fe7f9eae778645d38c95451" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::finishOverlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>collects statistical data in derived class </p>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a17c0e05ef938b225dacecc6c9f03b1d0">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00626">626</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// statistics</span>
    simtime_t time = <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a610799ebfbf64696c59b811870cc8300">calcMeasuredLifetime</a>(<a class="code" href="classBaseOverlay.html#af0eebaddea732ee4ab4d247c388e62bd" title="simtime when the node has been created">creationTime</a>);

    <span class="keywordflow">if</span> (time &gt;= <a class="code" href="classGlobalStatistics.html#a169810c78519b271f7e32fdc7c9fc641" title="minimum useful measured lifetime in seconds">GlobalStatistics::MIN_MEASURED</a>) {
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Koorde: Sent DEBRUIJN Messages/s&quot;</span>,
                                    <a class="code" href="classoversim_1_1Koorde.html#aed7e4c0a3809e24574a8665cdfb1272a" title="number of de bruijn calls">deBruijnCount</a> / time);
        <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Koorde: Sent DEBRUIJN Bytes/s&quot;</span>,
                                    <a class="code" href="classoversim_1_1Koorde.html#a41b1f9ebf763bad10cfb4ff361585c30" title="number of bytes sent during de bruijn calls">deBruijnBytesSent</a> / time);
    }

    <a class="code" href="classoversim_1_1Koorde.html#a11bccef58fe7f9eae778645d38c95451" title="collects statistical data in derived class">Chord::finishOverlay</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a29cd9890f7a4b2185908b4e3200800ac"></a><!-- doxytag: member="oversim::Koorde::handleDeBruijnTimeout" ref="a29cd9890f7a4b2185908b4e3200800ac" args="(DeBruijnCall *deBruijnCall)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleDeBruijnTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDeBruijnCall.html">DeBruijnCall</a> *&#160;</td>
          <td class="paramname"><em>deBruijnCall</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handle a DEBRUIJN timeout </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">deBruijnCall</td><td>the message which timed out </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00392">392</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a" title="if true, first setup the de bruijn node using the bootstrap node and than join the ring...">setupDeBruijnBeforeJoin</a> &amp;&amp; (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>)) {
        <span class="comment">// failed to set initial de bruijn node</span>
        <span class="comment">// -&gt; get a new bootstrap node and try again</span>
        <a class="code" href="classoversim_1_1Koorde.html#af1b93f951fa47e64698a4e021186a29c" title="changes node state">changeState</a>(<a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>);
        <span class="keywordflow">return</span>;
    }

    cancelEvent(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
    scheduleAt(simTime(), <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac33a2bad62d8190887facb060c0d88df"></a><!-- doxytag: member="oversim::Koorde::handleDeBruijnTimerExpired" ref="ac33a2bad62d8190887facb060c0d88df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleDeBruijnTimerExpired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handle an expired de bruijn timer </p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00164">164</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> lookup = <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() &lt;&lt; <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a>;

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize() &gt; 0) {
            <span class="comment">// look for some nodes before our actual de-bruijn key</span>
            <span class="comment">// to have redundancy if our de-bruijn node fails</span>
            lookup -= (<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize() /
                                              2).getKey() - <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());
        }

        <span class="keywordflow">if</span> (lookup.<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                              <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor().getKey())
                || <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;isEmpty()) {

            <span class="keywordtype">int</span> sucNum = <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize();
            <span class="keywordflow">if</span> (sucNum &gt; <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>)
                sucNum = <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>;

            <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a> = <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>;
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; sucNum; i++) {
                <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i] = <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(i);
                <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> = i+1;
            }

            <a class="code" href="classoversim_1_1Koorde.html#a31184338bec30e0d3197e8797c3bbe66" title="updates information shown in tk-environment">updateTooltip</a>();
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lookup.<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                     <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>())) {
            <span class="keywordtype">int</span> sucNum = <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize();
            <span class="keywordflow">if</span> ((sucNum + 1) &gt; <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>)
                sucNum = <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a> - 1;

            <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a> = <a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>;
            <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[0] = <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>;
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; sucNum; i++) {
                <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i+1] = <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(i);
                <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> = i+2;
            }

            <a class="code" href="classoversim_1_1Koorde.html#a31184338bec30e0d3197e8797c3bbe66" title="updates information shown in tk-environment">updateTooltip</a>();
        } <span class="keywordflow">else</span> {
            <a class="code" href="classDeBruijnCall.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnCall</a>* call = <span class="keyword">new</span> <a class="code" href="classDeBruijnCall.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnCall</a>(<span class="stringliteral">&quot;DeBruijnCall&quot;</span>);
            call-&gt;<a class="code" href="classDeBruijnCall.html#a9b7356541a87f238ede3d676d7dfa8f3">setDestKey</a>(lookup);
            call-&gt;setBitLength(<a class="code" href="ChordMessage__m_8h.html#a6d4711cba890e02d29136cd0a27aa56e">DEBRUIJNCALL_L</a>(call));

            <a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ead1b904580b02f8adaa1ab2de239c4c79">OVERLAY_COMP</a>, <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>(<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>),
                             call-&gt;<a class="code" href="classDeBruijnCall.html#a9bfdb811d1975e7b7a71541777b1ea2e">getDestKey</a>(), call, NULL,
                             <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>);
        }

        cancelEvent(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
        scheduleAt(simTime() + <a class="code" href="classoversim_1_1Koorde.html#ab69793269561a3daef5e0699214c92f2" title="number of seconds between two de bruijn calls">deBruijnDelay</a>, <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a" title="if true, first setup the de bruijn node using the bootstrap node and than join the ring...">setupDeBruijnBeforeJoin</a> || <a class="code" href="classoversim_1_1Koorde.html#ae8e953d1b3e48f2094b72a879b39a460" title="if true, join the ring and setup the de bruijn node using the bootstrap node in parallel">setupDeBruijnAtJoin</a>) {
            <a class="code" href="classDeBruijnCall.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnCall</a>* call = <span class="keyword">new</span> <a class="code" href="classDeBruijnCall.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnCall</a>(<span class="stringliteral">&quot;DeBruijnCall&quot;</span>);
            call-&gt;<a class="code" href="classDeBruijnCall.html#a9b7356541a87f238ede3d676d7dfa8f3">setDestKey</a>(lookup);
            call-&gt;setBitLength(<a class="code" href="ChordMessage__m_8h.html#a6d4711cba890e02d29136cd0a27aa56e">DEBRUIJNCALL_L</a>(call));

            <a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ead1b904580b02f8adaa1ab2de239c4c79">OVERLAY_COMP</a>, <a class="code" href="classoversim_1_1Chord.html#a6850239a2f7b24e7cd8b7709ba579f7e" title="node used to bootstrap">bootstrapNode</a>, call-&gt;<a class="code" href="classDeBruijnCall.html#a9bfdb811d1975e7b7a71541777b1ea2e">getDestKey</a>(),
                             call, NULL, <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>);

            scheduleAt(simTime() + <a class="code" href="classoversim_1_1Koorde.html#ab69793269561a3daef5e0699214c92f2" title="number of seconds between two de bruijn calls">deBruijnDelay</a>, <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac783aeb95d5d49ee606da244f2595779"></a><!-- doxytag: member="oversim::Koorde::handleFailedNode" ref="ac783aeb95d5d49ee606da244f2595779" args="(const TransportAddress &amp;failed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool oversim::Koorde::handleFailedNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>failed</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles a failed node. </p>
<p>This method is called whenever a node given by <a class="el" href="classoversim_1_1Koorde.html#a0b50911a5d0a1bbb4dc277d6854e9a7c" title="Implements the find node call.">findNode()</a> was unreachable. The default implementation does nothing at all.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">failed</td><td>the failed node </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if lookup should retry here </dd></dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a306a76d59ba7c2b18b7a88975fe62886">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00130">130</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
        <span class="keywordflow">if</span> (failed == <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>) {
            <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a> = <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[0];
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> - 1; i++) {
                <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i] = <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i+1];
            }

            <span class="keywordflow">if</span> (deBruijnNumber &gt; 0) {
                <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[deBruijnNumber - 1] = <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
                --<a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a>;
            }
        } <span class="keywordflow">else</span> {
            <span class="keywordtype">bool</span> removed = <span class="keyword">false</span>;
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; deBruijnNumber - 1; i++) {
                <span class="keywordflow">if</span> ((!<a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i].isUnspecified()) &amp;&amp;
                        (failed == <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i])) {
                    removed = <span class="keyword">true</span>;
                }
                <span class="keywordflow">if</span> (removed ||
                        ((!<a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[deBruijnNumber - 1].isUnspecified())
                          &amp;&amp; failed == <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[deBruijnNumber - 1])) {
                    <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[deBruijnNumber - 1] =
                            <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;
                    --<a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a>;
                }
            }
        }
    }

    <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#ac783aeb95d5d49ee606da244f2595779" title="Handles a failed node.">Chord::handleFailedNode</a>(failed);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a604ffcffd116be18c44e7bc42e6bf7f8"></a><!-- doxytag: member="oversim::Koorde::handleRpcCall" ref="a604ffcffd116be18c44e7bc42e6bf7f8" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool oversim::Koorde::handleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handle an expired fix_fingers timer (dummy function) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the timer self-message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#aa5c60718325e0857581b1fa9773a8bd9">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00245">245</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        <span class="comment">// delegate messages</span>
        <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg )
        <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( DeBruijn, <a class="code" href="classoversim_1_1Koorde.html#a699c8ee1fba09f14187eb5469e5612e1" title="handle a received DEBRUIJN request">handleRpcDeBruijnRequest</a> );
        <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )

        if (<a class="code" href="RpcMacros_8h.html#aa5e964b7c7129c0943237a786e455e9a">RPC_HANDLED</a>) return true;
    } else {
        EV &lt;&lt; <span class="stringliteral">&quot;[Koorde::handleRpcCall() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Received RPC call and state != READY!&quot;</span>
           &lt;&lt; endl;
    }

    <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a604ffcffd116be18c44e7bc42e6bf7f8" title="handle an expired fix_fingers timer (dummy function)">Chord::handleRpcCall</a>(msg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a699c8ee1fba09f14187eb5469e5612e1"></a><!-- doxytag: member="oversim::Koorde::handleRpcDeBruijnRequest" ref="a699c8ee1fba09f14187eb5469e5612e1" args="(DeBruijnCall *deBruinCall)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleRpcDeBruijnRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDeBruijnCall.html">DeBruijnCall</a> *&#160;</td>
          <td class="paramname"><em>deBruinCall</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handle a received DEBRUIJN request </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">deBruinCall</td><td>the message to process </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00328">328</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// The key lies between thisNode and its predecessor and</span>
    <span class="comment">// because routing the message to the predecessor of a key</span>
    <span class="comment">// is near to impossible we set the deBruijnNodes here</span>
    <span class="comment">// and the information is as actual as the predecessor pointer.</span>
    <span class="comment">//</span>
    <span class="comment">// If this is the only node in the ring, it is the temporary de bruijn</span>
    <span class="comment">// node for the joining node.</span>
    <span class="keywordflow">if</span> ((<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() &amp;&amp; <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;isEmpty())
            || deBruijnCall-&gt;getDestKey().isBetweenR(<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                              <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>())) {
        <a class="code" href="classDeBruijnResponse.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnResponse</a>* deBruijnResponse =
            <span class="keyword">new</span> <a class="code" href="classDeBruijnResponse.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnResponse</a>(<span class="stringliteral">&quot;DeBruijnResponse&quot;</span>);

        <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#a940290862c18ea6ba5f9feb76bb9d40d">setDBNode</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
        } <span class="keywordflow">else</span> {
            deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#a940290862c18ea6ba5f9feb76bb9d40d">setDBNode</a>(<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a>);
        }

        <span class="keywordtype">int</span> sucNum = <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize() + 1;
        deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#af31fa8c09b26c750ec065337df38c336">setSucNum</a>(sucNum);
        deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#af9c10f5903af174878d89d598fc5f724">setSucNodeArraySize</a>(sucNum);

        deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#adf77cae0525141d3c87454194e4ed9db">setSucNode</a>(0, <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 1; k &lt; sucNum; k++) {
            deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#adf77cae0525141d3c87454194e4ed9db">setSucNode</a>(k, <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(k-1));
        }
        deBruijnResponse-&gt;setBitLength(<a class="code" href="ChordMessage__m_8h.html#a708cca2352cee0836e113f9d65680771">DEBRUIJNRESPONSE_L</a>(deBruijnResponse));

        <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(deBruijnCall, deBruijnResponse);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deBruijnCall-&gt;getDestKey().isBetweenR(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
               <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor().getKey())) {
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;Koorde::handleRpcDeBruijnRequest() - unknown error.&quot;</span>);
    } <span class="keywordflow">else</span> {
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;Koorde::handleRpcDeBruijnRequest() - &quot;</span>
              <span class="stringliteral">&quot;Request couldn&#39;t be delivered!&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a973e05898945347be96135510a680214"></a><!-- doxytag: member="oversim::Koorde::handleRpcDeBruijnResponse" ref="a973e05898945347be96135510a680214" args="(DeBruijnResponse *deBruijnResponse)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleRpcDeBruijnResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDeBruijnResponse.html">DeBruijnResponse</a> *&#160;</td>
          <td class="paramname"><em>deBruijnResponse</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handle a received DEBRUIJN response </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">deBruijnResponse</td><td>the message to process </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00369">369</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> sucNum = deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#aacdc24aa77e2acefe1201687bbe91865">getSucNum</a>();
    <span class="keywordflow">if</span> (sucNum &gt; <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>)
        sucNum = <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; sucNum; i++) {
        <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i] = deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#a406265abcc4db969c3460c2ae1282351">getSucNode</a>(i);
        <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> = i+1;
    }

    <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a> = deBruijnResponse-&gt;<a class="code" href="classDeBruijnResponse.html#a4306808c2278f76f1f25521bd7342b21">getDBNode</a>();

    <a class="code" href="classoversim_1_1Koorde.html#a31184338bec30e0d3197e8797c3bbe66" title="updates information shown in tk-environment">updateTooltip</a>();

    <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a" title="if true, first setup the de bruijn node using the bootstrap node and than join the ring...">setupDeBruijnBeforeJoin</a> &amp;&amp; (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>)) {
        <span class="comment">// now that we have a valid de bruijn node it&#39;s time to join the ring</span>
        <span class="keywordflow">if</span> (!<a class="code" href="classoversim_1_1Chord.html#afbcfe6c86c560ee376cf17cec0d6173a">join_timer</a>-&gt;isScheduled()) {
            scheduleAt(simTime(), <a class="code" href="classoversim_1_1Chord.html#afbcfe6c86c560ee376cf17cec0d6173a">join_timer</a>);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="abe83f9b8b3242e6a328c9d164da69a92"></a><!-- doxytag: member="oversim::Koorde::handleRpcJoinResponse" ref="abe83f9b8b3242e6a328c9d164da69a92" args="(JoinResponse *joinResponse)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleRpcJoinResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJoinResponse.html">JoinResponse</a> *&#160;</td>
          <td class="paramname"><em>joinResponse</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handle a received JOIN response </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">joinResponse</td><td>the message to process </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a13157fb06c6dd4a3fba20896afcf6b2e">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00304">304</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#abe83f9b8b3242e6a328c9d164da69a92" title="handle a received JOIN response">Chord::handleRpcJoinResponse</a>(joinResponse);

    <span class="comment">// has to be canceled in Koorde</span>
    cancelEvent(<a class="code" href="classoversim_1_1Chord.html#afef54e9c50b0dffb655e358d6c48f306">fixfingers_timer</a>);

    <span class="comment">// immediate deBruijn protocol</span>
    cancelEvent(<a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
    scheduleAt(simTime(), <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="acbd731af5663833f47af380ccb7b350b"></a><!-- doxytag: member="oversim::Koorde::handleRpcResponse" ref="acbd731af5663833f47af380ccb7b350b" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC response has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The response message. </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classoversim_1_1Koorde.html#acbd731af5663833f47af380ccb7b350b" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">rtt</td><td>The Round-Trip-Time of this RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a97ae31f4eb09194c59d69ad2250a58ae">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00264">264</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#acbd731af5663833f47af380ccb7b350b" title="This method is called if an RPC response has been received.">Chord::handleRpcResponse</a>(msg, context, rpcId, rtt);

    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg )
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( DeBruijn ) {
        <a class="code" href="classoversim_1_1Koorde.html#a973e05898945347be96135510a680214" title="handle a received DEBRUIJN response">handleRpcDeBruijnResponse</a>(_DeBruijnResponse);
        EV &lt;&lt; <span class="stringliteral">&quot;[Koorde::handleRpcResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    DeBruijn RPC Response received: id=&quot;</span> &lt;&lt; rpcId
           &lt;&lt; <span class="stringliteral">&quot;\n    msg=&quot;</span> &lt;&lt; *_DeBruijnResponse &lt;&lt; <span class="stringliteral">&quot; rtt=&quot;</span> &lt;&lt; rtt
           &lt;&lt; endl;
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div>
</div>
</div>
<a class="anchor" id="a303e6b506fc60bc72bfc615c315c9eb0"></a><!-- doxytag: member="oversim::Koorde::handleRpcTimeout" ref="a303e6b506fc60bc72bfc615c315c9eb0" args="(BaseCallMessage *msg, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;destKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC timeout has been reached. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The original RPC message. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination node </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classoversim_1_1Koorde.html#acbd731af5663833f47af380ccb7b350b" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">destKey</td><td>the destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a657003adc2e2c99b2fa098614abd0bf4">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00283">283</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#a303e6b506fc60bc72bfc615c315c9eb0" title="This method is called if an RPC timeout has been reached.">Chord::handleRpcTimeout</a>(msg, dest, context, rpcId, destKey);

    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg )
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>( DeBruijn ) {
        <a class="code" href="classoversim_1_1Koorde.html#a29cd9890f7a4b2185908b4e3200800ac" title="handle a DEBRUIJN timeout">handleDeBruijnTimeout</a>(_DeBruijnCall);
        EV &lt;&lt; <span class="stringliteral">&quot;[Koorde::handleRpcTimeout() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    DeBruijn RPC Call timed out: id=&quot;</span> &lt;&lt; rpcId
           &lt;&lt; <span class="stringliteral">&quot;\n    msg=&quot;</span> &lt;&lt; *_DeBruijnCall
           &lt;&lt; endl;
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad57f65c954b86e89a31166764f616a87"></a><!-- doxytag: member="oversim::Koorde::handleTimerEvent" ref="ad57f65c954b86e89a31166764f616a87" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a0eb314d0fed6ee1d57ab2fa0f1f15d36">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00119">119</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (msg-&gt;isName(<span class="stringliteral">&quot;deBruijn_timer&quot;</span>)) {
        <a class="code" href="classoversim_1_1Koorde.html#ac33a2bad62d8190887facb060c0d88df" title="handle an expired de bruijn timer">handleDeBruijnTimerExpired</a>();
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;isName(<span class="stringliteral">&quot;fixfingers_timer&quot;</span>)) {
        <a class="code" href="classoversim_1_1Chord.html#a01313823b0cb2d891d5b87f9759e7e3c" title="handle a expired fix_fingers timer">handleFixFingersTimerExpired</a>(msg);
    } <span class="keywordflow">else</span> {
        <a class="code" href="classoversim_1_1Koorde.html#ad57f65c954b86e89a31166764f616a87">Chord::handleTimerEvent</a>(msg);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98fb65a513aa6274415a4638449201ad"></a><!-- doxytag: member="oversim::Koorde::handleUDPMessage" ref="a98fb65a513aa6274415a4638449201ad" args="(BaseOverlayMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::handleUDPMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes messages from underlay. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message from UDP </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a3e4011d819724809a665e987b0ba6726">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00239">239</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#a98fb65a513aa6274415a4638449201ad" title="Processes messages from underlay.">Chord::handleUDPMessage</a>(msg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af5478856d0a17eaff0c3aa7c625ee2bd"></a><!-- doxytag: member="oversim::Koorde::initializeFriendModules" ref="af5478856d0a17eaff0c3aa7c625ee2bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::initializeFriendModules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initializes finger table and successor list </p>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a96f444bfd815179ef9ab625d776a8045">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00770">770</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// initialize successor list</span>
    <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;initializeList(par(<span class="stringliteral">&quot;successorListSize&quot;</span>), <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>, <span class="keyword">this</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3b281279cbf37344659bf3f9ff732d8f"></a><!-- doxytag: member="oversim::Koorde::initializeOverlay" ref="a3b281279cbf37344659bf3f9ff732d8f" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::initializeOverlay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes derived-class-attributes. </p>
<p><br/>
</p>
<p>Initializes derived-class-attributes, called by <a class="el" href="classBaseOverlay.html#a9738ba6065b0f699f1921bbe82ab97be" title="initializes base-class-attributes">BaseOverlay::initialize()</a>. By default this method is called once. If more stages are needed one can overload <a class="el" href="classBaseOverlay.html#a3234dfcf81463984e88a42432734a615" title="Sets init stage.">numInitStages()</a> and add more stages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stage</td><td>the init stage </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a9af34cb9f3b5f0588a6b6214274339db">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00037">37</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// because of IPAddressResolver, we need to wait until interfaces</span>
    <span class="comment">// are registered, address auto-assignment takes place etc.</span>
    <span class="keywordflow">if</span> (stage != <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a58e83c497c7c8495e9c592ff3148b6b9" title="first stage for overlay modules (Tier 0 / KBR)">MIN_STAGE_OVERLAY</a>)
        <span class="keywordflow">return</span>;

    <span class="comment">// fetch some parameters</span>
    <a class="code" href="classoversim_1_1Koorde.html#ab69793269561a3daef5e0699214c92f2" title="number of seconds between two de bruijn calls">deBruijnDelay</a> = par(<span class="stringliteral">&quot;deBruijnDelay&quot;</span>);
    <a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a> = par(<span class="stringliteral">&quot;deBruijnListSize&quot;</span>);
    <a class="code" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db" title="number of bits concurrently shifted in one routing step">shiftingBits</a> = par(<span class="stringliteral">&quot;shiftingBits&quot;</span>);
    <a class="code" href="classoversim_1_1Koorde.html#aa6358d0ff4ee45fb4bb4af918ac46b56" title="flag which is indicating that the optimization other lookup is enabled">useOtherLookup</a> = par(<span class="stringliteral">&quot;useOtherLookup&quot;</span>);
    <a class="code" href="classoversim_1_1Koorde.html#a415b6b2ba86e8aa00737ebc37407e4c4" title="flag which is indicating that the optimization using the successorlist is enabled">useSucList</a> = par(<span class="stringliteral">&quot;useSucList&quot;</span>);
    <a class="code" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a" title="if true, first setup the de bruijn node using the bootstrap node and than join the ring...">setupDeBruijnBeforeJoin</a> = par(<span class="stringliteral">&quot;setupDeBruijnBeforeJoin&quot;</span>);
    <a class="code" href="classoversim_1_1Koorde.html#ae8e953d1b3e48f2094b72a879b39a460" title="if true, join the ring and setup the de bruijn node using the bootstrap node in parallel">setupDeBruijnAtJoin</a> = par(<span class="stringliteral">&quot;setupDeBruijnAtJoin&quot;</span>);

    <span class="comment">// init flags</span>
    <a class="code" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb" title="flag is used during the recursive step when returning this node">breakLookup</a> = <span class="keyword">false</span>;

    <span class="comment">// some local variables</span>
    <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> = 0;
    <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a> = <span class="keyword">new</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>[<a class="code" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee" title="maximal number of nodes in de bruijn list">deBruijnListSize</a>];

    <span class="comment">// statistics</span>
    <a class="code" href="classoversim_1_1Koorde.html#aed7e4c0a3809e24574a8665cdfb1272a" title="number of de bruijn calls">deBruijnCount</a> = 0;
    <a class="code" href="classoversim_1_1Koorde.html#a41b1f9ebf763bad10cfb4ff361585c30" title="number of bytes sent during de bruijn calls">deBruijnBytesSent</a> = 0;

    <span class="comment">// add some watches</span>
    WATCH(<a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a>);
    WATCH(<a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a>);

    <span class="comment">// timer messages</span>
    <a class="code" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978" title="timer for periodic de bruijn stabilization">deBruijn_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;deBruijn_timer&quot;</span>);

    <a class="code" href="classoversim_1_1Koorde.html#a3b281279cbf37344659bf3f9ff732d8f" title="Initializes derived-class-attributes.">Chord::initializeOverlay</a>(stage);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a01b7b96e8645ae25ef00bc04355b9f10"></a><!-- doxytag: member="oversim::Koorde::recordOverlaySentStats" ref="a01b7b96e8645ae25ef00bc04355b9f10" args="(BaseOverlayMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::recordOverlaySentStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collect overlay specific sent messages statistics. </p>
<p>This method is called from <a class="el" href="classBaseOverlay.html#a10189697bd95f3de66c27c1ecf07e323" title="Sends message to underlay.">BaseOverlay::sendMessageToUDP()</a> for every overlay message that is sent by a node. Use this to collect statistical data for overlay protocol specific message types.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The overlay message to be sent to the UDP layer </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a1b0ebef0b3440c6a7e5c30bb41f3979e">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00641">641</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#a01b7b96e8645ae25ef00bc04355b9f10" title="Collect overlay specific sent messages statistics.">Chord::recordOverlaySentStats</a>(msg);

    <a class="code" href="classBaseOverlayMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseOverlayMessage</a>* innerMsg = msg;
    <span class="keywordflow">while</span> (innerMsg-&gt;<a class="code" href="classBaseOverlayMessage.html#a406e342c0841abe2d82b9bb5c1e2aabd">getType</a>() != <a class="code" href="CommonMessages__m_8h.html#a6af1a552a7a6bce33c291758c369b17eab0641a3f5bcb1e08ee72afe9583ff5e6">APPDATA</a> &amp;&amp;
           innerMsg-&gt;getEncapsulatedPacket() != NULL) {
        innerMsg =
            <span class="keyword">static_cast&lt;</span><a class="code" href="classBaseOverlayMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseOverlayMessage</a>*<span class="keyword">&gt;</span>(innerMsg-&gt;getEncapsulatedPacket());
    }

    <span class="keywordflow">switch</span> (innerMsg-&gt;<a class="code" href="classBaseOverlayMessage.html#a406e342c0841abe2d82b9bb5c1e2aabd">getType</a>()) {
        <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#a6af1a552a7a6bce33c291758c369b17ea7f7e32ed10aea1dd73b80e96c70e8abf">RPC</a>: {
            <span class="keywordflow">if</span> ((dynamic_cast&lt;DeBruijnCall*&gt;(innerMsg) != NULL) ||
                (<span class="keyword">dynamic_cast&lt;</span><a class="code" href="classDeBruijnResponse.html" title="Class generated from overlay/chord/ChordMessage.msg by opp_msgc.">DeBruijnResponse</a>*<span class="keyword">&gt;</span>(innerMsg) != NULL)) {
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classoversim_1_1Koorde.html#aed7e4c0a3809e24574a8665cdfb1272a" title="number of de bruijn calls">deBruijnCount</a>++; <a class="code" href="classoversim_1_1Koorde.html#a41b1f9ebf763bad10cfb4ff361585c30" title="number of bytes sent during de bruijn calls">deBruijnBytesSent</a> +=
                                 msg-&gt;getByteLength());
            }
        <span class="keywordflow">break</span>;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="acb2ec023b312208cc9e25d94de48e10a"></a><!-- doxytag: member="oversim::Koorde::rpcJoin" ref="acb2ec023b312208cc9e25d94de48e10a" args="(JoinCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::rpcJoin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJoinCall.html">JoinCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Join Remote-Procedure-Call. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">call</td><td>RPC Parameter Message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#ab7dbe418205a8c06fd744dda61245d3e">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00317">317</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classoversim_1_1Koorde.html#acb2ec023b312208cc9e25d94de48e10a" title="Join Remote-Procedure-Call.">Chord::rpcJoin</a>(joinCall);

    <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a> == <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor()) {
        <span class="comment">// second node join -&gt; need to setup our de bruijn node</span>
        <a class="code" href="classoversim_1_1Koorde.html#ac33a2bad62d8190887facb060c0d88df" title="handle an expired de bruijn timer">handleDeBruijnTimerExpired</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a31184338bec30e0d3197e8797c3bbe66"></a><!-- doxytag: member="oversim::Koorde::updateTooltip" ref="a31184338bec30e0d3197e8797c3bbe66" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oversim::Koorde::updateTooltip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>updates information shown in tk-environment </p>

<p>Reimplemented from <a class="el" href="classoversim_1_1Chord.html#a5baaf500b5320e071fbe9b8d3fab4642">oversim::Chord</a>.</p>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00584">584</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//</span>
    <span class="comment">// Updates the tooltip display strings.</span>
    <span class="comment">//</span>

    <span class="keywordflow">if</span> (ev.isGUI()) {
        std::stringstream ttString;

        <span class="comment">// show our predecessor, successor and de Bruijn node in tooltip</span>
        ttString &lt;&lt; <span class="stringliteral">&quot;Pred &quot;</span>&lt;&lt; <a class="code" href="classoversim_1_1Chord.html#ad460fba59c65a381de5d6cfeb8773639" title="predecessor of this node">predecessorNode</a> &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;This  &quot;</span>
                 &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a> &lt;&lt; endl
                 &lt;&lt; <span class="stringliteral">&quot;Suc   &quot;</span> &lt;&lt; <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor() &lt;&lt; endl
                 &lt;&lt; <span class="stringliteral">&quot;DeBr &quot;</span> &lt;&lt; <a class="code" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba" title="Handle to our de Bruijn node.">deBruijnNode</a> &lt;&lt; endl;
        ttString &lt;&lt; <span class="stringliteral">&quot;List &quot;</span>;

        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize(); i++) {
            ttString &lt;&lt; <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(i).getIp() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
        }

        ttString &lt;&lt; endl;
        ttString &lt;&lt; <span class="stringliteral">&quot;DList &quot;</span>;

        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a>; i++) {
            ttString &lt;&lt; <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i].<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
        }

        ttString &lt;&lt; endl;

        getParentModule()-&gt;getParentModule()-&gt;
            getDisplayString().setTagArg(<span class="stringliteral">&quot;tt&quot;</span>, 0, ttString.str().c_str());
        getParentModule()-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;tt&quot;</span>, 0,
                                                  ttString.str().c_str());
        getDisplayString().setTagArg(<span class="stringliteral">&quot;tt&quot;</span>, 0, ttString.str().c_str());

        <span class="comment">// draw an arrow to our current successor</span>
        <a class="code" href="classTopologyVis.html#a4fe67c060004c8ca76658c7b41514a4a" title="Draws an arrow from this node to neighbor.">showOverlayNeighborArrow</a>(<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(), <span class="keyword">true</span>,
                                 <span class="stringliteral">&quot;m=m,50,0,50,0;ls=red,1&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a491c06fd0ac8609af118931126cdde13"></a><!-- doxytag: member="oversim::Koorde::walkDeBruijnList" ref="a491c06fd0ac8609af118931126cdde13" args="(const OverlayKey &amp;key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp; oversim::Koorde::walkDeBruijnList </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given a key the function checks if the key falls between two nodes in the de Bruijn list. </p>
<p>If no match is found the last node in the de Bruijn list is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>either the node directly preceding key or the node which has the shortest distance to the key </dd></dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00558">558</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a> == 0)
        <span class="keywordflow">return</span> <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f" title="number of current nodes in de bruijn list; depend on number of nodes in successor list...">deBruijnNumber</a>-1; i++) {
        <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i].<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),<a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i+1].<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>())) {
            <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[i];
        }
    }

    <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6" title="List of de Bruijn nodes.">deBruijnNodes</a>[deBruijnNumber-1];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a30fb9378aa319544dcd20190d65cef8b"></a><!-- doxytag: member="oversim::Koorde::walkSuccessorList" ref="a30fb9378aa319544dcd20190d65cef8b" args="(const OverlayKey &amp;key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp; oversim::Koorde::walkSuccessorList </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given a key the function checks if the key falls between two nodes in the de successor list. </p>
<p>If no match is found the last node in the de successor list is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>either the node directly preceding key or the node which has the shortest distance to the key </dd></dl>

<p>Definition at line <a class="el" href="Koorde_8cc_source.html#l00572">572</a> of file <a class="el" href="Koorde_8cc_source.html">Koorde.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize()-1; i++) {
        <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#a645cffcac74842ae00e476cd6dba3635" title="Returns true, if this key is element of the interval (keyA, keyB] on the ring.">isBetweenR</a>(<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(i).getKey(),
                           <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(i+1).getKey())) {
            <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(i);
        }
    }

    <span class="keywordflow">return</span> <a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSuccessor(<a class="code" href="classoversim_1_1Chord.html#acb503165a451976bb7d500857d0d7f80" title="pointer to this node&#39;s successor list">successorList</a>-&gt;getSize()-1);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="afbe4d38039f56c6f93cbb9709b11ffeb"></a><!-- doxytag: member="oversim::Koorde::breakLookup" ref="afbe4d38039f56c6f93cbb9709b11ffeb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classoversim_1_1Koorde.html#afbe4d38039f56c6f93cbb9709b11ffeb">oversim::Koorde::breakLookup</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag is used during the recursive step when returning this node </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00083">83</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaf963dd99d12ac42742624c1f7eda978"></a><!-- doxytag: member="oversim::Koorde::deBruijn_timer" ref="aaf963dd99d12ac42742624c1f7eda978" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classoversim_1_1Koorde.html#aaf963dd99d12ac42742624c1f7eda978">oversim::Koorde::deBruijn_timer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>timer for periodic de bruijn stabilization </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00096">96</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="a41b1f9ebf763bad10cfb4ff361585c30"></a><!-- doxytag: member="oversim::Koorde::deBruijnBytesSent" ref="a41b1f9ebf763bad10cfb4ff361585c30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoversim_1_1Koorde.html#a41b1f9ebf763bad10cfb4ff361585c30">oversim::Koorde::deBruijnBytesSent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of bytes sent during de bruijn calls </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00089">89</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="aed7e4c0a3809e24574a8665cdfb1272a"></a><!-- doxytag: member="oversim::Koorde::deBruijnCount" ref="aed7e4c0a3809e24574a8665cdfb1272a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoversim_1_1Koorde.html#aed7e4c0a3809e24574a8665cdfb1272a">oversim::Koorde::deBruijnCount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of de bruijn calls </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00088">88</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab69793269561a3daef5e0699214c92f2"></a><!-- doxytag: member="oversim::Koorde::deBruijnDelay" ref="ab69793269561a3daef5e0699214c92f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoversim_1_1Koorde.html#ab69793269561a3daef5e0699214c92f2">oversim::Koorde::deBruijnDelay</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of seconds between two de bruijn calls </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00077">77</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae079e3bd8782fe05bdc748a07283a1ee"></a><!-- doxytag: member="oversim::Koorde::deBruijnListSize" ref="ae079e3bd8782fe05bdc748a07283a1ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoversim_1_1Koorde.html#ae079e3bd8782fe05bdc748a07283a1ee">oversim::Koorde::deBruijnListSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>maximal number of nodes in de bruijn list </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00079">79</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0400e8af965d376f74d83322d78d3fba"></a><!-- doxytag: member="oversim::Koorde::deBruijnNode" ref="a0400e8af965d376f74d83322d78d3fba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNodeHandle.html">NodeHandle</a> <a class="el" href="classoversim_1_1Koorde.html#a0400e8af965d376f74d83322d78d3fba">oversim::Koorde::deBruijnNode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle to our de Bruijn node. </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00093">93</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2369f4b8f09179f6e070e4a0863e6cc6"></a><!-- doxytag: member="oversim::Koorde::deBruijnNodes" ref="a2369f4b8f09179f6e070e4a0863e6cc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNodeHandle.html">NodeHandle</a>* <a class="el" href="classoversim_1_1Koorde.html#a2369f4b8f09179f6e070e4a0863e6cc6">oversim::Koorde::deBruijnNodes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of de Bruijn nodes. </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00092">92</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad8850fadd7c3d4b86e8b42e2547c992f"></a><!-- doxytag: member="oversim::Koorde::deBruijnNumber" ref="ad8850fadd7c3d4b86e8b42e2547c992f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoversim_1_1Koorde.html#ad8850fadd7c3d4b86e8b42e2547c992f">oversim::Koorde::deBruijnNumber</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of current nodes in de bruijn list; depend on number of nodes in successor list </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00078">78</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8e953d1b3e48f2094b72a879b39a460"></a><!-- doxytag: member="oversim::Koorde::setupDeBruijnAtJoin" ref="ae8e953d1b3e48f2094b72a879b39a460" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classoversim_1_1Koorde.html#ae8e953d1b3e48f2094b72a879b39a460">oversim::Koorde::setupDeBruijnAtJoin</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>if true, join the ring and setup the de bruijn node using the bootstrap node in parallel </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00085">85</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3d349ecb9d582ad6baf81aef464e1e4a"></a><!-- doxytag: member="oversim::Koorde::setupDeBruijnBeforeJoin" ref="a3d349ecb9d582ad6baf81aef464e1e4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classoversim_1_1Koorde.html#a3d349ecb9d582ad6baf81aef464e1e4a">oversim::Koorde::setupDeBruijnBeforeJoin</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>if true, first setup the de bruijn node using the bootstrap node and than join the ring </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00084">84</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad3f6771f97eac9ffb1d5951663d720db"></a><!-- doxytag: member="oversim::Koorde::shiftingBits" ref="ad3f6771f97eac9ffb1d5951663d720db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classoversim_1_1Koorde.html#ad3f6771f97eac9ffb1d5951663d720db">oversim::Koorde::shiftingBits</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of bits concurrently shifted in one routing step </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00080">80</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa6358d0ff4ee45fb4bb4af918ac46b56"></a><!-- doxytag: member="oversim::Koorde::useOtherLookup" ref="aa6358d0ff4ee45fb4bb4af918ac46b56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classoversim_1_1Koorde.html#aa6358d0ff4ee45fb4bb4af918ac46b56">oversim::Koorde::useOtherLookup</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag which is indicating that the optimization other lookup is enabled </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00081">81</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<a class="anchor" id="a415b6b2ba86e8aa00737ebc37407e4c4"></a><!-- doxytag: member="oversim::Koorde::useSucList" ref="a415b6b2ba86e8aa00737ebc37407e4c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classoversim_1_1Koorde.html#a415b6b2ba86e8aa00737ebc37407e4c4">oversim::Koorde::useSucList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag which is indicating that the optimization using the successorlist is enabled </p>

<p>Definition at line <a class="el" href="Koorde_8h_source.html#l00082">82</a> of file <a class="el" href="Koorde_8h_source.html">Koorde.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Koorde_8h_source.html">Koorde.h</a></li>
<li><a class="el" href="Koorde_8cc_source.html">Koorde.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceoversim.html">oversim</a>      </li>
      <li class="navelem"><a class="el" href="classoversim_1_1Koorde.html">Koorde</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:07:05 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
