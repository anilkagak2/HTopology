<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: KBRTestApp Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classKBRTestApp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">KBRTestApp Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="KBRTestApp" --><!-- doxytag: inherits="BaseApp" -->
<p>Test application for KBR interface.  
 <a href="classKBRTestApp.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for KBRTestApp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classKBRTestApp.png" usemap="#KBRTestApp_map" alt=""/>
  <map id="KBRTestApp_map" name="KBRTestApp_map">
<area href="classBaseApp.html" title="Base class for applications." alt="BaseApp" shape="rect" coords="57,112,162,136"/>
<area href="classBaseRpc.html" title="Base class for RPCs." alt="BaseRpc" shape="rect" coords="0,56,105,80"/>
<area href="classBaseTcpSupport.html" alt="BaseTcpSupport" shape="rect" coords="115,56,220,80"/>
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="0,0,105,24"/>
</map>
 </div></div>

<p><a href="classKBRTestApp-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKBRTestApp_1_1MsgHandle.html">MsgHandle</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">type for storing seen messages in a circular buffer, holds <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> of the sender and SequenceNumber  <a href="structKBRTestApp_1_1MsgHandle.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a3ffbda9662ea20986ea2e0856a0c89f4">KBRTestApp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a6f65cfb13966c697b51b0ab5c02b2503">~KBRTestApp</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="structKBRTestApp_1_1MsgHandle.html">MsgHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ad9837f0d6d4ceaac664870aa186f44a8">MsgHandleBuf</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a40381ef6a970530fa0706d138fe256f6">initializeApp</a> (int stage)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes derived class-attributes  <a href="#a40381ef6a970530fa0706d138fe256f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ad99186daad4bdf6c77fa667a0bb07056">finishApp</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">collects statistical data of derived app  <a href="#ad99186daad4bdf6c77fa667a0bb07056"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a544559c72c244032558522e8345bf6a1">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aab30e051b905b39deef371ad3a418473">deliver</a> (<a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key, cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Common API function: handles delivered messages from overlay.  <a href="#aab30e051b905b39deef371ad3a418473"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a860b762b8a8b843551c349beb130966c">forward</a> (<a class="el" href="classOverlayKey.html">OverlayKey</a> *key, cPacket **msg, <a class="el" href="classNodeHandle.html">NodeHandle</a> *nextHopNode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Common API function: handles messages from overlay to be forwarded.  <a href="#a860b762b8a8b843551c349beb130966c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a1c22d7bc56871a63cce151e599a83229">checkSeen</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key, int seqNum)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a message was already seen before.  <a href="#a1c22d7bc56871a63cce151e599a83229"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#acf7fa74f658d890e579a60ea04a5b0a6">evaluateData</a> (simtime_t timeDelay, int hopCount, long int bytes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyses and records measuring data handed over from nodes that previously had been the destination for a test message from this module, called by receiver::handleMessage() at sendermodule.  <a href="#acf7fa74f658d890e579a60ea04a5b0a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#acffbd277d53a7b3e9c854395563b37d0">handleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes Remote-Procedure-Call invocation messages.  <a href="#acffbd277d53a7b3e9c854395563b37d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a5d99afa79b6a0d5b9ec46ce2aab86290">kbrTestCall</a> (<a class="el" href="classKbrTestCall.html">KbrTestCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a1eb66b9882fd5f602b5e0fbf70fe7043">underlayTestCall</a> (<a class="el" href="classUnderlayTestCall.html">UnderlayTestCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a16c87b0aff614a09cf41271cb45ec4f0">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC response has been received.  <a href="#a16c87b0aff614a09cf41271cb45ec4f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aa5cd3e30e7a2ecefc0821a5291dce864">handleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC timeout has been reached.  <a href="#aa5cd3e30e7a2ecefc0821a5291dce864"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#abe4fcc0a674ba6c843a2e1467bc458c8">handleLookupResponse</a> (<a class="el" href="classLookupResponse.html">LookupResponse</a> *msg, cObject *context, simtime_t latency)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#afec33d48dc2b5c2920391f29abab1237">pingResponse</a> (<a class="el" href="classPingResponse.html">PingResponse</a> *response, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a67197e64e41b044dc37a9d8d6fbadc75">handleNodeLeaveNotification</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method gets call **.gracefulLeaveDelay seconds before it is killed.  <a href="#a67197e64e41b044dc37a9d8d6fbadc75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classOverlayKey.html">OverlayKey</a>, <br class="typebreak"/>
<a class="el" href="classTransportAddress.html">TransportAddress</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#af428946a37da5ca4a29b85a034869e61">createDestKey</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#afd14f68bbfff247b4f32498e5b241993">kbrOneWayTest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a64f89ade2d0af91791f6524b7b08cc29">kbrRpcTest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aea8edb2d1c871881b1090c93b0325338">kbrLookupTest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aaf1a1a1fdbaa133fb8dc06d4dc6c9093">underlayTest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#af332ff958983a9bb25252feba3e2590e">testMsgSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04">mean</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">mean time interval between sending test messages  <a href="#a73450fb0a1503f2751c75d8cf9d51e04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e">deviation</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deviation of time interval  <a href="#af8c8a7e64e6ed514be5cd90920dd115e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a5664ac71c5ceb3cc70e710717c8888e2">activeNetwInitPhase</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">is app active in network init phase?  <a href="#a5664ac71c5ceb3cc70e710717c8888e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2">lookupNodeIds</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">lookup only existing nodeIDs  <a href="#af63f7f8bdcfce448593663484c0cd5a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a567d933d3c6a8f0c1d0194c5e779dbea">nodeIsLeavingSoon</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">true if the node is going to be killed shortly  <a href="#a567d933d3c6a8f0c1d0194c5e779dbea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a833410beacd955fe47a27bbf7f29107f">onlyLookupInoffensiveNodes</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">if true only search for inoffensive nodes (use together with lookupNodeIds)  <a href="#a833410beacd955fe47a27bbf7f29107f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a41dcfc5b05deda0623530dd85bc3fc74">rpcRetries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a52e5ba5ffe02fd9800db83b15a796b40">bytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542">numDelivered</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of delivered packets  <a href="#a12358b55f911eed27f411a402e308542"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ad71a94daa5c574ab6d57c1baa984bc9d">bytesDelivered</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of delivered bytes  <a href="#ad71a94daa5c574ab6d57c1baa984bc9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a0b9c2e82f3287e4200d6f12d26371739">numDropped</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a3243446a1be631c71455e80d8c25e475">bytesDropped</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">numRpcSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a2d746dbca5bf7f81ac484c763c651cf1">bytesRpcSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04">numRpcDelivered</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of delivered packets  <a href="#ad9ea83ac232db846335c38619e6d9d04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ac9287ba30b44d05c1f1e2b3af6e0f2e4">bytesRpcDelivered</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of delivered bytes  <a href="#ac9287ba30b44d05c1f1e2b3af6e0f2e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">numRpcDropped</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">bytesRpcDropped</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aeb37374bdf671e95a65ce93143cb2afc">rpcSuccLatencySum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ae755fda691b0e7b8ed23b318c52871f8">rpcSuccLatencyCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#af4d1d4d8f6c1e5ce301b25ca958cc2e5">rpcTotalLatencySum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">numLookupSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">numLookupSuccess</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">numLookupFailed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">numUnderlaySent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a509fe672ed218ffeaa255fd2b45a6ef3">bytesUnderlaySent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a207c30de6b17507d64187fd78d7f705e">numUnderlayDelivered</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of delivered packets  <a href="#a207c30de6b17507d64187fd78d7f705e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a1d7a3ba320bc3046d87262d7fd7722b1">bytesUnderlayDelivered</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of delivered bytes  <a href="#a1d7a3ba320bc3046d87262d7fd7722b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">onewayTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">rpcTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">lookupTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ad5ac3f97138ebeaf211db5d5b48d505b">underlayTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496">failureLatency</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">this latency is recorded for failed lookups and RPCs  <a href="#ab7d25f9b4fd4445596114c7ae1912496"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a6ef9eba5d0b033538a778f288f4a4654">sequenceNumber</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#af60509b56e28684a4eb49f25df6552f6">msgHandleBufSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">how many MsgHandles to store in circular buffer  <a href="#af60509b56e28684a4eb49f25df6552f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKBRTestApp.html#ad9837f0d6d4ceaac664870aa186f44a8">MsgHandleBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a5af0e7b9efe2ae1aad0d815f19ef25e8">mhBuf</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">circular buffer of MsgHandles  <a href="#a5af0e7b9efe2ae1aad0d815f19ef25e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MsgHandleBuf::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a3485ceb9284504b412d371e9eecaf27f">mhBufBegin</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">begin of circular buffer  <a href="#a3485ceb9284504b412d371e9eecaf27f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MsgHandleBuf::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a26eff89ff4d9ea19681a4e2df67e7332">mhBufNext</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">next element to insert  <a href="#a26eff89ff4d9ea19681a4e2df67e7332"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MsgHandleBuf::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKBRTestApp.html#a9a44c784eb9297c7b8fadf276a358c9f">mhBufEnd</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">end of circular buffer  <a href="#a9a44c784eb9297c7b8fadf276a358c9f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Test application for KBR interface. </p>
<p>Test application for KBR interface that sends periodically test messages to random keys or existing nodeIDs. The receiver does not send back any answer, but sender::evaluateDate() is called. </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00044">44</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ad9837f0d6d4ceaac664870aa186f44a8"></a><!-- doxytag: member="KBRTestApp::MsgHandleBuf" ref="ad9837f0d6d4ceaac664870aa186f44a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="structKBRTestApp_1_1MsgHandle.html">MsgHandle</a>&gt; <a class="el" href="classKBRTestApp.html#ad9837f0d6d4ceaac664870aa186f44a8">KBRTestApp::MsgHandleBuf</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00074">74</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3ffbda9662ea20986ea2e0856a0c89f4"></a><!-- doxytag: member="KBRTestApp::KBRTestApp" ref="a3ffbda9662ea20986ea2e0856a0c89f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KBRTestApp::KBRTestApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00035">35</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">onewayTimer</a> = NULL;
    <a class="code" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">rpcTimer</a> = NULL;
    <a class="code" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">lookupTimer</a> = NULL;
    <a class="code" href="classKBRTestApp.html#ad5ac3f97138ebeaf211db5d5b48d505b">underlayTimer</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6f65cfb13966c697b51b0ab5c02b2503"></a><!-- doxytag: member="KBRTestApp::~KBRTestApp" ref="a6f65cfb13966c697b51b0ab5c02b2503" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KBRTestApp::~KBRTestApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00043">43</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    cancelAndDelete(<a class="code" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">onewayTimer</a>);
    cancelAndDelete(<a class="code" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">rpcTimer</a>);
    cancelAndDelete(<a class="code" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">lookupTimer</a>);
    cancelAndDelete(<a class="code" href="classKBRTestApp.html#ad5ac3f97138ebeaf211db5d5b48d505b">underlayTimer</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1c22d7bc56871a63cce151e599a83229"></a><!-- doxytag: member="KBRTestApp::checkSeen" ref="a1c22d7bc56871a63cce151e599a83229" args="(const OverlayKey &amp;key, int seqNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KBRTestApp::checkSeen </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seqNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if a message was already seen before. </p>
<p>If the sequence number of the message is new for the given sender key, it is stored in a circular buffer and false is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> of the sender </td></tr>
    <tr><td class="paramname">seqNum</td><td>sequence number of the message to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the message was seen before </dd></dl>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00555">555</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00475">deliver()</a>.</p>
<div class="fragment"><pre class="fragment">{
    MsgHandle hdl(key, seqNum);

    <span class="keywordflow">for</span> (MsgHandleBuf::iterator it = <a class="code" href="classKBRTestApp.html#a3485ceb9284504b412d371e9eecaf27f" title="begin of circular buffer">mhBufBegin</a>; it != <a class="code" href="classKBRTestApp.html#a9a44c784eb9297c7b8fadf276a358c9f" title="end of circular buffer">mhBufEnd</a>; ++it) {
        <span class="keywordflow">if</span> (it-&gt;key.isUnspecified()) {
            <span class="keywordflow">continue</span>;
        }
        <span class="keywordflow">if</span> (*it == hdl) {
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
    }

    *(<a class="code" href="classKBRTestApp.html#a26eff89ff4d9ea19681a4e2df67e7332" title="next element to insert">mhBufNext</a>++) = hdl;
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#a26eff89ff4d9ea19681a4e2df67e7332" title="next element to insert">mhBufNext</a> == <a class="code" href="classKBRTestApp.html#a9a44c784eb9297c7b8fadf276a358c9f" title="end of circular buffer">mhBufEnd</a>) {
        <a class="code" href="classKBRTestApp.html#a26eff89ff4d9ea19681a4e2df67e7332" title="next element to insert">mhBufNext</a> = <a class="code" href="classKBRTestApp.html#a3485ceb9284504b412d371e9eecaf27f" title="begin of circular buffer">mhBufBegin</a>;
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af428946a37da5ca4a29b85a034869e61"></a><!-- doxytag: member="KBRTestApp::createDestKey" ref="af428946a37da5ca4a29b85a034869e61" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="classOverlayKey.html">OverlayKey</a>, <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; KBRTestApp::createDestKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00542">542</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a>) {
        <span class="comment">// TODO parameter to choose only nodes with own nodeType</span>
        <span class="comment">// getPeerInfo(getThisNode())-&gt;getTypeID()</span>
        <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>&amp; handle = <a class="code" href="classBaseApp.html#ac8a54fad527bfd03a05ee6aed434243e" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a4a52b6c813beb1e42e882da2451e623e" title="Returns a random NodeHandle.">getRandomNode</a>(-1, -1, <span class="keyword">true</span>,
                                                   <a class="code" href="classKBRTestApp.html#a833410beacd955fe47a27bbf7f29107f" title="if true only search for inoffensive nodes (use together with lookupNodeIds)">onlyLookupInoffensiveNodes</a>);
        <span class="keywordflow">return</span> std::make_pair(handle.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(), handle);
    }
    <span class="comment">// generate random destination key</span>
    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="classOverlayKey.html#a1983e1b47e32783f8ccd5e59fe725290" title="Returns a random key.">OverlayKey::random</a>(), <a class="code" href="classTransportAddress.html#ac1709545db722cbbce1367034142d31f" title="TransportAddress without specified ip and port.">TransportAddress::UNSPECIFIED_NODE</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aab30e051b905b39deef371ad3a418473"></a><!-- doxytag: member="KBRTestApp::deliver" ref="aab30e051b905b39deef371ad3a418473" args="(OverlayKey &amp;key, cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::deliver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Common API function: handles delivered messages from overlay. </p>
<p>method to handle decapsulated <a class="el" href="classKBRdeliver.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">KBRdeliver</a> messages from overlay module, should be overwritten in derived application </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>destination key </td></tr>
    <tr><td class="paramname">msg</td><td>delivered message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseApp.html#ad9bfd86cefb67c31a2bcc082df3aa04c">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00475">475</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classKBRTestMessage.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KBRTestMessage</a>* testMsg = check_and_cast&lt;<a class="code" href="classKBRTestMessage.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KBRTestMessage</a>*&gt;(msg);
    <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* overlayCtrlInfo =
        check_and_cast&lt;<a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*&gt;(msg-&gt;removeControlInfo());

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;key&quot;</span>);

    <span class="comment">// check for duplicate</span>
    <span class="keywordflow">if</span> ((<a class="code" href="classKBRTestApp.html#af60509b56e28684a4eb49f25df6552f6" title="how many MsgHandles to store in circular buffer">msgHandleBufSize</a> &gt; 0 )
            &amp;&amp; <a class="code" href="classKBRTestApp.html#a1c22d7bc56871a63cce151e599a83229" title="Checks if a message was already seen before.">checkSeen</a>(overlayCtrlInfo-&gt;getSrcNode().getKey(), testMsg-&gt;<a class="code" href="classKBRTestMessage.html#afef3881404f5399344823456b5605284">getSeqNum</a>())) {
        EV &lt;&lt; <span class="stringliteral">&quot;[KBRTestApp::deliver() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Duplicate dropped.&quot;</span>
           &lt;&lt; endl;
        <span class="keyword">delete</span> overlayCtrlInfo;
        <span class="keyword">delete</span> testMsg;
        <span class="keywordflow">return</span>;
    }

    <span class="comment">// Return statistical data to the sender.</span>
    <span class="keywordflow">if</span> (cModule* mod = simulation.getModule(testMsg-&gt;<a class="code" href="classKBRTestMessage.html#a122ee155877c50d1a8197f6bf10c3c33">getId</a>())) {
        <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html" title="Test application for KBR interface.">KBRTestApp</a>* sender = dynamic_cast&lt;KBRTestApp*&gt;(mod)) {
            <span class="keywordflow">if</span> ((!<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a>) || (<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() == key)) {
                <span class="keywordflow">if</span> (testMsg-&gt;<a class="code" href="classKBRTestMessage.html#a51abb3c29b2b4d109994530269035282">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
                        sender-&gt;evaluateData((simTime() - testMsg-&gt;getCreationTime()),
                                             overlayCtrlInfo-&gt;getHopCount(),
                                             testMsg-&gt;getByteLength());
                }
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a>) {
                <span class="keywordflow">if</span> (testMsg-&gt;<a class="code" href="classKBRTestMessage.html#a51abb3c29b2b4d109994530269035282">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
                    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a0b9c2e82f3287e4200d6f12d26371739">numDropped</a>++;
                                 <a class="code" href="classKBRTestApp.html#a3243446a1be631c71455e80d8c25e475">bytesDropped</a> += testMsg-&gt;getByteLength());
                }
                EV &lt;&lt; <span class="stringliteral">&quot;[KBRTestApp::deliver() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                   &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot;    Error: Lookup of NodeIDs and KBRTestMessage&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot; received with different destKey!&quot;</span>
                   &lt;&lt; endl;
            }
        }
    }

    EV &lt;&lt; <span class="stringliteral">&quot;[KBRTestApp::deliver() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;    Received \&quot;&quot;</span> &lt;&lt; testMsg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;(seqNr: &quot;</span>
       &lt;&lt; testMsg-&gt;<a class="code" href="classKBRTestMessage.html#afef3881404f5399344823456b5605284">getSeqNum</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;    with destination key: &quot;</span> &lt;&lt; key.<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
       &lt;&lt; endl;

    <span class="keyword">delete</span> overlayCtrlInfo;
    <span class="keyword">delete</span> testMsg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acf7fa74f658d890e579a60ea04a5b0a6"></a><!-- doxytag: member="KBRTestApp::evaluateData" ref="acf7fa74f658d890e579a60ea04a5b0a6" args="(simtime_t timeDelay, int hopCount, long int bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::evaluateData </td>
          <td>(</td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeDelay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hopCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Analyses and records measuring data handed over from nodes that previously had been the destination for a test message from this module, called by receiver::handleMessage() at sendermodule. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeDelay</td><td>packet-delay </td></tr>
    <tr><td class="paramname">hopCount</td><td>packet hop-count </td></tr>
    <tr><td class="paramname">bytes</td><td>packet size in bytes </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00576">576</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// count the number and size of successfully delivered messages</span>
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a>++; <a class="code" href="classKBRTestApp.html#ad71a94daa5c574ab6d57c1baa984bc9d" title="number of delivered bytes">bytesDelivered</a> += bytes;
                 <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a59bfce2d2d29f05ca1f0610db9c508f0" title="total number of messages delivered by KBRTestApp">deliveredKBRTestAppMessages</a>++);

    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a> &lt; <a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a>) {
        std::ostringstream tempString;
        tempString &lt;&lt; <span class="stringliteral">&quot;KBRTestApp::evaluateData(): numSent (&quot;</span>
                   &lt;&lt; <a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a> &lt;&lt; <span class="stringliteral">&quot;) &lt; numDelivered (&quot;</span> &lt;&lt; <a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a> &lt;&lt; <span class="stringliteral">&quot;)!&quot;</span>;
        <span class="keywordflow">throw</span> cRuntimeError(tempString.str().c_str());
    }

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Hop &quot;</span>
                                                   <span class="stringliteral">&quot;Count&quot;</span>, hopCount));
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Latency&quot;</span>,
                                                   SIMTIME_DBL(latency)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad99186daad4bdf6c77fa667a0bb07056"></a><!-- doxytag: member="KBRTestApp::finishApp" ref="ad99186daad4bdf6c77fa667a0bb07056" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::finishApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>collects statistical data of derived app </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a9702f80de642a3e090aaf5bedea8e4a6">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00595">595</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    simtime_t time = <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a610799ebfbf64696c59b811870cc8300">calcMeasuredLifetime</a>(<a class="code" href="classBaseApp.html#ac365b8c1cb45fb1e37f95535936a0f31" title="simTime when the App has been created">creationTime</a>);

    <span class="keywordflow">if</span> (time &gt;= <a class="code" href="classGlobalStatistics.html#a169810c78519b271f7e32fdc7c9fc641" title="minimum useful measured lifetime in seconds">GlobalStatistics::MIN_MEASURED</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#afd14f68bbfff247b4f32498e5b241993">kbrOneWayTest</a>) {
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Delivered Messages/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Delivered Bytes/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#ad71a94daa5c574ab6d57c1baa984bc9d" title="number of delivered bytes">bytesDelivered</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Dropped Messages/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#a0b9c2e82f3287e4200d6f12d26371739">numDropped</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Dropped Bytes/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#a3243446a1be631c71455e80d8c25e475">bytesDropped</a> / time);
            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a> &gt; 0) {
                <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: One-way Delivery Ratio&quot;</span>,
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a> /
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a>);
<span class="comment">/*                globalStatistics-&gt;addStdDev(&quot;KBRTestApp: One-way Total Latency&quot;,</span>
<span class="comment">                                             globalStatistics-&gt;getv * (1 - ((float)numDelivered /</span>
<span class="comment">                                                     (float)numSent)));*/</span>
            }
        }

        <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#a64f89ade2d0af91791f6524b7b08cc29">kbrRpcTest</a>) {
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Delivered Messages/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04" title="number of delivered packets">numRpcDelivered</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Delivered Bytes/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#ac9287ba30b44d05c1f1e2b3af6e0f2e4" title="number of delivered bytes">bytesRpcDelivered</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Dropped Messages/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">numRpcDropped</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Dropped Bytes/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">bytesRpcDropped</a> / time);
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#ae755fda691b0e7b8ed23b318c52871f8">rpcSuccLatencyCount</a> &gt; 0) {
                <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Success Session Latency&quot;</span>,
                                        SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#aeb37374bdf671e95a65ce93143cb2afc">rpcSuccLatencySum</a>) / <a class="code" href="classKBRTestApp.html#ae755fda691b0e7b8ed23b318c52871f8">rpcSuccLatencyCount</a>);
            }

            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a> &gt; 0) {
                <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Total Session Latency&quot;</span>,
                                        SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#af4d1d4d8f6c1e5ce301b25ca958cc2e5">rpcTotalLatencySum</a>) / <a class="code" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a>);
            }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">numRpcSent</a> &gt; 0) {
                <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: RPC Delivery Ratio&quot;</span>,
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04" title="number of delivered packets">numRpcDelivered</a> /
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">numRpcSent</a>);
            }
        }

        <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#aea8edb2d1c871881b1090c93b0325338">kbrLookupTest</a>) {
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: Successful Lookups/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">numLookupSuccess</a> / time);
            <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: Failed Lookups/s&quot;</span>,
                                        <a class="code" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">numLookupFailed</a> / time);
            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">numLookupSent</a> &gt; 0) {
                <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: Lookup Success Ratio&quot;</span>,
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">numLookupSuccess</a> /
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">numLookupSent</a>);
            }
        }
        <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#aaf1a1a1fdbaa133fb8dc06d4dc6c9093">underlayTest</a>) {
            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">numUnderlaySent</a> &gt; 0) {
                <a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;KBRTestApp: Underlay Delivery Ratio&quot;</span>,
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#a207c30de6b17507d64187fd78d7f705e" title="number of delivered packets">numUnderlayDelivered</a> /
                                            (<span class="keywordtype">float</span>)<a class="code" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">numUnderlaySent</a>);
            }
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a860b762b8a8b843551c349beb130966c"></a><!-- doxytag: member="KBRTestApp::forward" ref="a860b762b8a8b843551c349beb130966c" args="(OverlayKey *key, cPacket **msg, NodeHandle *nextHopNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::forward </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOverlayKey.html">OverlayKey</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPacket **&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNodeHandle.html">NodeHandle</a> *&#160;</td>
          <td class="paramname"><em>nextHopNode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Common API function: handles messages from overlay to be forwarded. </p>
<p>method to handle decapsulated <a class="el" href="classKBRdeliver.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">KBRdeliver</a> messages from overlay module, should be overwritten in derived application if needed </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>destination key </td></tr>
    <tr><td class="paramname">msg</td><td>message to forward </td></tr>
    <tr><td class="paramname">nextHopNode</td><td>next hop </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseApp.html#ad9ad1b23f2fe54f2355d6faad2ef7c9f">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00530">530</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classKBRTestMessage.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KBRTestMessage</a>* tempMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classKBRTestMessage.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KBRTestMessage</a>*<span class="keyword">&gt;</span>(*msg);

    <span class="keywordflow">if</span> (tempMsg == NULL) <span class="keywordflow">return</span>;

    tempMsg-&gt;<a class="code" href="classKBRTestMessage.html#a3ccdd28b9b2708727f35808a69a106ea">setVisitedNodesArraySize</a>(tempMsg-&gt;<a class="code" href="classKBRTestMessage.html#a506760f8eae4c5ddd19d7848f032ef29">getVisitedNodesArraySize</a>() + 1);
    tempMsg-&gt;<a class="code" href="classKBRTestMessage.html#a4142fc2a5707109af7d38d8428f7a6f1">setVisitedNodes</a>(tempMsg-&gt;<a class="code" href="classKBRTestMessage.html#a506760f8eae4c5ddd19d7848f032ef29">getVisitedNodesArraySize</a>() - 1,
                             <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="abe4fcc0a674ba6c843a2e1467bc458c8"></a><!-- doxytag: member="KBRTestApp::handleLookupResponse" ref="abe4fcc0a674ba6c843a2e1467bc458c8" args="(LookupResponse *msg, cObject *context, simtime_t latency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::handleLookupResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLookupResponse.html">LookupResponse</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cObject *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>latency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00426">426</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[KBRTestApp::handleLookupResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;    Lookup response for key &quot;</span> &lt;&lt; msg-&gt;<a class="code" href="classLookupResponse.html#a0eb7ae69a84948251e35be07be9e3911">getKey</a>()&lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;

    <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* kbrRpcContext = check_and_cast&lt;<a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>*&gt;(context);

    <span class="keywordflow">if</span> (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#a0c2d69d2d75cecbd5b35b888db5b6069">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
        <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="classLookupResponse.html#a86a9d5fd7849c18b989f2e5260cfbf12">getIsValid</a>() &amp;&amp; (!<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a> ||
                ((msg-&gt;<a class="code" href="classLookupResponse.html#a294d30cb0b365a24c1b1bff9478f45ef">getSiblingsArraySize</a>() &gt; 0) &amp;&amp;
                 (msg-&gt;<a class="code" href="classLookupResponse.html#a4c0f21b5ab1a7865cd23d8f6e3a1640c">getSiblings</a>(0).<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() == msg-&gt;<a class="code" href="classLookupResponse.html#a0eb7ae69a84948251e35be07be9e3911">getKey</a>()) &amp;&amp;
                 (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#aefc33ab8b0fca563b931f38fe702666f">getDestAddr</a>() == msg-&gt;<a class="code" href="classLookupResponse.html#a4c0f21b5ab1a7865cd23d8f6e3a1640c">getSiblings</a>(0))))) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">numLookupSuccess</a>++);
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                   <span class="stringliteral">&quot;KBRTestApp: Lookup Success Latency&quot;</span>, SIMTIME_DBL(latency)));
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                   <span class="stringliteral">&quot;KBRTestApp: Lookup Total Latency&quot;</span>, SIMTIME_DBL(latency)));
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                    <span class="stringliteral">&quot;KBRTestApp: Lookup Hop Count&quot;</span>, msg-&gt;<a class="code" href="classLookupResponse.html#a277634ab3f48de28473727805f8af76f">getHopCount</a>()));
        } <span class="keywordflow">else</span> {
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>            <span class="keywordflow">if</span> (!msg-&gt;<a class="code" href="classLookupResponse.html#a86a9d5fd7849c18b989f2e5260cfbf12">getIsValid</a>()) {
                std::cout &lt;&lt; <span class="stringliteral">&quot;invalid&quot;</span> &lt;&lt; std::endl;
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="classLookupResponse.html#a294d30cb0b365a24c1b1bff9478f45ef">getSiblingsArraySize</a>() == 0) {
                std::cout &lt;&lt; <span class="stringliteral">&quot;empty&quot;</span> &lt;&lt; std::endl;
            } <span class="keywordflow">else</span> {
                std::cout &lt;&lt; <span class="stringliteral">&quot;wrong key&quot;</span> &lt;&lt; std::endl;
            }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">numLookupFailed</a>++);
            <span class="comment">// for failed lookups add failureLatency to latency statistics vector</span>
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                         <span class="stringliteral">&quot;KBRTestApp: Lookup Total Latency&quot;</span>,
                         SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a>)));
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                    <span class="stringliteral">&quot;KBRTestApp: Failed Lookup Hop Count&quot;</span>, msg-&gt;<a class="code" href="classLookupResponse.html#a277634ab3f48de28473727805f8af76f">getHopCount</a>()));
        }
    }

    <span class="keyword">delete</span> kbrRpcContext;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a67197e64e41b044dc37a9d8d6fbadc75"></a><!-- doxytag: member="KBRTestApp::handleNodeLeaveNotification" ref="a67197e64e41b044dc37a9d8d6fbadc75" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::handleNodeLeaveNotification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method gets call **.gracefulLeaveDelay seconds before it is killed. </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a6de99518e6f58cd2cb3bbc639e198d82">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00470">470</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classKBRTestApp.html#a567d933d3c6a8f0c1d0194c5e779dbea" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acffbd277d53a7b3e9c854395563b37d0"></a><!-- doxytag: member="KBRTestApp::handleRpcCall" ref="acffbd277d53a7b3e9c854395563b37d0" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool KBRTestApp::handleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes Remote-Procedure-Call invocation messages. </p>
<p><br/>
</p>
<p>This method should be overloaded when the overlay provides RPC functionality.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true, if rpc has been handled </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseRpc.html#a20e77c3e0c203762a5b582ffebe3ba4b">BaseRpc</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00273">273</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg );
        <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( KbrTest, <a class="code" href="classKBRTestApp.html#a5d99afa79b6a0d5b9ec46ce2aab86290">kbrTestCall</a> );
        <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( UnderlayTest, <a class="code" href="classKBRTestApp.html#a1eb66b9882fd5f602b5e0fbf70fe7043">underlayTestCall</a> );
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( );

    <span class="keywordflow">return</span> <a class="code" href="RpcMacros_8h.html#aa5e964b7c7129c0943237a786e455e9a">RPC_HANDLED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a16c87b0aff614a09cf41271cb45ec4f0"></a><!-- doxytag: member="KBRTestApp::handleRpcResponse" ref="a16c87b0aff614a09cf41271cb45ec4f0" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC response has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The response message. </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classKBRTestApp.html#a16c87b0aff614a09cf41271cb45ec4f0" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">rtt</td><td>The Round-Trip-Time of this RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#a6229090a446fb649cfec3c1fb61e7167">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00301">301</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(<a class="code" href="classLookup.html">Lookup</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[KBRTestApp::handleRpcResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Lookup RPC Response received: id=&quot;</span> &lt;&lt; rpcId &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    msg=&quot;</span> &lt;&lt; *_LookupResponse &lt;&lt; <span class="stringliteral">&quot; rtt=&quot;</span> &lt;&lt; rtt
           &lt;&lt; endl;
        <a class="code" href="classKBRTestApp.html#abe4fcc0a674ba6c843a2e1467bc458c8">handleLookupResponse</a>(_LookupResponse, context, rtt);
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(KbrTest) {
        <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* kbrRpcContext = check_and_cast&lt;<a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>*&gt;(context);
        <span class="keywordflow">if</span> (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#a0c2d69d2d75cecbd5b35b888db5b6069">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
            <span class="keywordflow">if</span> (!<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a> ||
                (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#ac380908abfe9686cf5aa708b41da712a">getDestKey</a>() == msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() &amp;&amp;
                 kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#aefc33ab8b0fca563b931f38fe702666f">getDestAddr</a>() == msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>())) {

                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04" title="number of delivered packets">numRpcDelivered</a>++;
                             <a class="code" href="classKBRTestApp.html#ac9287ba30b44d05c1f1e2b3af6e0f2e4" title="number of delivered bytes">bytesRpcDelivered</a> += msg-&gt;getByteLength());
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                        <span class="stringliteral">&quot;KBRTestApp: RPC Success Latency&quot;</span>, SIMTIME_DBL(rtt)));
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                        <span class="stringliteral">&quot;KBRTestApp: RPC Total Latency&quot;</span>, SIMTIME_DBL(rtt)));
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#ae755fda691b0e7b8ed23b318c52871f8">rpcSuccLatencyCount</a>++;
                             <a class="code" href="classKBRTestApp.html#aeb37374bdf671e95a65ce93143cb2afc">rpcSuccLatencySum</a> += SIMTIME_DBL(rtt));
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a>++;
                             <a class="code" href="classKBRTestApp.html#af4d1d4d8f6c1e5ce301b25ca958cc2e5">rpcTotalLatencySum</a> += SIMTIME_DBL(rtt));
                <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* overlayCtrlInfo =
                        <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*<span class="keyword">&gt;</span>(msg-&gt;getControlInfo());

                uint16_t hopSum = msg-&gt;<a class="code" href="classBaseResponseMessage.html#a37417381f7d44bcdf98f9ac8fea75751">getCallHopCount</a>();
                hopSum += (overlayCtrlInfo ? overlayCtrlInfo-&gt;getHopCount() : 1);
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                        <span class="stringliteral">&quot;KBRTestApp: RPC Hop Count&quot;</span>, hopSum));
<span class="comment">//              RECORD_STATS(globalStatistics-&gt;recordHistogram(</span>
<span class="comment">//                      &quot;KBRTestApp: RPC Hop Count Histogram&quot;, hopSum));</span>
            } <span class="keywordflow">else</span> {
                <span class="comment">//std::cout &lt;&lt; simTime() &lt;&lt; &quot; &quot; &lt;&lt; thisNode.getAddress()</span>
                <span class="comment">//          &lt;&lt; &quot; &quot; &lt;&lt; msg-&gt;getSrcNode().getAddress()</span>
                <span class="comment">//          &lt;&lt; &quot; &quot; &lt;&lt; kbrRpcContext-&gt;getDestKey() &lt;&lt; std::endl;</span>
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">numRpcDropped</a>++;
                             <a class="code" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">bytesRpcDropped</a> += msg-&gt;getByteLength());
                <span class="comment">// for failed RPCs add failureLatency to latency statistics vector</span>
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                        <span class="stringliteral">&quot;KBRTestApp: RPC Total Latency&quot;</span>,
                        SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a>)));
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a>++;
                             rpcTotalLatencySum += SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a>));
            }
        }
        <span class="keyword">delete</span> kbrRpcContext;
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(UnderlayTest) {
        <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* kbrRpcContext = check_and_cast&lt;<a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>*&gt;(context);
        <span class="keywordflow">if</span> (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#a0c2d69d2d75cecbd5b35b888db5b6069">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a207c30de6b17507d64187fd78d7f705e" title="number of delivered packets">numUnderlayDelivered</a>++;
                <a class="code" href="classKBRTestApp.html#a1d7a3ba320bc3046d87262d7fd7722b1" title="number of delivered bytes">bytesUnderlayDelivered</a> += msg-&gt;getByteLength());
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                <span class="stringliteral">&quot;KBRTestApp: Underlay RTT&quot;</span>, SIMTIME_DBL(rtt)));
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                <span class="stringliteral">&quot;KBRTestApp: Underlay One-way Latency&quot;</span>,
                SIMTIME_DBL(_UnderlayTestResponse-&gt;getOneWayLatency())));
        }
        <span class="keyword">delete</span> kbrRpcContext;
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa5cd3e30e7a2ecefc0821a5291dce864"></a><!-- doxytag: member="KBRTestApp::handleRpcTimeout" ref="aa5cd3e30e7a2ecefc0821a5291dce864" args="(BaseCallMessage *msg, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;destKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::handleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC timeout has been reached. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The original RPC message. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination node </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classKBRTestApp.html#a16c87b0aff614a09cf41271cb45ec4f0" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">destKey</td><td>the destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#aaaf9cd362481527ed995dd159aa96b73">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00375">375</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>(KbrTest) {
        EV &lt;&lt; <span class="stringliteral">&quot;[KBRTestApp::handleRpcTimeout() @ &quot;</span>
           &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    KBR-Test RPC Response timeout: id=&quot;</span> &lt;&lt; rpcId
           &lt;&lt; endl;

        <span class="comment">/*</span>
<span class="comment">        std::cout &lt;&lt; simTime() &lt;&lt; &quot;: [KBRTestApp::handleRpcTimeout() @ &quot;</span>
<span class="comment">                  &lt;&lt; overlay-&gt;getThisNode().getIp()</span>
<span class="comment">                  &lt;&lt; &quot; (&quot; &lt;&lt; overlay-&gt;getThisNode().getKey().toString(16) &lt;&lt; &quot;)]\n&quot;</span>
<span class="comment">                  &lt;&lt; &quot;    KBR-Test RPC Response (&quot; &lt;&lt; *msg &lt;&lt; &quot;) timeout: id=&quot; &lt;&lt; rpcId</span>
<span class="comment">                  &lt;&lt; std::endl;</span>
<span class="comment">         */</span>

        <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* kbrRpcContext = check_and_cast&lt;<a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>*&gt;(context);
        <span class="keywordflow">if</span> (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#a0c2d69d2d75cecbd5b35b888db5b6069">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
             <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">numRpcDropped</a>++;
                          <a class="code" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">bytesRpcDropped</a> += msg-&gt;getByteLength());
             <span class="comment">// for failed RPCs add failureLatency to latency statistics vector</span>
             <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                         <span class="stringliteral">&quot;KBRTestApp: RPC Total Latency&quot;</span>,
                         SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a>)));
             <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a>++;
                          <a class="code" href="classKBRTestApp.html#af4d1d4d8f6c1e5ce301b25ca958cc2e5">rpcTotalLatencySum</a> += SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a>));

        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>(<a class="code" href="classLookup.html">Lookup</a>) {
        <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* kbrRpcContext = check_and_cast&lt;<a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>*&gt;(context);
        <span class="keywordflow">if</span> (kbrRpcContext-&gt;<a class="code" href="classKbrRpcContext.html#a0c2d69d2d75cecbd5b35b888db5b6069">getMeasurementPhase</a>() == <span class="keyword">true</span>) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">numLookupFailed</a>++);
            <span class="comment">// for failed lookups add failureLatency to latency statistics vector</span>
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234" title="Record a value to a global cOutVector defined by name.">recordOutVector</a>(
                         <span class="stringliteral">&quot;KBRTestApp: Lookup Total Latency&quot;</span>,
                         SIMTIME_DBL(<a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a>)));
        }
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>()

    delete context;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a544559c72c244032558522e8345bf6a1"></a><!-- doxytag: member="KBRTestApp::handleTimerEvent" ref="a544559c72c244032558522e8345bf6a1" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseRpc.html#ab893c156412e38caa62fe058b229899b">BaseRpc</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00160">160</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// schedule next timer event</span>
    scheduleAt(simTime() + truncnormal(<a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e" title="deviation of time interval">deviation</a>), msg);

    <span class="comment">// do nothing if the network is still in the initialization phase</span>
    <span class="keywordflow">if</span> ((!<a class="code" href="classKBRTestApp.html#a5664ac71c5ceb3cc70e710717c8888e2" title="is app active in network init phase?">activeNetwInitPhase</a> &amp;&amp; <a class="code" href="classBaseApp.html#a0587e13700e8641eec8143628dfd34cd" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a00c2e85286a38799c7a04edb52ae6e76" title="still in initialization phase?">isInInitPhase</a>())
            || <a class="code" href="classBaseApp.html#a0587e13700e8641eec8143628dfd34cd" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#abf1b95b990ec72831e5b288b5fb3b013" title="Is the simulation ending soon?">isSimulationEndingSoon</a>()
            || <a class="code" href="classKBRTestApp.html#a567d933d3c6a8f0c1d0194c5e779dbea" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a>) {
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (msg == <a class="code" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">onewayTimer</a>) {
        <span class="comment">// TEST 1: route a test message to a key (one-way)</span>
        <span class="comment">// do nothing if there are currently no nodes in the network</span>
        std::pair&lt;OverlayKey,TransportAddress&gt; dest = <a class="code" href="classKBRTestApp.html#af428946a37da5ca4a29b85a034869e61">createDestKey</a>();
        <span class="keywordflow">if</span> (!dest.first.isUnspecified()) {
            <span class="comment">// create a 100 byte test message</span>
            <a class="code" href="classKBRTestMessage.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KBRTestMessage</a>* testMsg = <span class="keyword">new</span> <a class="code" href="classKBRTestMessage.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KBRTestMessage</a>(<span class="stringliteral">&quot;KBRTestMessage&quot;</span>);
            testMsg-&gt;<a class="code" href="classKBRTestMessage.html#ac3b7ce126aa6ae945cc8c1b5147e138a">setId</a>(getId());
            testMsg-&gt;<a class="code" href="classKBRTestMessage.html#ad2e21c9dac484de1f77fa68aa0b3f388">setSeqNum</a>(<a class="code" href="classKBRTestApp.html#a6ef9eba5d0b033538a778f288f4a4654">sequenceNumber</a>++);
            testMsg-&gt;setByteLength(<a class="code" href="classKBRTestApp.html#af332ff958983a9bb25252feba3e2590e">testMsgSize</a>);
            testMsg-&gt;<a class="code" href="classKBRTestMessage.html#a0219f4d92022698ce12cb6039a5ee268">setMeasurementPhase</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>());

            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795" title="total number of messages sent by KBRTestApp">sentKBRTestAppMessages</a>++;
                         <a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a>++; <a class="code" href="classKBRTestApp.html#a52e5ba5ffe02fd9800db83b15a796b40">bytesSent</a> += testMsg-&gt;getByteLength());

            <a class="code" href="classBaseApp.html#a629659835cf4ccd86a995fd00e5f4794" title="Common API function: calls route-method in overlay.">callRoute</a>(dest.first, testMsg);
        }
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">rpcTimer</a>) {
        <span class="comment">// TEST 2: send a remote procedure call to a specific key and wait for a response</span>
        <span class="comment">// do nothing if there are currently no nodes in the network</span>
        std::pair&lt;OverlayKey,TransportAddress&gt; dest = <a class="code" href="classKBRTestApp.html#af428946a37da5ca4a29b85a034869e61">createDestKey</a>();
        <span class="keywordflow">if</span> (!dest.first.isUnspecified()) {
            <a class="code" href="classKbrTestCall.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrTestCall</a>* call = <span class="keyword">new</span> <a class="code" href="classKbrTestCall.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrTestCall</a>;
            call-&gt;setByteLength(<a class="code" href="classKBRTestApp.html#af332ff958983a9bb25252feba3e2590e">testMsgSize</a>);
            <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* context = <span class="keyword">new</span> <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>;
            context-&gt;<a class="code" href="classKbrRpcContext.html#a23f96766445d8bb622cd466f889bc5e3">setDestKey</a>(dest.first);
            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a>) {
                context-&gt;<a class="code" href="classKbrRpcContext.html#a23cd0dcda8a59174370fcc16b44c70a5">setDestAddr</a>(dest.second);
            }
            context-&gt;<a class="code" href="classKbrRpcContext.html#a4a4448c7a3d64c78f06a56f2dc1ecd7d">setMeasurementPhase</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>());

            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">numRpcSent</a>++;
                         <a class="code" href="classKBRTestApp.html#a2d746dbca5bf7f81ac484c763c651cf1">bytesRpcSent</a> += call-&gt;getByteLength());

            <a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dest.first, call, context,
                             <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>, -1, <a class="code" href="classKBRTestApp.html#a41dcfc5b05deda0623530dd85bc3fc74">rpcRetries</a>);
        }
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">lookupTimer</a>) {
        <span class="comment">// TEST 3: perform a lookup of a specific key</span>
        <span class="comment">// do nothing if there are currently no nodes in the network</span>
        std::pair&lt;OverlayKey,TransportAddress&gt; dest = <a class="code" href="classKBRTestApp.html#af428946a37da5ca4a29b85a034869e61">createDestKey</a>();
        <span class="keywordflow">if</span> (!dest.first.isUnspecified()) {
            <a class="code" href="classLookupCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">LookupCall</a>* call = <span class="keyword">new</span> <a class="code" href="classLookupCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">LookupCall</a>();
            call-&gt;<a class="code" href="classLookupCall.html#ac9cfcf7fe5298270b6b3898b65541a4b">setKey</a>(dest.first);
            call-&gt;<a class="code" href="classLookupCall.html#a1a365b8c947e000203e7fdc144715c2b">setNumSiblings</a>(<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#acd3058ad15b470e024500dd4872e2f09" title="Query the maximum number of siblings (nodes close to a key) that are maintained by this overlay proto...">getMaxNumSiblings</a>());
            <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* context = <span class="keyword">new</span> <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>;
            context-&gt;<a class="code" href="classKbrRpcContext.html#a23f96766445d8bb622cd466f889bc5e3">setDestKey</a>(dest.first);
            <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a>) {
                context-&gt;<a class="code" href="classKbrRpcContext.html#a23cd0dcda8a59174370fcc16b44c70a5">setDestAddr</a>(dest.second);
            }
            context-&gt;<a class="code" href="classKbrRpcContext.html#a4a4448c7a3d64c78f06a56f2dc1ecd7d">setMeasurementPhase</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>());
            <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ead1b904580b02f8adaa1ab2de239c4c79">OVERLAY_COMP</a>, call, context);

            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">numLookupSent</a>++);
        }
    } <span class="keywordflow">else</span> <span class="comment">/*if (msg == underlayRpcTimer)*/</span> {
        <span class="comment">// TEST 4: send a remote procedure call to a specific transportAddress</span>
        <span class="comment">// and wait for a response, do nothing if there are currently no nodes</span>
        <span class="comment">// in the network</span>
        <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>* address =
            <a class="code" href="classBaseApp.html#ac8a54fad527bfd03a05ee6aed434243e" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#afb768cce8523f2c55eb9449b2d489678" title="Selects a random node from the peerSet, which is not already marked for deletion.">getRandomAliveNode</a>(-1); <span class="comment">//TODO</span>

        <span class="keywordflow">if</span> (address == NULL) {
            EV &lt;&lt; <span class="stringliteral">&quot;no node!!!&quot;</span> &lt;&lt; std::endl;
            <span class="keywordflow">return</span>;
        }

        address-&gt;<a class="code" href="classTransportAddress.html#a46a1b53760e5f2d3f8af8c9591160a48" title="sets this-&gt;port to the given port">setPort</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a4cf99c434c5110935683624dc3702e0f" title="returns port">getPort</a>());
        <span class="keywordflow">if</span> (!address-&gt;<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>()) {
            <a class="code" href="classUnderlayTestCall.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">UnderlayTestCall</a>* call = <span class="keyword">new</span> <a class="code" href="classUnderlayTestCall.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">UnderlayTestCall</a>;
            call-&gt;setByteLength(<a class="code" href="classKBRTestApp.html#af332ff958983a9bb25252feba3e2590e">testMsgSize</a>);
            call-&gt;<a class="code" href="classUnderlayTestCall.html#a6781f43e8cc1aaa6475b7bbcce0b4ad2">setSendTime</a>(simTime());

            <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>* context = <span class="keyword">new</span> <a class="code" href="classKbrRpcContext.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrRpcContext</a>;
            context-&gt;<a class="code" href="classKbrRpcContext.html#a4a4448c7a3d64c78f06a56f2dc1ecd7d">setMeasurementPhase</a>(<a class="code" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>());

            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">numUnderlaySent</a>++;
                         <a class="code" href="classKBRTestApp.html#a509fe672ed218ffeaa255fd2b45a6ef3">bytesUnderlaySent</a> += call-&gt;getByteLength());

            <span class="comment">//dest.second.setPort(thisNode.getPort());</span>
            <a class="code" href="classBaseRpc.html#ac128e0ff0d09f81b652f7d3e00ce9441" title="Sends a Remote-Procedure-Call message to the underlay ">sendUdpRpcCall</a>(*address, call, context,
                           <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551aec961f27dcdb3050f97033fbd88b89b3">NO_OVERLAY_ROUTING</a>, -1, <a class="code" href="classKBRTestApp.html#a41dcfc5b05deda0623530dd85bc3fc74">rpcRetries</a>);
        }
    }
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>    <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a46a1b53760e5f2d3f8af8c9591160a48" title="sets this-&gt;port to the given port">setPort</a>(1025);
    <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> handle = <a class="code" href="classBaseApp.html#ac8a54fad527bfd03a05ee6aed434243e" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#ac2b8737b7228a19ddc599adddfbdc5e9" title="Returns a random NodeHandle.">getBootstrapNode</a>();
    handle.<a class="code" href="classTransportAddress.html#a46a1b53760e5f2d3f8af8c9591160a48" title="sets this-&gt;port to the given port">setPort</a>(1025);
    <a class="code" href="classBaseRpc.html#a421904b1b501580efed12e6490d3324a" title="ping a node by its TransportAddress">pingNode</a>(handle, -1, -1, NULL, <span class="stringliteral">&quot;TestPING&quot;</span>, NULL, -1, <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a40381ef6a970530fa0706d138fe256f6"></a><!-- doxytag: member="KBRTestApp::initializeApp" ref="a40381ef6a970530fa0706d138fe256f6" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::initializeApp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initializes derived class-attributes </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stage</td><td>the init stage </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseApp.html#ac9a059a2cfb67f4c38f462bb1383e795">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00051">51</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (stage != <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532ad9afa81d0184c5f0649fa111f7a821bc" title="deprecated">MIN_STAGE_APP</a>) {
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="classKBRTestApp.html#afd14f68bbfff247b4f32498e5b241993">kbrOneWayTest</a> = par(<span class="stringliteral">&quot;kbrOneWayTest&quot;</span>);
    <a class="code" href="classKBRTestApp.html#a64f89ade2d0af91791f6524b7b08cc29">kbrRpcTest</a> = par(<span class="stringliteral">&quot;kbrRpcTest&quot;</span>);
    <a class="code" href="classKBRTestApp.html#aea8edb2d1c871881b1090c93b0325338">kbrLookupTest</a> = par(<span class="stringliteral">&quot;kbrLookupTest&quot;</span>);
    <a class="code" href="classKBRTestApp.html#aaf1a1a1fdbaa133fb8dc06d4dc6c9093">underlayTest</a> = par(<span class="stringliteral">&quot;underlayTest&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="classKBRTestApp.html#afd14f68bbfff247b4f32498e5b241993">kbrOneWayTest</a> &amp;&amp; !<a class="code" href="classKBRTestApp.html#a64f89ade2d0af91791f6524b7b08cc29">kbrRpcTest</a> &amp;&amp; !<a class="code" href="classKBRTestApp.html#aea8edb2d1c871881b1090c93b0325338">kbrLookupTest</a> &amp;&amp; !<a class="code" href="classKBRTestApp.html#aaf1a1a1fdbaa133fb8dc06d4dc6c9093">underlayTest</a>) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;KBRTestApp::initializeApp(): &quot;</span>
                            <span class="stringliteral">&quot;no tests are configured!&quot;</span>);
    }

    <a class="code" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496" title="this latency is recorded for failed lookups and RPCs">failureLatency</a> = par(<span class="stringliteral">&quot;failureLatency&quot;</span>);

    <a class="code" href="classKBRTestApp.html#af332ff958983a9bb25252feba3e2590e">testMsgSize</a> = par(<span class="stringliteral">&quot;testMsgSize&quot;</span>);
    <a class="code" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2" title="lookup only existing nodeIDs">lookupNodeIds</a> = par(<span class="stringliteral">&quot;lookupNodeIds&quot;</span>);
    <a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a> = par(<span class="stringliteral">&quot;testMsgInterval&quot;</span>);
    <a class="code" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e" title="deviation of time interval">deviation</a> = <a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a> / 10;
    <a class="code" href="classKBRTestApp.html#a5664ac71c5ceb3cc70e710717c8888e2" title="is app active in network init phase?">activeNetwInitPhase</a> = par(<span class="stringliteral">&quot;activeNetwInitPhase&quot;</span>);
    <a class="code" href="classKBRTestApp.html#af60509b56e28684a4eb49f25df6552f6" title="how many MsgHandles to store in circular buffer">msgHandleBufSize</a> = par(<span class="stringliteral">&quot;msgHandleBufSize&quot;</span>);
    <a class="code" href="classKBRTestApp.html#a833410beacd955fe47a27bbf7f29107f" title="if true only search for inoffensive nodes (use together with lookupNodeIds)">onlyLookupInoffensiveNodes</a> = par(<span class="stringliteral">&quot;onlyLookupInoffensiveNodes&quot;</span>);

    <span class="comment">//rpcTimeout = par(&quot;rpcTimeout&quot;);</span>
    <a class="code" href="classKBRTestApp.html#a41dcfc5b05deda0623530dd85bc3fc74">rpcRetries</a> = par(<span class="stringliteral">&quot;rpcRetries&quot;</span>);

    <a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a> = 0;
    <a class="code" href="classKBRTestApp.html#a52e5ba5ffe02fd9800db83b15a796b40">bytesSent</a> = 0;
    <a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a> = 0;
    <a class="code" href="classKBRTestApp.html#ad71a94daa5c574ab6d57c1baa984bc9d" title="number of delivered bytes">bytesDelivered</a> = 0;
    <a class="code" href="classKBRTestApp.html#a0b9c2e82f3287e4200d6f12d26371739">numDropped</a> = 0;
    <a class="code" href="classKBRTestApp.html#a3243446a1be631c71455e80d8c25e475">bytesDropped</a> = 0;
    WATCH(<a class="code" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">numSent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a52e5ba5ffe02fd9800db83b15a796b40">bytesSent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542" title="number of delivered packets">numDelivered</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#ad71a94daa5c574ab6d57c1baa984bc9d" title="number of delivered bytes">bytesDelivered</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a0b9c2e82f3287e4200d6f12d26371739">numDropped</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a3243446a1be631c71455e80d8c25e475">bytesDropped</a>);

    <a class="code" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">numRpcSent</a> = 0;
    <a class="code" href="classKBRTestApp.html#a2d746dbca5bf7f81ac484c763c651cf1">bytesRpcSent</a> = 0;
    <a class="code" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04" title="number of delivered packets">numRpcDelivered</a> = 0;
    <a class="code" href="classKBRTestApp.html#ac9287ba30b44d05c1f1e2b3af6e0f2e4" title="number of delivered bytes">bytesRpcDelivered</a> = 0;
    <a class="code" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">numRpcDropped</a> = 0;
    <a class="code" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">bytesRpcDropped</a> = 0;
    <a class="code" href="classKBRTestApp.html#ae755fda691b0e7b8ed23b318c52871f8">rpcSuccLatencyCount</a> = 0;
    <a class="code" href="classKBRTestApp.html#aeb37374bdf671e95a65ce93143cb2afc">rpcSuccLatencySum</a> = 0;
    <a class="code" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">rpcTotalLatencyCount</a> = 0;
    <a class="code" href="classKBRTestApp.html#af4d1d4d8f6c1e5ce301b25ca958cc2e5">rpcTotalLatencySum</a> = 0;
    WATCH(<a class="code" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">numRpcSent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a2d746dbca5bf7f81ac484c763c651cf1">bytesRpcSent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04" title="number of delivered packets">numRpcDelivered</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#ac9287ba30b44d05c1f1e2b3af6e0f2e4" title="number of delivered bytes">bytesRpcDelivered</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">numRpcDropped</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">bytesRpcDropped</a>);

    <a class="code" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">numLookupSent</a> = 0;
    <a class="code" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">numLookupSuccess</a> = 0;
    <a class="code" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">numLookupFailed</a> = 0;
    WATCH(<a class="code" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">numLookupSent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">numLookupSuccess</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">numLookupFailed</a>);

    <a class="code" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">numUnderlaySent</a> = 0;
    <a class="code" href="classKBRTestApp.html#a509fe672ed218ffeaa255fd2b45a6ef3">bytesUnderlaySent</a> = 0;
    <a class="code" href="classKBRTestApp.html#a207c30de6b17507d64187fd78d7f705e" title="number of delivered packets">numUnderlayDelivered</a> = 0;
    <a class="code" href="classKBRTestApp.html#a1d7a3ba320bc3046d87262d7fd7722b1" title="number of delivered bytes">bytesUnderlayDelivered</a> = 0;
    WATCH(<a class="code" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">numUnderlaySent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a509fe672ed218ffeaa255fd2b45a6ef3">bytesUnderlaySent</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a207c30de6b17507d64187fd78d7f705e" title="number of delivered packets">numUnderlayDelivered</a>);
    WATCH(<a class="code" href="classKBRTestApp.html#a1d7a3ba320bc3046d87262d7fd7722b1" title="number of delivered bytes">bytesUnderlayDelivered</a>);

    <a class="code" href="classKBRTestApp.html#a6ef9eba5d0b033538a778f288f4a4654">sequenceNumber</a> = 0;

    <a class="code" href="classKBRTestApp.html#a567d933d3c6a8f0c1d0194c5e779dbea" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a> = <span class="keyword">false</span>;

    <span class="comment">// initialize circular buffer</span>
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#af60509b56e28684a4eb49f25df6552f6" title="how many MsgHandles to store in circular buffer">msgHandleBufSize</a> &gt; 0) {
        <a class="code" href="classKBRTestApp.html#a5af0e7b9efe2ae1aad0d815f19ef25e8" title="circular buffer of MsgHandles">mhBuf</a>.resize(<a class="code" href="classKBRTestApp.html#af60509b56e28684a4eb49f25df6552f6" title="how many MsgHandles to store in circular buffer">msgHandleBufSize</a>);
        <a class="code" href="classKBRTestApp.html#a3485ceb9284504b412d371e9eecaf27f" title="begin of circular buffer">mhBufBegin</a> = <a class="code" href="classKBRTestApp.html#a5af0e7b9efe2ae1aad0d815f19ef25e8" title="circular buffer of MsgHandles">mhBuf</a>.begin();
        <a class="code" href="classKBRTestApp.html#a9a44c784eb9297c7b8fadf276a358c9f" title="end of circular buffer">mhBufEnd</a> = <a class="code" href="classKBRTestApp.html#a5af0e7b9efe2ae1aad0d815f19ef25e8" title="circular buffer of MsgHandles">mhBuf</a>.end();
        <a class="code" href="classKBRTestApp.html#a26eff89ff4d9ea19681a4e2df67e7332" title="next element to insert">mhBufNext</a> = <a class="code" href="classKBRTestApp.html#a3485ceb9284504b412d371e9eecaf27f" title="begin of circular buffer">mhBufBegin</a>;
    }

    <a class="code" href="classBaseApp.html#a3fb90c6906b6a742246af14e4626dfef" title="Tells UDP we want to get all packets arriving on the given port.">bindToPort</a>(1025);
    <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a46a1b53760e5f2d3f8af8c9591160a48" title="sets this-&gt;port to the given port">setPort</a>(1025);

    <span class="comment">// start periodic timer</span>
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#afd14f68bbfff247b4f32498e5b241993">kbrOneWayTest</a>) {
        <a class="code" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">onewayTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;onewayTimer&quot;</span>);
        scheduleAt(simTime() + truncnormal(<a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e" title="deviation of time interval">deviation</a>), <a class="code" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">onewayTimer</a>);
    }
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#a64f89ade2d0af91791f6524b7b08cc29">kbrRpcTest</a>) {
        <a class="code" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">rpcTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;rpcTimer&quot;</span>);
        scheduleAt(simTime() + truncnormal(<a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e" title="deviation of time interval">deviation</a>), <a class="code" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">rpcTimer</a>);
    }
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#aea8edb2d1c871881b1090c93b0325338">kbrLookupTest</a>) {
        <a class="code" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">lookupTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;lookupTimer&quot;</span>);
        scheduleAt(simTime() + truncnormal(<a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e" title="deviation of time interval">deviation</a>), <a class="code" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">lookupTimer</a>);
    }
    <span class="keywordflow">if</span> (<a class="code" href="classKBRTestApp.html#aaf1a1a1fdbaa133fb8dc06d4dc6c9093">underlayTest</a>) {
        <a class="code" href="classKBRTestApp.html#ad5ac3f97138ebeaf211db5d5b48d505b">underlayTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;underlayTimer&quot;</span>);
        scheduleAt(simTime() + truncnormal(<a class="code" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e" title="deviation of time interval">deviation</a>), <a class="code" href="classKBRTestApp.html#ad5ac3f97138ebeaf211db5d5b48d505b">underlayTimer</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5d99afa79b6a0d5b9ec46ce2aab86290"></a><!-- doxytag: member="KBRTestApp::kbrTestCall" ref="a5d99afa79b6a0d5b9ec46ce2aab86290" args="(KbrTestCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::kbrTestCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKbrTestCall.html">KbrTestCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00284">284</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00273">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classKbrTestResponse.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrTestResponse</a>* response = <span class="keyword">new</span> <a class="code" href="classKbrTestResponse.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">KbrTestResponse</a>;
    response-&gt;setByteLength(call-&gt;getByteLength());
    <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(call, response);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afec33d48dc2b5c2920391f29abab1237"></a><!-- doxytag: member="KBRTestApp::pingResponse" ref="afec33d48dc2b5c2920391f29abab1237" args="(PingResponse *response, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::pingResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPingResponse.html">PingResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseRpc.html#afdf8ba10dc92ed3d351c8a7472c2093e">BaseRpc</a>.</p>

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00266">266</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//std::cout &lt;&lt; rtt &lt;&lt; std::endl;</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1eb66b9882fd5f602b5e0fbf70fe7043"></a><!-- doxytag: member="KBRTestApp::underlayTestCall" ref="a1eb66b9882fd5f602b5e0fbf70fe7043" args="(UnderlayTestCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KBRTestApp::underlayTestCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnderlayTestCall.html">UnderlayTestCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8cc_source.html#l00292">292</a> of file <a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00273">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classUnderlayTestResponse.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">UnderlayTestResponse</a>* response = <span class="keyword">new</span> <a class="code" href="classUnderlayTestResponse.html" title="Class generated from applications/kbrtestapp/KBRTestMessage.msg by opp_msgc.">UnderlayTestResponse</a>;
    response-&gt;setByteLength(call-&gt;getByteLength());
    response-&gt;<a class="code" href="classUnderlayTestResponse.html#aa22e58f6ec138dd44cc5b1678cffeab3">setOneWayLatency</a>(simTime() - call-&gt;<a class="code" href="classUnderlayTestCall.html#aee283554424c48040d54f1a9b76cf9d9">getSendTime</a>());
    <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(call, response);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a5664ac71c5ceb3cc70e710717c8888e2"></a><!-- doxytag: member="KBRTestApp::activeNetwInitPhase" ref="a5664ac71c5ceb3cc70e710717c8888e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#a5664ac71c5ceb3cc70e710717c8888e2">KBRTestApp::activeNetwInitPhase</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>is app active in network init phase? </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00138">138</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ad71a94daa5c574ab6d57c1baa984bc9d"></a><!-- doxytag: member="KBRTestApp::bytesDelivered" ref="ad71a94daa5c574ab6d57c1baa984bc9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#ad71a94daa5c574ab6d57c1baa984bc9d">KBRTestApp::bytesDelivered</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of delivered bytes </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00149">149</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00576">evaluateData()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a3243446a1be631c71455e80d8c25e475"></a><!-- doxytag: member="KBRTestApp::bytesDropped" ref="a3243446a1be631c71455e80d8c25e475" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a3243446a1be631c71455e80d8c25e475">KBRTestApp::bytesDropped</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00151">151</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00475">deliver()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9287ba30b44d05c1f1e2b3af6e0f2e4"></a><!-- doxytag: member="KBRTestApp::bytesRpcDelivered" ref="ac9287ba30b44d05c1f1e2b3af6e0f2e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#ac9287ba30b44d05c1f1e2b3af6e0f2e4">KBRTestApp::bytesRpcDelivered</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of delivered bytes </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00156">156</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c76cf2493d997bea95577ad53792e5a"></a><!-- doxytag: member="KBRTestApp::bytesRpcDropped" ref="a1c76cf2493d997bea95577ad53792e5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a1c76cf2493d997bea95577ad53792e5a">KBRTestApp::bytesRpcDropped</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00158">158</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">handleRpcTimeout()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d746dbca5bf7f81ac484c763c651cf1"></a><!-- doxytag: member="KBRTestApp::bytesRpcSent" ref="a2d746dbca5bf7f81ac484c763c651cf1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a2d746dbca5bf7f81ac484c763c651cf1">KBRTestApp::bytesRpcSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00154">154</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a52e5ba5ffe02fd9800db83b15a796b40"></a><!-- doxytag: member="KBRTestApp::bytesSent" ref="a52e5ba5ffe02fd9800db83b15a796b40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a52e5ba5ffe02fd9800db83b15a796b40">KBRTestApp::bytesSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00147">147</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d7a3ba320bc3046d87262d7fd7722b1"></a><!-- doxytag: member="KBRTestApp::bytesUnderlayDelivered" ref="a1d7a3ba320bc3046d87262d7fd7722b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a1d7a3ba320bc3046d87262d7fd7722b1">KBRTestApp::bytesUnderlayDelivered</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of delivered bytes </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00173">173</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a509fe672ed218ffeaa255fd2b45a6ef3"></a><!-- doxytag: member="KBRTestApp::bytesUnderlaySent" ref="a509fe672ed218ffeaa255fd2b45a6ef3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a509fe672ed218ffeaa255fd2b45a6ef3">KBRTestApp::bytesUnderlaySent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00171">171</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="af8c8a7e64e6ed514be5cd90920dd115e"></a><!-- doxytag: member="KBRTestApp::deviation" ref="af8c8a7e64e6ed514be5cd90920dd115e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classKBRTestApp.html#af8c8a7e64e6ed514be5cd90920dd115e">KBRTestApp::deviation</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deviation of time interval </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00137">137</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7d25f9b4fd4445596114c7ae1912496"></a><!-- doxytag: member="KBRTestApp::failureLatency" ref="ab7d25f9b4fd4445596114c7ae1912496" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classKBRTestApp.html#ab7d25f9b4fd4445596114c7ae1912496">KBRTestApp::failureLatency</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>this latency is recorded for failed lookups and RPCs </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00182">182</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00426">handleLookupResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">handleRpcTimeout()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="aea8edb2d1c871881b1090c93b0325338"></a><!-- doxytag: member="KBRTestApp::kbrLookupTest" ref="aea8edb2d1c871881b1090c93b0325338" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#aea8edb2d1c871881b1090c93b0325338">KBRTestApp::kbrLookupTest</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00132">132</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="afd14f68bbfff247b4f32498e5b241993"></a><!-- doxytag: member="KBRTestApp::kbrOneWayTest" ref="afd14f68bbfff247b4f32498e5b241993" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#afd14f68bbfff247b4f32498e5b241993">KBRTestApp::kbrOneWayTest</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00130">130</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a64f89ade2d0af91791f6524b7b08cc29"></a><!-- doxytag: member="KBRTestApp::kbrRpcTest" ref="a64f89ade2d0af91791f6524b7b08cc29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#a64f89ade2d0af91791f6524b7b08cc29">KBRTestApp::kbrRpcTest</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00131">131</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="af63f7f8bdcfce448593663484c0cd5a2"></a><!-- doxytag: member="KBRTestApp::lookupNodeIds" ref="af63f7f8bdcfce448593663484c0cd5a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#af63f7f8bdcfce448593663484c0cd5a2">KBRTestApp::lookupNodeIds</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>lookup only existing nodeIDs </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00139">139</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00542">createDestKey()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00475">deliver()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00426">handleLookupResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f4f7a5ef238222fdcf9cc890ab5c40f"></a><!-- doxytag: member="KBRTestApp::lookupTimer" ref="a2f4f7a5ef238222fdcf9cc890ab5c40f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classKBRTestApp.html#a2f4f7a5ef238222fdcf9cc890ab5c40f">KBRTestApp::lookupTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00179">179</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00035">KBRTestApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00043">~KBRTestApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a73450fb0a1503f2751c75d8cf9d51e04"></a><!-- doxytag: member="KBRTestApp::mean" ref="a73450fb0a1503f2751c75d8cf9d51e04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classKBRTestApp.html#a73450fb0a1503f2751c75d8cf9d51e04">KBRTestApp::mean</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>mean time interval between sending test messages </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00136">136</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a5af0e7b9efe2ae1aad0d815f19ef25e8"></a><!-- doxytag: member="KBRTestApp::mhBuf" ref="a5af0e7b9efe2ae1aad0d815f19ef25e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKBRTestApp.html#ad9837f0d6d4ceaac664870aa186f44a8">MsgHandleBuf</a> <a class="el" href="classKBRTestApp.html#a5af0e7b9efe2ae1aad0d815f19ef25e8">KBRTestApp::mhBuf</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>circular buffer of MsgHandles </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00186">186</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a3485ceb9284504b412d371e9eecaf27f"></a><!-- doxytag: member="KBRTestApp::mhBufBegin" ref="a3485ceb9284504b412d371e9eecaf27f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MsgHandleBuf::iterator <a class="el" href="classKBRTestApp.html#a3485ceb9284504b412d371e9eecaf27f">KBRTestApp::mhBufBegin</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>begin of circular buffer </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00187">187</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00555">checkSeen()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a44c784eb9297c7b8fadf276a358c9f"></a><!-- doxytag: member="KBRTestApp::mhBufEnd" ref="a9a44c784eb9297c7b8fadf276a358c9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MsgHandleBuf::iterator <a class="el" href="classKBRTestApp.html#a9a44c784eb9297c7b8fadf276a358c9f">KBRTestApp::mhBufEnd</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>end of circular buffer </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00189">189</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00555">checkSeen()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a26eff89ff4d9ea19681a4e2df67e7332"></a><!-- doxytag: member="KBRTestApp::mhBufNext" ref="a26eff89ff4d9ea19681a4e2df67e7332" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MsgHandleBuf::iterator <a class="el" href="classKBRTestApp.html#a26eff89ff4d9ea19681a4e2df67e7332">KBRTestApp::mhBufNext</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>next element to insert </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00188">188</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00555">checkSeen()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="af60509b56e28684a4eb49f25df6552f6"></a><!-- doxytag: member="KBRTestApp::msgHandleBufSize" ref="af60509b56e28684a4eb49f25df6552f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKBRTestApp.html#af60509b56e28684a4eb49f25df6552f6">KBRTestApp::msgHandleBufSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>how many MsgHandles to store in circular buffer </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00185">185</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00475">deliver()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a567d933d3c6a8f0c1d0194c5e779dbea"></a><!-- doxytag: member="KBRTestApp::nodeIsLeavingSoon" ref="a567d933d3c6a8f0c1d0194c5e779dbea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#a567d933d3c6a8f0c1d0194c5e779dbea">KBRTestApp::nodeIsLeavingSoon</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if the node is going to be killed shortly </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00140">140</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00470">handleNodeLeaveNotification()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a12358b55f911eed27f411a402e308542"></a><!-- doxytag: member="KBRTestApp::numDelivered" ref="a12358b55f911eed27f411a402e308542" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a12358b55f911eed27f411a402e308542">KBRTestApp::numDelivered</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of delivered packets </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00148">148</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00576">evaluateData()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b9c2e82f3287e4200d6f12d26371739"></a><!-- doxytag: member="KBRTestApp::numDropped" ref="a0b9c2e82f3287e4200d6f12d26371739" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a0b9c2e82f3287e4200d6f12d26371739">KBRTestApp::numDropped</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00150">150</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00475">deliver()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ae243723c9d57797ed147e668c953f6ae"></a><!-- doxytag: member="KBRTestApp::numLookupFailed" ref="ae243723c9d57797ed147e668c953f6ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#ae243723c9d57797ed147e668c953f6ae">KBRTestApp::numLookupFailed</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00168">168</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00426">handleLookupResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">handleRpcTimeout()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d87083e30472441f161c47b617a427f"></a><!-- doxytag: member="KBRTestApp::numLookupSent" ref="a7d87083e30472441f161c47b617a427f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a7d87083e30472441f161c47b617a427f">KBRTestApp::numLookupSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00166">166</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a627fe29d5bed8ea2d7f1b2fbe2881e53"></a><!-- doxytag: member="KBRTestApp::numLookupSuccess" ref="a627fe29d5bed8ea2d7f1b2fbe2881e53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a627fe29d5bed8ea2d7f1b2fbe2881e53">KBRTestApp::numLookupSuccess</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00167">167</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00426">handleLookupResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9ea83ac232db846335c38619e6d9d04"></a><!-- doxytag: member="KBRTestApp::numRpcDelivered" ref="ad9ea83ac232db846335c38619e6d9d04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#ad9ea83ac232db846335c38619e6d9d04">KBRTestApp::numRpcDelivered</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of delivered packets </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00155">155</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a837931e670a4117501d5b5d06d91a147"></a><!-- doxytag: member="KBRTestApp::numRpcDropped" ref="a837931e670a4117501d5b5d06d91a147" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a837931e670a4117501d5b5d06d91a147">KBRTestApp::numRpcDropped</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00157">157</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">handleRpcTimeout()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="aafa44894b8e262682596aea6b235bcf1"></a><!-- doxytag: member="KBRTestApp::numRpcSent" ref="aafa44894b8e262682596aea6b235bcf1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#aafa44894b8e262682596aea6b235bcf1">KBRTestApp::numRpcSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00153">153</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ce13256ea63aa80192971d5c2ac50cc"></a><!-- doxytag: member="KBRTestApp::numSent" ref="a8ce13256ea63aa80192971d5c2ac50cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a8ce13256ea63aa80192971d5c2ac50cc">KBRTestApp::numSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00146">146</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00576">evaluateData()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a207c30de6b17507d64187fd78d7f705e"></a><!-- doxytag: member="KBRTestApp::numUnderlayDelivered" ref="a207c30de6b17507d64187fd78d7f705e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a207c30de6b17507d64187fd78d7f705e">KBRTestApp::numUnderlayDelivered</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of delivered packets </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00172">172</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="aa3ce14b7182753ccf770d6aeb74913f9"></a><!-- doxytag: member="KBRTestApp::numUnderlaySent" ref="aa3ce14b7182753ccf770d6aeb74913f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#aa3ce14b7182753ccf770d6aeb74913f9">KBRTestApp::numUnderlaySent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00170">170</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5be1d5ec79f8e69184fa221d1b3d3d0"></a><!-- doxytag: member="KBRTestApp::onewayTimer" ref="ae5be1d5ec79f8e69184fa221d1b3d3d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classKBRTestApp.html#ae5be1d5ec79f8e69184fa221d1b3d3d0">KBRTestApp::onewayTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00177">177</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00035">KBRTestApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00043">~KBRTestApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a833410beacd955fe47a27bbf7f29107f"></a><!-- doxytag: member="KBRTestApp::onlyLookupInoffensiveNodes" ref="a833410beacd955fe47a27bbf7f29107f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#a833410beacd955fe47a27bbf7f29107f">KBRTestApp::onlyLookupInoffensiveNodes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>if true only search for inoffensive nodes (use together with lookupNodeIds) </p>

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00141">141</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00542">createDestKey()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a41dcfc5b05deda0623530dd85bc3fc74"></a><!-- doxytag: member="KBRTestApp::rpcRetries" ref="a41dcfc5b05deda0623530dd85bc3fc74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKBRTestApp.html#a41dcfc5b05deda0623530dd85bc3fc74">KBRTestApp::rpcRetries</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00144">144</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ae755fda691b0e7b8ed23b318c52871f8"></a><!-- doxytag: member="KBRTestApp::rpcSuccLatencyCount" ref="ae755fda691b0e7b8ed23b318c52871f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#ae755fda691b0e7b8ed23b318c52871f8">KBRTestApp::rpcSuccLatencyCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00161">161</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb37374bdf671e95a65ce93143cb2afc"></a><!-- doxytag: member="KBRTestApp::rpcSuccLatencySum" ref="aeb37374bdf671e95a65ce93143cb2afc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classKBRTestApp.html#aeb37374bdf671e95a65ce93143cb2afc">KBRTestApp::rpcSuccLatencySum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00160">160</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a13818c2e1fb89ff3639fc4dc48962100"></a><!-- doxytag: member="KBRTestApp::rpcTimer" ref="a13818c2e1fb89ff3639fc4dc48962100" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classKBRTestApp.html#a13818c2e1fb89ff3639fc4dc48962100">KBRTestApp::rpcTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00178">178</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00035">KBRTestApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00043">~KBRTestApp()</a>.</p>

</div>
</div>
<a class="anchor" id="acb9b120ab10edc6a08b554e7ea6f732b"></a><!-- doxytag: member="KBRTestApp::rpcTotalLatencyCount" ref="acb9b120ab10edc6a08b554e7ea6f732b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#acb9b120ab10edc6a08b554e7ea6f732b">KBRTestApp::rpcTotalLatencyCount</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00164">164</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">handleRpcTimeout()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="af4d1d4d8f6c1e5ce301b25ca958cc2e5"></a><!-- doxytag: member="KBRTestApp::rpcTotalLatencySum" ref="af4d1d4d8f6c1e5ce301b25ca958cc2e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classKBRTestApp.html#af4d1d4d8f6c1e5ce301b25ca958cc2e5">KBRTestApp::rpcTotalLatencySum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00163">163</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">handleRpcTimeout()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ef9eba5d0b033538a778f288f4a4654"></a><!-- doxytag: member="KBRTestApp::sequenceNumber" ref="a6ef9eba5d0b033538a778f288f4a4654" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classKBRTestApp.html#a6ef9eba5d0b033538a778f288f4a4654">KBRTestApp::sequenceNumber</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00184">184</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="af332ff958983a9bb25252feba3e2590e"></a><!-- doxytag: member="KBRTestApp::testMsgSize" ref="af332ff958983a9bb25252feba3e2590e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classKBRTestApp.html#af332ff958983a9bb25252feba3e2590e">KBRTestApp::testMsgSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00135">135</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">handleTimerEvent()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf1a1a1fdbaa133fb8dc06d4dc6c9093"></a><!-- doxytag: member="KBRTestApp::underlayTest" ref="aaf1a1a1fdbaa133fb8dc06d4dc6c9093" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classKBRTestApp.html#aaf1a1a1fdbaa133fb8dc06d4dc6c9093">KBRTestApp::underlayTest</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00133">133</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00595">finishApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5ac3f97138ebeaf211db5d5b48d505b"></a><!-- doxytag: member="KBRTestApp::underlayTimer" ref="ad5ac3f97138ebeaf211db5d5b48d505b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classKBRTestApp.html#ad5ac3f97138ebeaf211db5d5b48d505b">KBRTestApp::underlayTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="KBRTestApp_8h_source.html#l00180">180</a> of file <a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00051">initializeApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00035">KBRTestApp()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00043">~KBRTestApp()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="KBRTestApp_8h_source.html">KBRTestApp.h</a></li>
<li><a class="el" href="KBRTestApp_8cc_source.html">KBRTestApp.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classKBRTestApp.html">KBRTestApp</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:52 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
