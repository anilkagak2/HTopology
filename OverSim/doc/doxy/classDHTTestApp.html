<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: DHTTestApp Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classDHTTestApp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DHTTestApp Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="DHTTestApp" --><!-- doxytag: inherits="BaseApp" -->
<p>A simple test application for the <a class="el" href="classDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols.">DHT</a> layer.  
 <a href="classDHTTestApp.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DHTTestApp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classDHTTestApp.png" usemap="#DHTTestApp_map" alt=""/>
  <map id="DHTTestApp_map" name="DHTTestApp_map">
<area href="classBaseApp.html" title="Base class for applications." alt="BaseApp" shape="rect" coords="57,112,162,136"/>
<area href="classBaseRpc.html" title="Base class for RPCs." alt="BaseRpc" shape="rect" coords="0,56,105,80"/>
<area href="classBaseTcpSupport.html" alt="BaseTcpSupport" shape="rect" coords="115,56,220,80"/>
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="0,0,105,24"/>
</map>
 </div></div>

<p><a href="classDHTTestApp-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp_1_1DHTStatsContext.html">DHTStatsContext</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A container used by the <a class="el" href="classDHTTestApp.html" title="A simple test application for the DHT layer.">DHTTestApp</a> to store context information for statistics.  <a href="classDHTTestApp_1_1DHTStatsContext.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a0a0840e7bb866ccd8c5471d3f0e634b4">DHTTestApp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#ac45580ca81db024b32cece1708e8ecdb">~DHTTestApp</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">virtual destructor  <a href="#ac45580ca81db024b32cece1708e8ecdb"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a1dbcbcf6d572a92d96b653a84f20762f">initializeApp</a> (int stage)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes derived class-attributes  <a href="#a1dbcbcf6d572a92d96b653a84f20762f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOverlayKey.html">OverlayKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a4c457682f2b47770f3fff91f6b88e7c6">getRandomKey</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classGet.html">Get</a> a random key of the hashmap.  <a href="#a4c457682f2b47770f3fff91f6b88e7c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBinaryValue.html">BinaryValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a9be8107d57a83b411be97e1b65070431">generateRandomValue</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">generate a random human readable binary value  <a href="#a9be8107d57a83b411be97e1b65070431"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#abdd72d999ad41263d53ff7c327440719">finishApp</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">collects statistical data of derived app  <a href="#abdd72d999ad41263d53ff7c327440719"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a7b4545f1a02f2375022e539edda70b83">handleGetResponse</a> (<a class="el" href="classDHTgetCAPIResponse.html">DHTgetCAPIResponse</a> *msg, <a class="el" href="classDHTTestApp_1_1DHTStatsContext.html">DHTStatsContext</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">processes get responses  <a href="#a7b4545f1a02f2375022e539edda70b83"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a34cee5766e76fd890b1ffc1c47bd70af">handlePutResponse</a> (<a class="el" href="classDHTputCAPIResponse.html">DHTputCAPIResponse</a> *msg, <a class="el" href="classDHTTestApp_1_1DHTStatsContext.html">DHTStatsContext</a> *context)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">processes put responses  <a href="#a34cee5766e76fd890b1ffc1c47bd70af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a57c136fb3debefcaff6be79875ac5839">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">processes self-messages  <a href="#a57c136fb3debefcaff6be79875ac5839"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#ae7ccfcef4444cc442a88108cd1224859">handleTraceMessage</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">handleTraceMessage gets called of <a class="el" href="classBaseApp.html#a98800700e14545cd84636ca4413f605a" title="checks for message type and calls corresponding method">handleMessage(cMessage* msg)</a> if a message arrives at trace_in.  <a href="#ae7ccfcef4444cc442a88108cd1224859"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a4eb8a392b1df437218d97562720aab16">handleNodeLeaveNotification</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method gets call **.gracefulLeaveDelay seconds before it is killed.  <a href="#a4eb8a392b1df437218d97562720aab16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#afbe95878427716ff35a2c7c559be8cbb">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, const <a class="el" href="classRpcState.html">RpcState</a> &amp;state, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC response has been received.  <a href="#afbe95878427716ff35a2c7c559be8cbb"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classUnderlayConfigurator.html">UnderlayConfigurator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3">underlayConfigurator</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to <a class="el" href="classUnderlayConfigurator.html" title="Base class for configurators of different underlay models.">UnderlayConfigurator</a> in this node  <a href="#a0988c5e483cd3e9ad2216698b9e68ee3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGlobalNodeList.html">GlobalNodeList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#ab9974591a12c984d91329a3da87b6173">globalNodeList</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to <a class="el" href="classGlobalNodeList.html" title="Global module (formerly known as BootstrapList) that supports the node bootstrap process and contains...">GlobalNodeList</a> in this node  <a href="#ab9974591a12c984d91329a3da87b6173"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb">globalStatistics</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to <a class="el" href="classGlobalStatistics.html" title="Module to record global statistics.">GlobalStatistics</a> module in this node  <a href="#a57ec8613b021a442c7f92b900eb2e4bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGlobalDhtTestMap.html">GlobalDhtTestMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab">globalDhtTestMap</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the <a class="el" href="classGlobalDhtTestMap.html" title="Module with a global view on all currently stored DHT records (used by DHTTestApp).">GlobalDhtTestMap</a> module  <a href="#ad91ef66361edfae98e08fa3aedfb18ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#af4f5c22914b4aa65988213e8d5c9e90a">debugOutput</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">debug output yes/no?  <a href="#af4f5c22914b4aa65988213e8d5c9e90a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a">mean</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">mean time interval between sending test messages  <a href="#a337be44cdf668652b67559ea9c1a078a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b">deviation</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deviation of time interval  <a href="#a3882c7d6b083d35b4695ca7735788a8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282">ttl</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ttl for stored <a class="el" href="classDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols.">DHT</a> records  <a href="#a0b79803a1764a205e79085fefeee1282"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739">p2pnsTraffic</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">model p2pns application traffic */  <a href="#ab439b6f5902ff36c19fb8275d35b0739"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a5face430e11029d3d3d881feb39b7154">activeNetwInitPhase</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">is app active in network init phase?  <a href="#a5face430e11029d3d3d881feb39b7154"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed">numSent</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of sent packets  <a href="#a84ac623892d99d17de8e3de2a34303ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45">numGetSent</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of get sent  <a href="#afa57b7991dbb7441febc587e77ceed45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef">numGetError</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of false get responses  <a href="#a6c2e06c541374b74b830feaa19ea01ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288">numGetSuccess</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of false get responses  <a href="#a4b2b08e322de19bb426e7db6b4fa9288"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6">numPutSent</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of put sent  <a href="#a976a6108554340c7449506a9ed4e7df6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a675de4861172cc8816efd1a8594d435d">numPutError</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of error in put responses  <a href="#a675de4861172cc8816efd1a8594d435d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a0982af4071cf4f7bdc319fff9b6d0a1b">numPutSuccess</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of success in put responses  <a href="#a0982af4071cf4f7bdc319fff9b6d0a1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a3c455463cb44c4eed8dd2e3d84ebbf7f">dhttestput_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a26395d1f0daef29f778aba5effd2fc2f">dhttestget_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#ade1621096e593ad2b4cd05d69cdd4593">dhttestmod_timer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f">nodeIsLeavingSoon</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">true if the node is going to be killed shortly  <a href="#a5f12523fc8aa1ea2c2f0f700a39bf20f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDHTTestApp.html#add7f40e10adb1368253f0d3c5a3b1ff8">DHTTESTAPP_VALUE_LEN</a> = 20</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A simple test application for the <a class="el" href="classDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols.">DHT</a> layer. </p>
<p>A simple test application that does random put and get calls on the <a class="el" href="classDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols.">DHT</a> layer</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Ingmar Baumgart </dd></dl>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00050">50</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0a0840e7bb866ccd8c5471d3f0e634b4"></a><!-- doxytag: member="DHTTestApp::DHTTestApp" ref="a0a0840e7bb866ccd8c5471d3f0e634b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DHTTestApp::DHTTestApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00046">46</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classDHTTestApp.html#a3c455463cb44c4eed8dd2e3d84ebbf7f">dhttestput_timer</a> = NULL;
    <a class="code" href="classDHTTestApp.html#a26395d1f0daef29f778aba5effd2fc2f">dhttestget_timer</a> = NULL;
    <a class="code" href="classDHTTestApp.html#ade1621096e593ad2b4cd05d69cdd4593">dhttestmod_timer</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac45580ca81db024b32cece1708e8ecdb"></a><!-- doxytag: member="DHTTestApp::~DHTTestApp" ref="ac45580ca81db024b32cece1708e8ecdb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DHTTestApp::~DHTTestApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>virtual destructor </p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00039">39</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    cancelAndDelete(<a class="code" href="classDHTTestApp.html#a3c455463cb44c4eed8dd2e3d84ebbf7f">dhttestput_timer</a>);
    cancelAndDelete(<a class="code" href="classDHTTestApp.html#a26395d1f0daef29f778aba5effd2fc2f">dhttestget_timer</a>);
    cancelAndDelete(<a class="code" href="classDHTTestApp.html#ade1621096e593ad2b4cd05d69cdd4593">dhttestmod_timer</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abdd72d999ad41263d53ff7c327440719"></a><!-- doxytag: member="DHTTestApp::finishApp" ref="abdd72d999ad41263d53ff7c327440719" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::finishApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>collects statistical data of derived app </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a9702f80de642a3e090aaf5bedea8e4a6">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00450">450</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    simtime_t time = <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a610799ebfbf64696c59b811870cc8300">calcMeasuredLifetime</a>(<a class="code" href="classBaseApp.html#ac365b8c1cb45fb1e37f95535936a0f31" title="simTime when the App has been created">creationTime</a>);

    <span class="keywordflow">if</span> (time &gt;= <a class="code" href="classGlobalStatistics.html#a169810c78519b271f7e32fdc7c9fc641" title="minimum useful measured lifetime in seconds">GlobalStatistics::MIN_MEASURED</a>) {
        <span class="comment">// record scalar data</span>
        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Sent Total Messages/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a> / time);
        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Sent GET Messages/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45" title="number of get sent">numGetSent</a> / time);
        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Failed GET Requests/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a> / time);
        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Successful GET Requests/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a> / time);

        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Sent PUT Messages/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a> / time);
        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Failed PUT Requests/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#a675de4861172cc8816efd1a8594d435d" title="number of error in put responses">numPutError</a> / time);
        <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: Successful PUT Requests/s&quot;</span>,
                                    <a class="code" href="classDHTTestApp.html#a0982af4071cf4f7bdc319fff9b6d0a1b" title="number of success in put responses">numPutSuccess</a> / time);

        <span class="keywordflow">if</span> ((<a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a> + <a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>) &gt; 0) {
            <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: GET Success Ratio&quot;</span>,
                                        (<span class="keywordtype">double</span>) <a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a>
                                        / (<span class="keywordtype">double</span>) (<a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a> + <a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>));
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9be8107d57a83b411be97e1b65070431"></a><!-- doxytag: member="DHTTestApp::generateRandomValue" ref="a9be8107d57a83b411be97e1b65070431" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBinaryValue.html">BinaryValue</a> DHTTestApp::generateRandomValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>generate a random human readable binary value </p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00433">433</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> value[<a class="code" href="classDHTTestApp.html#add7f40e10adb1368253f0d3c5a3b1ff8">DHTTESTAPP_VALUE_LEN</a> + 1];

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classDHTTestApp.html#add7f40e10adb1368253f0d3c5a3b1ff8">DHTTESTAPP_VALUE_LEN</a>; i++) {
        value[i] = intuniform(0, 25) + <span class="charliteral">&#39;a&#39;</span>;
    }

    value[<a class="code" href="classDHTTestApp.html#add7f40e10adb1368253f0d3c5a3b1ff8">DHTTESTAPP_VALUE_LEN</a>] = <span class="charliteral">&#39;\0&#39;</span>;
    <span class="keywordflow">return</span> <a class="code" href="classBinaryValue.html">BinaryValue</a>(value);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4c457682f2b47770f3fff91f6b88e7c6"></a><!-- doxytag: member="DHTTestApp::getRandomKey" ref="a4c457682f2b47770f3fff91f6b88e7c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> DHTTestApp::getRandomKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classGet.html">Get</a> a random key of the hashmap. </p>

</div>
</div>
<a class="anchor" id="a7b4545f1a02f2375022e539edda70b83"></a><!-- doxytag: member="DHTTestApp::handleGetResponse" ref="a7b4545f1a02f2375022e539edda70b83" args="(DHTgetCAPIResponse *msg, DHTStatsContext *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::handleGetResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDHTgetCAPIResponse.html">DHTgetCAPIResponse</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDHTTestApp_1_1DHTStatsContext.html">DHTStatsContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>processes get responses </p>
<p>method to handle get responses should be overwritten in derived application if needed </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>get response message </td></tr>
    <tr><td class="paramname">context</td><td>context object used for collecting statistics </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00173">173</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (context-&gt;measurementPhase == <span class="keyword">false</span>) {
        <span class="comment">// don&#39;t count response, if the request was not sent</span>
        <span class="comment">// in the measurement phase</span>
        <span class="keyword">delete</span> context;
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: GET Latency (s)&quot;</span>,
                               SIMTIME_DBL(simTime() - context-&gt;requestTime)));

    <span class="keywordflow">if</span> (!(msg-&gt;<a class="code" href="classDHTgetCAPIResponse.html#a0988511b4762bbf07c5fd1683bdd9eeb">getIsSuccess</a>())) {
        <span class="comment">//cout &lt;&lt; &quot;DHTTestApp: success == false&quot; &lt;&lt; endl;</span>
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>++);
        <span class="keyword">delete</span> context;
        <span class="keywordflow">return</span>;
    }

    <span class="keyword">const</span> <a class="code" href="structDHTEntry.html">DHTEntry</a>* entry = <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a592087af97fb9215c7096fc80c2d7028">findEntry</a>(context-&gt;key);

    <span class="keywordflow">if</span> (entry == NULL) {
        <span class="comment">//unexpected key</span>
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>++);
        <span class="comment">//cout &lt;&lt; &quot;DHTTestApp: unexpected key&quot; &lt;&lt; endl;</span>
        <span class="keyword">delete</span> context;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (simTime() &gt; entry-&gt;<a class="code" href="structDHTEntry.html#a2ed765b2f95bd8537908ea566489b1a4">endtime</a>) {
        <span class="comment">//this key doesn&#39;t exist anymore in the DHT, delete it in our hashtable</span>

        <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a603030fca8fc22a623b7b776944d3b5e">eraseEntry</a>(context-&gt;key);
        <span class="keyword">delete</span> context;

        <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="classDHTgetCAPIResponse.html#a60db22faafb11144b4c7eb30350eacf9">getResultArraySize</a>() &gt; 0) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>++);
            <span class="comment">//cout &lt;&lt; &quot;DHTTestApp: deleted key still available&quot; &lt;&lt; endl;</span>
            <span class="keywordflow">return</span>;
        } <span class="keywordflow">else</span> {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a>++);
            <span class="comment">//cout &lt;&lt; &quot;DHTTestApp: success (1)&quot; &lt;&lt; endl;</span>
            <span class="keywordflow">return</span>;
        }
    } <span class="keywordflow">else</span> {
        <span class="keyword">delete</span> context;
        <span class="keywordflow">if</span> ((msg-&gt;<a class="code" href="classDHTgetCAPIResponse.html#a60db22faafb11144b4c7eb30350eacf9">getResultArraySize</a>() &gt; 0) &amp;&amp;
                (msg-&gt;<a class="code" href="classDHTgetCAPIResponse.html#a52204cc4c7b6b44a8dd83adbf954f88a">getResult</a>(0).<a class="code" href="classDhtDumpEntry.html#a690fe434ac3281d8e31670fb944e1771">getValue</a>() == entry-&gt;<a class="code" href="structDHTEntry.html#a7880e7d46ceae471108a3b7a8b6e7588">value</a>)) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a>++);
            <span class="comment">//cout &lt;&lt; &quot;DHTTestApp: success (2)&quot; &lt;&lt; endl;</span>
            <span class="keywordflow">return</span>;
        } <span class="keywordflow">else</span> {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>++);
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>            <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="classDHTgetCAPIResponse.html#a60db22faafb11144b4c7eb30350eacf9">getResultArraySize</a>()) {
                cout &lt;&lt; <span class="stringliteral">&quot;DHTTestApp: wrong value: &quot;</span> &lt;&lt; msg-&gt;<a class="code" href="classDHTgetCAPIResponse.html#a52204cc4c7b6b44a8dd83adbf954f88a">getResult</a>(0).<a class="code" href="classDhtDumpEntry.html#a690fe434ac3281d8e31670fb944e1771">getValue</a>() &lt;&lt; endl;
            } <span class="keywordflow">else</span> {
                cout &lt;&lt; <span class="stringliteral">&quot;DHTTestApp: no value&quot;</span> &lt;&lt; endl;
            }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>            <span class="keywordflow">return</span>;
        }
    }

}
</pre></div>
</div>
</div>
<a class="anchor" id="a4eb8a392b1df437218d97562720aab16"></a><!-- doxytag: member="DHTTestApp::handleNodeLeaveNotification" ref="a4eb8a392b1df437218d97562720aab16" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::handleNodeLeaveNotification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method gets call **.gracefulLeaveDelay seconds before it is killed. </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a6de99518e6f58cd2cb3bbc639e198d82">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00445">445</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a34cee5766e76fd890b1ffc1c47bd70af"></a><!-- doxytag: member="DHTTestApp::handlePutResponse" ref="a34cee5766e76fd890b1ffc1c47bd70af" args="(DHTputCAPIResponse *msg, DHTStatsContext *context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::handlePutResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDHTputCAPIResponse.html">DHTputCAPIResponse</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDHTTestApp_1_1DHTStatsContext.html">DHTStatsContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>processes put responses </p>
<p>method to handle put responses should be overwritten in derived application if needed </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>put response message </td></tr>
    <tr><td class="paramname">context</td><td>context object used for collecting statistics </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00147">147</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structDHTEntry.html">DHTEntry</a> entry = {context-&gt;<a class="code" href="structDHTEntry.html#a7880e7d46ceae471108a3b7a8b6e7588">value</a>, simTime() + <a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a>, simTime()};

    <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a4325733ef7c67e2e69263afa828cef48">insertEntry</a>(context-&gt;key, entry);

    <span class="keywordflow">if</span> (context-&gt;measurementPhase == <span class="keyword">false</span>) {
        <span class="comment">// don&#39;t count response, if the request was not sent</span>
        <span class="comment">// in the measurement phase</span>
        <span class="keyword">delete</span> context;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="classDHTputCAPIResponse.html#a261123059043e9d69a9b71e41e217a51">getIsSuccess</a>()) {
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a0982af4071cf4f7bdc319fff9b6d0a1b" title="number of success in put responses">numPutSuccess</a>++);
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;DHTTestApp: PUT Latency (s)&quot;</span>,
                               SIMTIME_DBL(simTime() - context-&gt;requestTime)));
    } <span class="keywordflow">else</span> {
        <span class="comment">//cout &lt;&lt; &quot;DHTTestApp: PUT failed&quot; &lt;&lt; endl;</span>
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a675de4861172cc8816efd1a8594d435d" title="number of error in put responses">numPutError</a>++);
    }

    <span class="keyword">delete</span> context;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afbe95878427716ff35a2c7c559be8cbb"></a><!-- doxytag: member="DHTTestApp::handleRpcResponse" ref="afbe95878427716ff35a2c7c559be8cbb" args="(BaseResponseMessage *msg, const RpcState &amp;state, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classRpcState.html">RpcState</a> &amp;&#160;</td>
          <td class="paramname"><em>rpcState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC response has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The response message. </td></tr>
    <tr><td class="paramname">rpcState</td><td>Reference to an <a class="el" href="classRpcState.html">RpcState</a> object containing e.g. the original call message, the destination (<a class="el" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a> and/or <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>), a context pointer, ... </td></tr>
    <tr><td class="paramname">rtt</td><td>The round-trip time of this RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#ac7be6c4f944569921519314295fe7cf4">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00121">121</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( DHTputCAPI ) {
        <a class="code" href="classDHTTestApp.html#a34cee5766e76fd890b1ffc1c47bd70af" title="processes put responses">handlePutResponse</a>(_DHTputCAPIResponse,
                          check_and_cast&lt;DHTStatsContext*&gt;(state.getContext()));
        EV &lt;&lt; <span class="stringliteral">&quot;[DHTTestApp::handleRpcResponse()]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    DHT Put RPC Response received: id=&quot;</span> &lt;&lt; state.getId()
           &lt;&lt; <span class="stringliteral">&quot; msg=&quot;</span> &lt;&lt; *_DHTputCAPIResponse &lt;&lt; <span class="stringliteral">&quot; rtt=&quot;</span> &lt;&lt; rtt
           &lt;&lt; endl;
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(DHTgetCAPI)
    {
        <a class="code" href="classDHTTestApp.html#a7b4545f1a02f2375022e539edda70b83" title="processes get responses">handleGetResponse</a>(_DHTgetCAPIResponse,
                          check_and_cast&lt;DHTStatsContext*&gt;(state.getContext()));
        EV &lt;&lt; <span class="stringliteral">&quot;[DHTTestApp::handleRpcResponse()]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    DHT Get RPC Response received: id=&quot;</span> &lt;&lt; state.getId()
           &lt;&lt; <span class="stringliteral">&quot; msg=&quot;</span> &lt;&lt; *_DHTgetCAPIResponse &lt;&lt; <span class="stringliteral">&quot; rtt=&quot;</span> &lt;&lt; rtt
           &lt;&lt; endl;
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>()
}
</pre></div>
</div>
</div>
<a class="anchor" id="a57c136fb3debefcaff6be79875ac5839"></a><!-- doxytag: member="DHTTestApp::handleTimerEvent" ref="a57c136fb3debefcaff6be79875ac5839" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>processes self-messages </p>
<p>method to handle self-messages should be overwritten in derived application if needed </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>self-message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseRpc.html#ab893c156412e38caa62fe058b229899b">BaseRpc</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00298">298</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (msg-&gt;isName(<span class="stringliteral">&quot;dhttest_put_timer&quot;</span>)) {
        <span class="comment">// schedule next timer event</span>
        scheduleAt(simTime() + truncnormal(<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a>), msg);

        <span class="comment">// do nothing if the network is still in the initialization phase</span>
        <span class="keywordflow">if</span> (((!<a class="code" href="classDHTTestApp.html#a5face430e11029d3d3d881feb39b7154" title="is app active in network init phase?">activeNetwInitPhase</a>) &amp;&amp; (<a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a00c2e85286a38799c7a04edb52ae6e76" title="still in initialization phase?">isInInitPhase</a>()))
                || <a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#abf1b95b990ec72831e5b288b5fb3b013" title="Is the simulation ending soon?">isSimulationEndingSoon</a>()
                || <a class="code" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a>)
            <span class="keywordflow">return</span>;

        <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739" title="model p2pns application traffic */">p2pnsTraffic</a>) {
            <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a89843b7d3d570f4a623e5f9c372094a8">p2pnsNameCount</a> &lt; 4*<a class="code" href="classDHTTestApp.html#ab9974591a12c984d91329a3da87b6173" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a00f1090684fefa9f46e571c2d9dab733">getNumNodes</a>()) {
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {
                    <span class="comment">// create a put test message with random destination key</span>
                    <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> destKey = <a class="code" href="classOverlayKey.html#a1983e1b47e32783f8ccd5e59fe725290" title="Returns a random key.">OverlayKey::random</a>();
                    <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>* dhtPutMsg = <span class="keyword">new</span> <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>();
                    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a37024f06e1df68c15537308c93398a76">setKey</a>(destKey);
                    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#acd4367f2102a4cde3a54239b34634523">setValue</a>(<a class="code" href="classDHTTestApp.html#a9be8107d57a83b411be97e1b65070431" title="generate a random human readable binary value">generateRandomValue</a>());
                    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a70353eafa652b90bd29623d9034c7f2e">setTtl</a>(<a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a>);
                    dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a66ed93f6ded5bb51323ee98690da7b5e">setIsModifiable</a>(<span class="keyword">true</span>);

                    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a>++);
                    <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtPutMsg,
                            <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                                simTime(), destKey, dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#ab53d76fa1d8b9af3e2b82e3e3a56281c">getValue</a>()));
                    <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a89843b7d3d570f4a623e5f9c372094a8">p2pnsNameCount</a>++;
                }
            }
            cancelEvent(msg);
            <span class="keywordflow">return</span>;
        }

        <span class="comment">// create a put test message with random destination key</span>
        <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> destKey = <a class="code" href="classOverlayKey.html#a1983e1b47e32783f8ccd5e59fe725290" title="Returns a random key.">OverlayKey::random</a>();
        <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>* dhtPutMsg = <span class="keyword">new</span> <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>();
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a37024f06e1df68c15537308c93398a76">setKey</a>(destKey);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#acd4367f2102a4cde3a54239b34634523">setValue</a>(<a class="code" href="classDHTTestApp.html#a9be8107d57a83b411be97e1b65070431" title="generate a random human readable binary value">generateRandomValue</a>());
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a70353eafa652b90bd29623d9034c7f2e">setTtl</a>(<a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a>);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a66ed93f6ded5bb51323ee98690da7b5e">setIsModifiable</a>(<span class="keyword">true</span>);

        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a>++);
        <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtPutMsg,
                <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                    simTime(), destKey, dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#ab53d76fa1d8b9af3e2b82e3e3a56281c">getValue</a>()));
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;isName(<span class="stringliteral">&quot;dhttest_get_timer&quot;</span>)) {
        scheduleAt(simTime() + truncnormal(<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a>), msg);

        <span class="comment">// do nothing if the network is still in the initialization phase</span>
        <span class="keywordflow">if</span> (((!<a class="code" href="classDHTTestApp.html#a5face430e11029d3d3d881feb39b7154" title="is app active in network init phase?">activeNetwInitPhase</a>) &amp;&amp; (<a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a00c2e85286a38799c7a04edb52ae6e76" title="still in initialization phase?">isInInitPhase</a>()))
                || <a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#abf1b95b990ec72831e5b288b5fb3b013" title="Is the simulation ending soon?">isSimulationEndingSoon</a>()
                || <a class="code" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a>) {
            <span class="keywordflow">return</span>;
        }

        <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739" title="model p2pns application traffic */">p2pnsTraffic</a> &amp;&amp; (uniform(0, 1) &gt; ((<span class="keywordtype">double</span>)<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a>/1800.0))) {
            <span class="keywordflow">return</span>;
        }

        <span class="keyword">const</span> <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>&amp; key = <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#aec71c9e60ea7a58c8a0b58215f47c863">getRandomKey</a>();

        <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) {
            EV &lt;&lt; <span class="stringliteral">&quot;[DHTTestApp::handleTimerEvent() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    Error: No key available in global DHT test map!&quot;</span>
               &lt;&lt; endl;
            <span class="keywordflow">return</span>;
        }

        <a class="code" href="classDHTgetCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTgetCAPICall</a>* dhtGetMsg = <span class="keyword">new</span> <a class="code" href="classDHTgetCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTgetCAPICall</a>();
        dhtGetMsg-&gt;<a class="code" href="classDHTgetCAPICall.html#aa501c5e88e9698d13ad58eddc73fe239">setKey</a>(key);
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45" title="number of get sent">numGetSent</a>++);

        <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtGetMsg,
                <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                    simTime(), key));
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;isName(<span class="stringliteral">&quot;dhttest_mod_timer&quot;</span>)) {
        scheduleAt(simTime() + truncnormal(<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a>), msg);

        <span class="comment">// do nothing if the network is still in the initialization phase</span>
        <span class="keywordflow">if</span> (((!<a class="code" href="classDHTTestApp.html#a5face430e11029d3d3d881feb39b7154" title="is app active in network init phase?">activeNetwInitPhase</a>) &amp;&amp; (<a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a00c2e85286a38799c7a04edb52ae6e76" title="still in initialization phase?">isInInitPhase</a>()))
                || <a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#abf1b95b990ec72831e5b288b5fb3b013" title="Is the simulation ending soon?">isSimulationEndingSoon</a>()
                || <a class="code" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a>) {
            <span class="keywordflow">return</span>;
        }

        <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739" title="model p2pns application traffic */">p2pnsTraffic</a>) {
            <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a89843b7d3d570f4a623e5f9c372094a8">p2pnsNameCount</a> &gt;= 4*<a class="code" href="classDHTTestApp.html#ab9974591a12c984d91329a3da87b6173" title="pointer to GlobalNodeList in this node">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a00f1090684fefa9f46e571c2d9dab733">getNumNodes</a>()) {
                <span class="keyword">const</span> <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>&amp; key = <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#aec71c9e60ea7a58c8a0b58215f47c863">getRandomKey</a>();

                <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())
                    <span class="keywordflow">return</span>;

                <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>* dhtPutMsg = <span class="keyword">new</span> <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>();
                dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a37024f06e1df68c15537308c93398a76">setKey</a>(key);
                dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#acd4367f2102a4cde3a54239b34634523">setValue</a>(<a class="code" href="classDHTTestApp.html#a9be8107d57a83b411be97e1b65070431" title="generate a random human readable binary value">generateRandomValue</a>());
                dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a70353eafa652b90bd29623d9034c7f2e">setTtl</a>(<a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a>);
                dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a66ed93f6ded5bb51323ee98690da7b5e">setIsModifiable</a>(<span class="keyword">true</span>);

                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a>++);
                <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtPutMsg,
                        <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                            simTime(), key, dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#ab53d76fa1d8b9af3e2b82e3e3a56281c">getValue</a>()));
            }
            cancelEvent(msg);
            <span class="keywordflow">return</span>;
        }

        <span class="keyword">const</span> <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>&amp; key = <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#aec71c9e60ea7a58c8a0b58215f47c863">getRandomKey</a>();

        <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())
            <span class="keywordflow">return</span>;
<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>        <span class="keyword">const</span> <a class="code" href="structDHTEntry.html">DHTEntry</a>* entry = <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a>-&gt;<a class="code" href="classGlobalDhtTestMap.html#a592087af97fb9215c7096fc80c2d7028">findEntry</a>(key);
        <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structDHTEntry.html#ae7d970f61f7f5ee0fa82c314267f95a1">insertiontime</a> + 10.0 &gt; simTime()) {
            std::cout &lt;&lt; <span class="stringliteral">&quot;avoided early get&quot;</span> &lt;&lt; std::endl;
            <span class="keywordflow">return</span>;
        }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>* dhtPutMsg = <span class="keyword">new</span> <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>();
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a37024f06e1df68c15537308c93398a76">setKey</a>(key);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#acd4367f2102a4cde3a54239b34634523">setValue</a>(<a class="code" href="classDHTTestApp.html#a9be8107d57a83b411be97e1b65070431" title="generate a random human readable binary value">generateRandomValue</a>());
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a70353eafa652b90bd29623d9034c7f2e">setTtl</a>(<a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a>);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a66ed93f6ded5bb51323ee98690da7b5e">setIsModifiable</a>(<span class="keyword">true</span>);

        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a>++);
        <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtPutMsg,
                <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                    simTime(), key, dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#ab53d76fa1d8b9af3e2b82e3e3a56281c">getValue</a>()));
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae7ccfcef4444cc442a88108cd1224859"></a><!-- doxytag: member="DHTTestApp::handleTraceMessage" ref="ae7ccfcef4444cc442a88108cd1224859" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::handleTraceMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>handleTraceMessage gets called of <a class="el" href="classBaseApp.html#a98800700e14545cd84636ca4413f605a" title="checks for message type and calls corresponding method">handleMessage(cMessage* msg)</a> if a message arrives at trace_in. </p>
<p>The command included in this message should be parsed and handled.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the command message to handle </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a8536a8adf715cab0d04c59d02ac318a4">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00240">240</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span>* cmd = <span class="keyword">new</span> <span class="keywordtype">char</span>[strlen(msg-&gt;getName()) + 1];
    strcpy(cmd, msg-&gt;getName());

    <span class="keywordflow">if</span> (strlen(msg-&gt;getName()) &lt; 5) {
        <span class="keyword">delete</span>[] cmd;
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (strncmp(cmd, <span class="stringliteral">&quot;PUT &quot;</span>, 4) == 0) {
        <span class="comment">// Generate key</span>
        <span class="keywordtype">char</span>* buf = cmd + 4;

        <span class="keywordflow">while</span> (!isspace(buf[0])) {
            <span class="keywordflow">if</span> (buf[0] == <span class="charliteral">&#39;\0&#39;</span>)
                <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Error parsing PUT command&quot;</span>);
            buf++;
        }

        buf[0] = <span class="charliteral">&#39;\0&#39;</span>;
        <a class="code" href="classBinaryValue.html">BinaryValue</a> b(cmd + 4);
        <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> destKey(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(b));

        <span class="comment">// get value</span>
        buf++;

        <span class="comment">// build putMsg</span>
        <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>* dhtPutMsg = <span class="keyword">new</span> <a class="code" href="classDHTputCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTputCAPICall</a>();
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a37024f06e1df68c15537308c93398a76">setKey</a>(destKey);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#acd4367f2102a4cde3a54239b34634523">setValue</a>(buf);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a70353eafa652b90bd29623d9034c7f2e">setTtl</a>(<a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a>);
        dhtPutMsg-&gt;<a class="code" href="classDHTputCAPICall.html#a66ed93f6ded5bb51323ee98690da7b5e">setIsModifiable</a>(<span class="keyword">true</span>);
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a>++);
        <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtPutMsg,
                <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                    simTime(), destKey, buf));
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(cmd, <span class="stringliteral">&quot;GET &quot;</span>, 4) == 0) {
        <span class="comment">// Get key</span>
        <a class="code" href="classBinaryValue.html">BinaryValue</a> b(cmd + 4);
        <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> key(<a class="code" href="classOverlayKey.html#abbd73571f97d27468c417c9b3f91f175" title="Returns a key with the SHA1 cryptographic hash of a BinaryValue.">OverlayKey::sha1</a>(b));

        <a class="code" href="classDHTgetCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTgetCAPICall</a>* dhtGetMsg = <span class="keyword">new</span> <a class="code" href="classDHTgetCAPICall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">DHTgetCAPICall</a>();
        dhtGetMsg-&gt;<a class="code" href="classDHTgetCAPICall.html#aa501c5e88e9698d13ad58eddc73fe239">setKey</a>(key);
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>++; <a class="code" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45" title="number of get sent">numGetSent</a>++);
        <a class="code" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ea098b73cd039f61df8b83f056c12b4d3b">TIER1_COMP</a>, dhtGetMsg,
                <span class="keyword">new</span> DHTStatsContext(<a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a>(),
                                    simTime(), key));
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown trace command; &quot;</span>
                                <span class="stringliteral">&quot;only GET and PUT are allowed&quot;</span>);
    }

    <span class="keyword">delete</span>[] cmd;
    <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1dbcbcf6d572a92d96b653a84f20762f"></a><!-- doxytag: member="DHTTestApp::initializeApp" ref="a1dbcbcf6d572a92d96b653a84f20762f" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHTTestApp::initializeApp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initializes derived class-attributes </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stage</td><td>the init stage </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBaseApp.html#ac9a059a2cfb67f4c38f462bb1383e795">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8cc_source.html#l00053">53</a> of file <a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (stage != <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532ad9afa81d0184c5f0649fa111f7a821bc" title="deprecated">MIN_STAGE_APP</a>)
        <span class="keywordflow">return</span>;

    <span class="comment">// fetch parameters</span>
    <a class="code" href="classDHTTestApp.html#af4f5c22914b4aa65988213e8d5c9e90a" title="debug output yes/no?">debugOutput</a> = par(<span class="stringliteral">&quot;debugOutput&quot;</span>);
    <a class="code" href="classDHTTestApp.html#a5face430e11029d3d3d881feb39b7154" title="is app active in network init phase?">activeNetwInitPhase</a> = par(<span class="stringliteral">&quot;activeNetwInitPhase&quot;</span>);

    <a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> = par(<span class="stringliteral">&quot;testInterval&quot;</span>);
    <a class="code" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739" title="model p2pns application traffic */">p2pnsTraffic</a> = par(<span class="stringliteral">&quot;p2pnsTraffic&quot;</span>);
    <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a> = <a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> / 10;

    <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739" title="model p2pns application traffic */">p2pnsTraffic</a>) {
        <a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a> = 3600*24*365;
    } <span class="keywordflow">else</span> {
        <a class="code" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282" title="ttl for stored DHT records">ttl</a> = par(<span class="stringliteral">&quot;testTtl&quot;</span>);
    }

    <a class="code" href="classDHTTestApp.html#ab9974591a12c984d91329a3da87b6173" title="pointer to GlobalNodeList in this node">globalNodeList</a> = <a class="code" href="classGlobalNodeListAccess.html" title="Gives access to the GlobalNodeList.">GlobalNodeListAccess</a>().<a class="code" href="classGlobalNodeListAccess.html#a632ebc68d476efa2dd053517509786ec">get</a>();
    <a class="code" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a> = <a class="code" href="classUnderlayConfiguratorAccess.html" title="Gives access to the UnderlayConfigurator.">UnderlayConfiguratorAccess</a>().<a class="code" href="classUnderlayConfiguratorAccess.html#a5e0cc87f6699810ee663e2239184e9b9">get</a>();
    <a class="code" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb" title="pointer to GlobalStatistics module in this node">globalStatistics</a> = <a class="code" href="classGlobalStatisticsAccess.html" title="Gives access to the GlobalStatistics module.">GlobalStatisticsAccess</a>().<a class="code" href="classGlobalStatisticsAccess.html#ac00f1d00c91c814f250788d315bde4fe" title="returns the GlobalStatistics module">get</a>();

    <a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGlobalDhtTestMap.html" title="Module with a global view on all currently stored DHT records (used by DHTTestApp).">GlobalDhtTestMap</a>*<span class="keyword">&gt;</span>(simulation.getModuleByPath(
            <span class="stringliteral">&quot;globalObserver.globalFunctions[0].function&quot;</span>));

    <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab" title="pointer to the GlobalDhtTestMap module">globalDhtTestMap</a> == NULL) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;DHTTestApp::initializeApp(): &quot;</span>
                                <span class="stringliteral">&quot;GlobalDhtTestMap module not found!&quot;</span>);
    }

    <span class="comment">// statistics</span>
    <a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a> = 0;
    <a class="code" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45" title="number of get sent">numGetSent</a> = 0;
    <a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a> = 0;
    <a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a> = 0;
    <a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a> = 0;
    <a class="code" href="classDHTTestApp.html#a675de4861172cc8816efd1a8594d435d" title="number of error in put responses">numPutError</a> = 0;
    <a class="code" href="classDHTTestApp.html#a0982af4071cf4f7bdc319fff9b6d0a1b" title="number of success in put responses">numPutSuccess</a> = 0;

    <span class="comment">//initRpcs();</span>
    WATCH(<a class="code" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed" title="number of sent packets">numSent</a>);
    WATCH(<a class="code" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45" title="number of get sent">numGetSent</a>);
    WATCH(<a class="code" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef" title="number of false get responses">numGetError</a>);
    WATCH(<a class="code" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288" title="number of false get responses">numGetSuccess</a>);
    WATCH(<a class="code" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6" title="number of put sent">numPutSent</a>);
    WATCH(<a class="code" href="classDHTTestApp.html#a675de4861172cc8816efd1a8594d435d" title="number of error in put responses">numPutError</a>);
    WATCH(<a class="code" href="classDHTTestApp.html#a0982af4071cf4f7bdc319fff9b6d0a1b" title="number of success in put responses">numPutSuccess</a>);

    <a class="code" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f" title="true if the node is going to be killed shortly">nodeIsLeavingSoon</a> = <span class="keyword">false</span>;

    <span class="comment">// initiate test message transmission</span>
    <a class="code" href="classDHTTestApp.html#a3c455463cb44c4eed8dd2e3d84ebbf7f">dhttestput_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;dhttest_put_timer&quot;</span>);
    <a class="code" href="classDHTTestApp.html#a26395d1f0daef29f778aba5effd2fc2f">dhttestget_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;dhttest_get_timer&quot;</span>);
    <a class="code" href="classDHTTestApp.html#ade1621096e593ad2b4cd05d69cdd4593">dhttestmod_timer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;dhttest_mod_timer&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> &gt; 0) {
        scheduleAt(simTime() + truncnormal(<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a>, <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a>),
                   <a class="code" href="classDHTTestApp.html#a3c455463cb44c4eed8dd2e3d84ebbf7f">dhttestput_timer</a>);
        scheduleAt(simTime() + truncnormal(<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> + <a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> / 3,
                                                      <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a>),
                                                      <a class="code" href="classDHTTestApp.html#a26395d1f0daef29f778aba5effd2fc2f">dhttestget_timer</a>);
        scheduleAt(simTime() + truncnormal(<a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> + 2 * <a class="code" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a" title="mean time interval between sending test messages">mean</a> / 3,
                                                      <a class="code" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b" title="deviation of time interval">deviation</a>),
                                                      <a class="code" href="classDHTTestApp.html#ade1621096e593ad2b4cd05d69cdd4593">dhttestmod_timer</a>);
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a5face430e11029d3d3d881feb39b7154"></a><!-- doxytag: member="DHTTestApp::activeNetwInitPhase" ref="a5face430e11029d3d3d881feb39b7154" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDHTTestApp.html#a5face430e11029d3d3d881feb39b7154">DHTTestApp::activeNetwInitPhase</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>is app active in network init phase? </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00148">148</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="af4f5c22914b4aa65988213e8d5c9e90a"></a><!-- doxytag: member="DHTTestApp::debugOutput" ref="af4f5c22914b4aa65988213e8d5c9e90a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDHTTestApp.html#af4f5c22914b4aa65988213e8d5c9e90a">DHTTestApp::debugOutput</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>debug output yes/no? </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#afbdeb4fb8c437056bb934cca461e89b4">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00143">143</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3882c7d6b083d35b4695ca7735788a8b"></a><!-- doxytag: member="DHTTestApp::deviation" ref="a3882c7d6b083d35b4695ca7735788a8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classDHTTestApp.html#a3882c7d6b083d35b4695ca7735788a8b">DHTTestApp::deviation</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deviation of time interval </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00145">145</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="add7f40e10adb1368253f0d3c5a3b1ff8"></a><!-- doxytag: member="DHTTestApp::DHTTESTAPP_VALUE_LEN" ref="add7f40e10adb1368253f0d3c5a3b1ff8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="classDHTTestApp.html#add7f40e10adb1368253f0d3c5a3b1ff8">DHTTestApp::DHTTESTAPP_VALUE_LEN</a> = 20<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00162">162</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a26395d1f0daef29f778aba5effd2fc2f"></a><!-- doxytag: member="DHTTestApp::dhttestget_timer" ref="a26395d1f0daef29f778aba5effd2fc2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage * <a class="el" href="classDHTTestApp.html#a26395d1f0daef29f778aba5effd2fc2f">DHTTestApp::dhttestget_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00159">159</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="ade1621096e593ad2b4cd05d69cdd4593"></a><!-- doxytag: member="DHTTestApp::dhttestmod_timer" ref="ade1621096e593ad2b4cd05d69cdd4593" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage * <a class="el" href="classDHTTestApp.html#ade1621096e593ad2b4cd05d69cdd4593">DHTTestApp::dhttestmod_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00159">159</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3c455463cb44c4eed8dd2e3d84ebbf7f"></a><!-- doxytag: member="DHTTestApp::dhttestput_timer" ref="a3c455463cb44c4eed8dd2e3d84ebbf7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classDHTTestApp.html#a3c455463cb44c4eed8dd2e3d84ebbf7f">DHTTestApp::dhttestput_timer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00159">159</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad91ef66361edfae98e08fa3aedfb18ab"></a><!-- doxytag: member="DHTTestApp::globalDhtTestMap" ref="ad91ef66361edfae98e08fa3aedfb18ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalDhtTestMap.html">GlobalDhtTestMap</a>* <a class="el" href="classDHTTestApp.html#ad91ef66361edfae98e08fa3aedfb18ab">DHTTestApp::globalDhtTestMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to the <a class="el" href="classGlobalDhtTestMap.html" title="Module with a global view on all currently stored DHT records (used by DHTTestApp).">GlobalDhtTestMap</a> module </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00140">140</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab9974591a12c984d91329a3da87b6173"></a><!-- doxytag: member="DHTTestApp::globalNodeList" ref="ab9974591a12c984d91329a3da87b6173" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalNodeList.html">GlobalNodeList</a>* <a class="el" href="classDHTTestApp.html#ab9974591a12c984d91329a3da87b6173">DHTTestApp::globalNodeList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to <a class="el" href="classGlobalNodeList.html" title="Global module (formerly known as BootstrapList) that supports the node bootstrap process and contains...">GlobalNodeList</a> in this node </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#ac8a54fad527bfd03a05ee6aed434243e">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00137">137</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57ec8613b021a442c7f92b900eb2e4bb"></a><!-- doxytag: member="DHTTestApp::globalStatistics" ref="a57ec8613b021a442c7f92b900eb2e4bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a>* <a class="el" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb">DHTTestApp::globalStatistics</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to <a class="el" href="classGlobalStatistics.html" title="Module to record global statistics.">GlobalStatistics</a> module in this node </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00139">139</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a337be44cdf668652b67559ea9c1a078a"></a><!-- doxytag: member="DHTTestApp::mean" ref="a337be44cdf668652b67559ea9c1a078a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classDHTTestApp.html#a337be44cdf668652b67559ea9c1a078a">DHTTestApp::mean</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>mean time interval between sending test messages </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00144">144</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f12523fc8aa1ea2c2f0f700a39bf20f"></a><!-- doxytag: member="DHTTestApp::nodeIsLeavingSoon" ref="a5f12523fc8aa1ea2c2f0f700a39bf20f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDHTTestApp.html#a5f12523fc8aa1ea2c2f0f700a39bf20f">DHTTestApp::nodeIsLeavingSoon</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if the node is going to be killed shortly </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00160">160</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c2e06c541374b74b830feaa19ea01ef"></a><!-- doxytag: member="DHTTestApp::numGetError" ref="a6c2e06c541374b74b830feaa19ea01ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a6c2e06c541374b74b830feaa19ea01ef">DHTTestApp::numGetError</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of false get responses </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00153">153</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="afa57b7991dbb7441febc587e77ceed45"></a><!-- doxytag: member="DHTTestApp::numGetSent" ref="afa57b7991dbb7441febc587e77ceed45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#afa57b7991dbb7441febc587e77ceed45">DHTTestApp::numGetSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of get sent </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00152">152</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4b2b08e322de19bb426e7db6b4fa9288"></a><!-- doxytag: member="DHTTestApp::numGetSuccess" ref="a4b2b08e322de19bb426e7db6b4fa9288" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a4b2b08e322de19bb426e7db6b4fa9288">DHTTestApp::numGetSuccess</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of false get responses </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00154">154</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a675de4861172cc8816efd1a8594d435d"></a><!-- doxytag: member="DHTTestApp::numPutError" ref="a675de4861172cc8816efd1a8594d435d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a675de4861172cc8816efd1a8594d435d">DHTTestApp::numPutError</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of error in put responses </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00156">156</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a976a6108554340c7449506a9ed4e7df6"></a><!-- doxytag: member="DHTTestApp::numPutSent" ref="a976a6108554340c7449506a9ed4e7df6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a976a6108554340c7449506a9ed4e7df6">DHTTestApp::numPutSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of put sent </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00155">155</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0982af4071cf4f7bdc319fff9b6d0a1b"></a><!-- doxytag: member="DHTTestApp::numPutSuccess" ref="a0982af4071cf4f7bdc319fff9b6d0a1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a0982af4071cf4f7bdc319fff9b6d0a1b">DHTTestApp::numPutSuccess</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of success in put responses </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00157">157</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a84ac623892d99d17de8e3de2a34303ed"></a><!-- doxytag: member="DHTTestApp::numSent" ref="a84ac623892d99d17de8e3de2a34303ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a84ac623892d99d17de8e3de2a34303ed">DHTTestApp::numSent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of sent packets </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00151">151</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab439b6f5902ff36c19fb8275d35b0739"></a><!-- doxytag: member="DHTTestApp::p2pnsTraffic" ref="ab439b6f5902ff36c19fb8275d35b0739" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classDHTTestApp.html#ab439b6f5902ff36c19fb8275d35b0739">DHTTestApp::p2pnsTraffic</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>model p2pns application traffic */ </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00147">147</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0b79803a1764a205e79085fefeee1282"></a><!-- doxytag: member="DHTTestApp::ttl" ref="a0b79803a1764a205e79085fefeee1282" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDHTTestApp.html#a0b79803a1764a205e79085fefeee1282">DHTTestApp::ttl</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ttl for stored <a class="el" href="classDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols.">DHT</a> records </p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00146">146</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0988c5e483cd3e9ad2216698b9e68ee3"></a><!-- doxytag: member="DHTTestApp::underlayConfigurator" ref="a0988c5e483cd3e9ad2216698b9e68ee3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUnderlayConfigurator.html">UnderlayConfigurator</a>* <a class="el" href="classDHTTestApp.html#a0988c5e483cd3e9ad2216698b9e68ee3">DHTTestApp::underlayConfigurator</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to <a class="el" href="classUnderlayConfigurator.html" title="Base class for configurators of different underlay models.">UnderlayConfigurator</a> in this node </p>

<p>Reimplemented from <a class="el" href="classBaseApp.html#a0587e13700e8641eec8143628dfd34cd">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="DHTTestApp_8h_source.html#l00135">135</a> of file <a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DHTTestApp_8h_source.html">DHTTestApp.h</a></li>
<li><a class="el" href="DHTTestApp_8cc_source.html">DHTTestApp.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classDHTTestApp.html">DHTTestApp</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:45 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
