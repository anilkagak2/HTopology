<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: RandomChurn Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classRandomChurn.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RandomChurn Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="RandomChurn" --><!-- doxytag: inherits="ChurnGenerator" -->
<p>Random churn generating class.  
 <a href="classRandomChurn.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RandomChurn:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classRandomChurn.png" usemap="#RandomChurn_map" alt=""/>
  <map id="RandomChurn_map" name="RandomChurn_map">
<area href="classChurnGenerator.html" title="Base class for different churn models." alt="ChurnGenerator" shape="rect" coords="0,0,104,24"/>
</map>
 </div></div>

<p><a href="classRandomChurn-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a3c6e48004d3123177917eae84d48049e">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#ad3c3adb5a8fbe8406b261124908bb8be">initializeChurn</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#af17de7d1c243c2b6873fc1921a44aa6b">~RandomChurn</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#adc42c8b99f67bdc0dd8d5b2d54a078d1">updateDisplayString</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482">creationProbability</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">probability of creating a new overlay terminal  <a href="#a65c283a025d7508b78c261b7bf264482"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a2667db5a0881b940d286e0a908d07c16">migrationProbability</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">probability of migrating an overlay terminal  <a href="#a2667db5a0881b940d286e0a908d07c16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#aa8e8373f50ca9cd25435c0891aa7a593">removalProbability</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">probability of removing an overlay terminal  <a href="#aa8e8373f50ca9cd25435c0891aa7a593"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#ad8288108c4a77b829c5876839a5513e4">initialMean</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">mean of update interval during initalization phase  <a href="#ad8288108c4a77b829c5876839a5513e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a2871ebbd7286cb2e85f5d22a86d5a241">initialDeviation</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deviation of update interval during initalization phase  <a href="#a2871ebbd7286cb2e85f5d22a86d5a241"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f">targetMean</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">mean of update interval after initalization phase  <a href="#abc5ccfb3e0b1077ed6226da8231f476f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a91fc2902c79758f7474a52907c016f4e">targetOverlayTerminalNum</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of created terminals after init phase  <a href="#a91fc2902c79758f7474a52907c016f4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae">churnTimer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">message to change the churn rate  <a href="#abd27e416f0da4438538d55707d5e24ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77">mobilityTimer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">message to schedule events  <a href="#a8c94c285c49b230f3d366001d7312c77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a6234a1d9e612093c67ddfff2cf28c947">churnIntervalChanged</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">indicates if targetMean changed.  <a href="#a6234a1d9e612093c67ddfff2cf28c947"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a8bb2e8596342fc4208342a50d10db614">churnChangeInterval</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">churn change interval  <a href="#a8bb2e8596342fc4208342a50d10db614"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#aa4688d3f0b3e24023c86459ac506476e">initAddMoreTerminals</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">true, if we're still adding more terminals in the init phase  <a href="#aa4688d3f0b3e24023c86459ac506476e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRandomChurn.html#a896e430499bef17480370b1f09b6c73b">globalStatistics</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Random churn generating class. </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00033">33</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af17de7d1c243c2b6873fc1921a44aa6b"></a><!-- doxytag: member="RandomChurn::~RandomChurn" ref="af17de7d1c243c2b6873fc1921a44aa6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RandomChurn::~RandomChurn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="RandomChurn_8cc_source.html#l00133">133</a> of file <a class="el" href="RandomChurn_8cc_source.html">RandomChurn.cc</a>.</p>
<div class="fragment"><pre class="fragment">                          {
    <span class="comment">// destroy self timer messages</span>
    cancelAndDelete(<a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a>);
    cancelAndDelete(<a class="code" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77" title="message to schedule events">mobilityTimer</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3c6e48004d3123177917eae84d48049e"></a><!-- doxytag: member="RandomChurn::handleMessage" ref="a3c6e48004d3123177917eae84d48049e" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RandomChurn::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classChurnGenerator.html#a4b9cf0615bdfb4b3d4a1e95afb7f1f20">ChurnGenerator</a>.</p>

<p>Definition at line <a class="el" href="RandomChurn_8cc_source.html#l00066">66</a> of file <a class="el" href="RandomChurn_8cc_source.html">RandomChurn.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!msg-&gt;isSelfMessage()) {
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (msg == <a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a>) {
        cancelEvent(<a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a>);
        scheduleAt(simTime() + <a class="code" href="classRandomChurn.html#a8bb2e8596342fc4208342a50d10db614" title="churn change interval">churnChangeInterval</a>, <a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a>);
        <span class="keywordflow">if</span> (<a class="code" href="classRandomChurn.html#a6234a1d9e612093c67ddfff2cf28c947" title="indicates if targetMean changed.">churnIntervalChanged</a>) {
            <a class="code" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f" title="mean of update interval after initalization phase">targetMean</a> = par(<span class="stringliteral">&quot;targetMobilityDelay&quot;</span>);
            <a class="code" href="classRandomChurn.html#a6234a1d9e612093c67ddfff2cf28c947" title="indicates if targetMean changed.">churnIntervalChanged</a> = <span class="keyword">false</span>;
        }
        <span class="keywordflow">else</span> {
            <a class="code" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f" title="mean of update interval after initalization phase">targetMean</a> = par(<span class="stringliteral">&quot;targetMobilityDelay2&quot;</span>);
            <a class="code" href="classRandomChurn.html#a6234a1d9e612093c67ddfff2cf28c947" title="indicates if targetMean changed.">churnIntervalChanged</a> = <span class="keyword">true</span>;
        }
        std::stringstream temp;
        temp &lt;&lt; <span class="stringliteral">&quot;Churn-rate changed to &quot;</span> &lt;&lt; <a class="code" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f" title="mean of update interval after initalization phase">targetMean</a>;
        bubble(temp.str().c_str());
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77" title="message to schedule events">mobilityTimer</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classRandomChurn.html#aa4688d3f0b3e24023c86459ac506476e" title="true, if we&#39;re still adding more terminals in the init phase">initAddMoreTerminals</a>) {
            <span class="comment">// increase the number of nodes steadily during setup</span>
            <span class="keywordflow">if</span> (<a class="code" href="classChurnGenerator.html#ac12296dc62d58dd5b332623fe20d409e" title="current number of overlay terminals">terminalCount</a> &lt; <a class="code" href="classRandomChurn.html#a91fc2902c79758f7474a52907c016f4e" title="number of created terminals after init phase">targetOverlayTerminalNum</a>) {
                <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>* ta = <a class="code" href="classChurnGenerator.html#a1e178234fc3dbf2f282e44bc16bdfbd4">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a65d64297bacdcf855bc13e8410754c7e" title="Creates an overlay node.">createNode</a>(<a class="code" href="classChurnGenerator.html#ac0b5bac28141590c8bf16a0f75f42c51" title="the nodeType this generator is responsible for">type</a>);
                <span class="keyword">delete</span> ta; <span class="comment">// Address not needed in this churn model</span>
            }

            <span class="keywordflow">if</span> (<a class="code" href="classChurnGenerator.html#ac12296dc62d58dd5b332623fe20d409e" title="current number of overlay terminals">terminalCount</a> &gt;= <a class="code" href="classRandomChurn.html#a91fc2902c79758f7474a52907c016f4e" title="number of created terminals after init phase">targetOverlayTerminalNum</a>) {
                <a class="code" href="classRandomChurn.html#aa4688d3f0b3e24023c86459ac506476e" title="true, if we&#39;re still adding more terminals in the init phase">initAddMoreTerminals</a> = <span class="keyword">false</span>;
                <a class="code" href="classChurnGenerator.html#a1e178234fc3dbf2f282e44bc16bdfbd4">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a1a8154c6086e6f8e5a1a682e82f200d4">initFinished</a>();
            }
            scheduleAt(simTime()
                       + truncnormal(<a class="code" href="classRandomChurn.html#ad8288108c4a77b829c5876839a5513e4" title="mean of update interval during initalization phase">initialMean</a>, <a class="code" href="classRandomChurn.html#a2871ebbd7286cb2e85f5d22a86d5a241" title="deviation of update interval during initalization phase">initialDeviation</a>), msg);
        }
        <span class="keywordflow">else</span> {
            <span class="keywordtype">double</span> random = uniform(0, 1);

            <span class="comment">// modify the number of nodes according to user parameters</span>
            <span class="keywordflow">if</span> (random &lt; <a class="code" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482" title="probability of creating a new overlay terminal">creationProbability</a>) {
                <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>* ta = <a class="code" href="classChurnGenerator.html#a1e178234fc3dbf2f282e44bc16bdfbd4">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a65d64297bacdcf855bc13e8410754c7e" title="Creates an overlay node.">createNode</a>(<a class="code" href="classChurnGenerator.html#ac0b5bac28141590c8bf16a0f75f42c51" title="the nodeType this generator is responsible for">type</a>);
                <span class="keyword">delete</span> ta; <span class="comment">// Address not needed in this churn model</span>
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482" title="probability of creating a new overlay terminal">creationProbability</a> &lt;= random &amp;&amp;
                    random &lt; <a class="code" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482" title="probability of creating a new overlay terminal">creationProbability</a> + <a class="code" href="classRandomChurn.html#aa8e8373f50ca9cd25435c0891aa7a593" title="probability of removing an overlay terminal">removalProbability</a> &amp;&amp;
                    <a class="code" href="classChurnGenerator.html#ac12296dc62d58dd5b332623fe20d409e" title="current number of overlay terminals">terminalCount</a> &gt; 1) {
                <span class="keywordtype">int</span> oldTerminalCount = <a class="code" href="classChurnGenerator.html#ac12296dc62d58dd5b332623fe20d409e" title="current number of overlay terminals">terminalCount</a>;
                <a class="code" href="classChurnGenerator.html#a1e178234fc3dbf2f282e44bc16bdfbd4">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a365808ae3d6f667e897f5bf3ee8666b8" title="Notifies and schedules overlay nodes for removal.">preKillNode</a>(<a class="code" href="classChurnGenerator.html#ac0b5bac28141590c8bf16a0f75f42c51" title="the nodeType this generator is responsible for">type</a>);
                assert ((oldTerminalCount - 1) == <a class="code" href="classChurnGenerator.html#ac12296dc62d58dd5b332623fe20d409e" title="current number of overlay terminals">terminalCount</a>);
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482" title="probability of creating a new overlay terminal">creationProbability</a> + <a class="code" href="classRandomChurn.html#aa8e8373f50ca9cd25435c0891aa7a593" title="probability of removing an overlay terminal">removalProbability</a> &lt;= random &amp;&amp;
                    random &lt; <a class="code" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482" title="probability of creating a new overlay terminal">creationProbability</a> + <a class="code" href="classRandomChurn.html#aa8e8373f50ca9cd25435c0891aa7a593" title="probability of removing an overlay terminal">removalProbability</a>
                    + <a class="code" href="classRandomChurn.html#a2667db5a0881b940d286e0a908d07c16" title="probability of migrating an overlay terminal">migrationProbability</a> &amp;&amp; <a class="code" href="classChurnGenerator.html#ac12296dc62d58dd5b332623fe20d409e" title="current number of overlay terminals">terminalCount</a> &gt; 1) {
                <a class="code" href="classChurnGenerator.html#a1e178234fc3dbf2f282e44bc16bdfbd4">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a31e6fc55c914b3a6606f6c2bc532a1cc" title="Migrates overlay nodes from one access net to another.">migrateNode</a>(<a class="code" href="classChurnGenerator.html#ac0b5bac28141590c8bf16a0f75f42c51" title="the nodeType this generator is responsible for">type</a>);
            }
            scheduleAt(simTime()
                       + truncnormal(targetMean, targetMean / 3), msg);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad3c3adb5a8fbe8406b261124908bb8be"></a><!-- doxytag: member="RandomChurn::initializeChurn" ref="ad3c3adb5a8fbe8406b261124908bb8be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RandomChurn::initializeChurn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classChurnGenerator.html#aaf29a3704f2439639a65e4ac4d468d2f">ChurnGenerator</a>.</p>

<p>Definition at line <a class="el" href="RandomChurn_8cc_source.html#l00035">35</a> of file <a class="el" href="RandomChurn_8cc_source.html">RandomChurn.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();

    <a class="code" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482" title="probability of creating a new overlay terminal">creationProbability</a> = par(<span class="stringliteral">&quot;creationProbability&quot;</span>);
    <a class="code" href="classRandomChurn.html#a2667db5a0881b940d286e0a908d07c16" title="probability of migrating an overlay terminal">migrationProbability</a> = par(<span class="stringliteral">&quot;migrationProbability&quot;</span>);
    <a class="code" href="classRandomChurn.html#aa8e8373f50ca9cd25435c0891aa7a593" title="probability of removing an overlay terminal">removalProbability</a> = par(<span class="stringliteral">&quot;removalProbability&quot;</span>);
    <a class="code" href="classRandomChurn.html#ad8288108c4a77b829c5876839a5513e4" title="mean of update interval during initalization phase">initialMean</a> = par(<span class="stringliteral">&quot;initPhaseCreationInterval&quot;</span>);
    <a class="code" href="classRandomChurn.html#a2871ebbd7286cb2e85f5d22a86d5a241" title="deviation of update interval during initalization phase">initialDeviation</a> = <a class="code" href="classRandomChurn.html#ad8288108c4a77b829c5876839a5513e4" title="mean of update interval during initalization phase">initialMean</a> / 3;
    <a class="code" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f" title="mean of update interval after initalization phase">targetMean</a> = par(<span class="stringliteral">&quot;targetMobilityDelay&quot;</span>);
    <a class="code" href="classRandomChurn.html#a91fc2902c79758f7474a52907c016f4e" title="number of created terminals after init phase">targetOverlayTerminalNum</a> = par(<span class="stringliteral">&quot;targetOverlayTerminalNum&quot;</span>);
    WATCH(<a class="code" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f" title="mean of update interval after initalization phase">targetMean</a>);

    <a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a> = NULL;
    <a class="code" href="classRandomChurn.html#a6234a1d9e612093c67ddfff2cf28c947" title="indicates if targetMean changed.">churnIntervalChanged</a> = <span class="keyword">false</span>;
    <a class="code" href="classRandomChurn.html#a8bb2e8596342fc4208342a50d10db614" title="churn change interval">churnChangeInterval</a> = par(<span class="stringliteral">&quot;churnChangeInterval&quot;</span>);
    <a class="code" href="classRandomChurn.html#aa4688d3f0b3e24023c86459ac506476e" title="true, if we&#39;re still adding more terminals in the init phase">initAddMoreTerminals</a> = <span class="keyword">true</span>;

    <a class="code" href="classRandomChurn.html#a896e430499bef17480370b1f09b6c73b">globalStatistics</a> = <a class="code" href="classGlobalStatisticsAccess.html" title="Gives access to the GlobalStatistics module.">GlobalStatisticsAccess</a>().<a class="code" href="classGlobalStatisticsAccess.html#ac00f1d00c91c814f250788d315bde4fe" title="returns the GlobalStatistics module">get</a>();

    <span class="comment">// initialize simulation</span>
    <a class="code" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77" title="message to schedule events">mobilityTimer</a> = NULL;
    <a class="code" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77" title="message to schedule events">mobilityTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;mobilityTimer&quot;</span>);
    scheduleAt(simTime(), <a class="code" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77" title="message to schedule events">mobilityTimer</a>);

    <span class="keywordflow">if</span> (<a class="code" href="classRandomChurn.html#a8bb2e8596342fc4208342a50d10db614" title="churn change interval">churnChangeInterval</a> &gt; 0) {
        <a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;churnTimer&quot;</span>);
        scheduleAt(simTime() + <a class="code" href="classRandomChurn.html#a8bb2e8596342fc4208342a50d10db614" title="churn change interval">churnChangeInterval</a>, <a class="code" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae" title="message to change the churn rate">churnTimer</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc42c8b99f67bdc0dd8d5b2d54a078d1"></a><!-- doxytag: member="RandomChurn::updateDisplayString" ref="adc42c8b99f67bdc0dd8d5b2d54a078d1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RandomChurn::updateDisplayString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classChurnGenerator.html#a2493a19533be8d1875bd0d86e960de42">ChurnGenerator</a>.</p>

<p>Definition at line <a class="el" href="RandomChurn_8cc_source.html#l00126">126</a> of file <a class="el" href="RandomChurn_8cc_source.html">RandomChurn.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> buf[80];
    sprintf(buf, <span class="stringliteral">&quot;random churn&quot;</span>);
    getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, buf);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8bb2e8596342fc4208342a50d10db614"></a><!-- doxytag: member="RandomChurn::churnChangeInterval" ref="a8bb2e8596342fc4208342a50d10db614" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#a8bb2e8596342fc4208342a50d10db614">RandomChurn::churnChangeInterval</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>churn change interval </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00054">54</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a6234a1d9e612093c67ddfff2cf28c947"></a><!-- doxytag: member="RandomChurn::churnIntervalChanged" ref="a6234a1d9e612093c67ddfff2cf28c947" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRandomChurn.html#a6234a1d9e612093c67ddfff2cf28c947">RandomChurn::churnIntervalChanged</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>indicates if targetMean changed. </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00053">53</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="abd27e416f0da4438538d55707d5e24ae"></a><!-- doxytag: member="RandomChurn::churnTimer" ref="abd27e416f0da4438538d55707d5e24ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classRandomChurn.html#abd27e416f0da4438538d55707d5e24ae">RandomChurn::churnTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>message to change the churn rate </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00051">51</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00133">~RandomChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a65c283a025d7508b78c261b7bf264482"></a><!-- doxytag: member="RandomChurn::creationProbability" ref="a65c283a025d7508b78c261b7bf264482" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#a65c283a025d7508b78c261b7bf264482">RandomChurn::creationProbability</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>probability of creating a new overlay terminal </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00044">44</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a896e430499bef17480370b1f09b6c73b"></a><!-- doxytag: member="RandomChurn::globalStatistics" ref="a896e430499bef17480370b1f09b6c73b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a>* <a class="el" href="classRandomChurn.html#a896e430499bef17480370b1f09b6c73b">RandomChurn::globalStatistics</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00057">57</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4688d3f0b3e24023c86459ac506476e"></a><!-- doxytag: member="RandomChurn::initAddMoreTerminals" ref="aa4688d3f0b3e24023c86459ac506476e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classRandomChurn.html#aa4688d3f0b3e24023c86459ac506476e">RandomChurn::initAddMoreTerminals</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true, if we're still adding more terminals in the init phase </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00055">55</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a2871ebbd7286cb2e85f5d22a86d5a241"></a><!-- doxytag: member="RandomChurn::initialDeviation" ref="a2871ebbd7286cb2e85f5d22a86d5a241" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#a2871ebbd7286cb2e85f5d22a86d5a241">RandomChurn::initialDeviation</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deviation of update interval during initalization phase </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00048">48</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8288108c4a77b829c5876839a5513e4"></a><!-- doxytag: member="RandomChurn::initialMean" ref="ad8288108c4a77b829c5876839a5513e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#ad8288108c4a77b829c5876839a5513e4">RandomChurn::initialMean</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>mean of update interval during initalization phase </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00047">47</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a2667db5a0881b940d286e0a908d07c16"></a><!-- doxytag: member="RandomChurn::migrationProbability" ref="a2667db5a0881b940d286e0a908d07c16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#a2667db5a0881b940d286e0a908d07c16">RandomChurn::migrationProbability</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>probability of migrating an overlay terminal </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00045">45</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c94c285c49b230f3d366001d7312c77"></a><!-- doxytag: member="RandomChurn::mobilityTimer" ref="a8c94c285c49b230f3d366001d7312c77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classRandomChurn.html#a8c94c285c49b230f3d366001d7312c77">RandomChurn::mobilityTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>message to schedule events </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00052">52</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00133">~RandomChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8e8373f50ca9cd25435c0891aa7a593"></a><!-- doxytag: member="RandomChurn::removalProbability" ref="aa8e8373f50ca9cd25435c0891aa7a593" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#aa8e8373f50ca9cd25435c0891aa7a593">RandomChurn::removalProbability</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>probability of removing an overlay terminal </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00046">46</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="abc5ccfb3e0b1077ed6226da8231f476f"></a><!-- doxytag: member="RandomChurn::targetMean" ref="abc5ccfb3e0b1077ed6226da8231f476f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#abc5ccfb3e0b1077ed6226da8231f476f">RandomChurn::targetMean</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>mean of update interval after initalization phase </p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00049">49</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<a class="anchor" id="a91fc2902c79758f7474a52907c016f4e"></a><!-- doxytag: member="RandomChurn::targetOverlayTerminalNum" ref="a91fc2902c79758f7474a52907c016f4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classRandomChurn.html#a91fc2902c79758f7474a52907c016f4e">RandomChurn::targetOverlayTerminalNum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of created terminals after init phase </p>

<p>Reimplemented from <a class="el" href="classChurnGenerator.html#a257553c276ebb002e1f109f4e6132a6e">ChurnGenerator</a>.</p>

<p>Definition at line <a class="el" href="RandomChurn_8h_source.html#l00050">50</a> of file <a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a>.</p>

<p>Referenced by <a class="el" href="RandomChurn_8cc_source.html#l00066">handleMessage()</a>, and <a class="el" href="RandomChurn_8cc_source.html#l00035">initializeChurn()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="RandomChurn_8h_source.html">RandomChurn.h</a></li>
<li><a class="el" href="RandomChurn_8cc_source.html">RandomChurn.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classRandomChurn.html">RandomChurn</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:59 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
