<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: ReaSEUnderlayConfigurator Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classReaSEUnderlayConfigurator.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ReaSEUnderlayConfigurator Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ReaSEUnderlayConfigurator" --><!-- doxytag: inherits="UnderlayConfigurator" -->
<p>Configurator module for the ReaSEUnderlay.  
 <a href="classReaSEUnderlayConfigurator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ReaSEUnderlayConfigurator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classReaSEUnderlayConfigurator.png" usemap="#ReaSEUnderlayConfigurator_map" alt=""/>
  <map id="ReaSEUnderlayConfigurator_map" name="ReaSEUnderlayConfigurator_map">
<area href="classUnderlayConfigurator.html" title="Base class for configurators of different underlay models." alt="UnderlayConfigurator" shape="rect" coords="0,0,172,24"/>
</map>
 </div></div>

<p><a href="classReaSEUnderlayConfigurator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTransportAddress.html">TransportAddress</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a88741bd7afa603fc9b7585e811b68271">createNode</a> (<a class="el" href="classNodeType.html">NodeType</a> type, bool initialize=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an overlay node.  <a href="#a88741bd7afa603fc9b7585e811b68271"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a70b3d4d1ee562d8fcfdd2693d6e84b55">preKillNode</a> (<a class="el" href="classNodeType.html">NodeType</a> type, <a class="el" href="classTransportAddress.html">TransportAddress</a> *addr=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies and schedules overlay nodes for removal.  <a href="#a70b3d4d1ee562d8fcfdd2693d6e84b55"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a469f012d180fa689b780863adaf254e0">migrateNode</a> (<a class="el" href="classNodeType.html">NodeType</a> type, <a class="el" href="classTransportAddress.html">TransportAddress</a> *addr=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Migrates overlay nodes from one access net to another.  <a href="#a469f012d180fa689b780863adaf254e0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#ae734049a2260853860d07299ddccc0ed">initializeUnderlay</a> (int stage)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up backbone, assigns ip addresses, calculates routing tables, sets some parameters and adds the initial number of nodes to the network.  <a href="#ae734049a2260853860d07299ddccc0ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#ab81be31f48d4357d5770cd58e088a428">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">process timer messages  <a href="#ab81be31f48d4357d5770cd58e088a428"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a4a0166a8892e7846347b8b26b535c022">finishUnderlay</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves statistics, prints simulation time.  <a href="#a4a0166a8892e7846347b8b26b535c022"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#aba750036973d4d6c21c3fd8434fa800b">setDisplayString</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the statistics display string.  <a href="#aba750036973d4d6c21c3fd8434fa800b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; cModule * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a73795c2e932fbd53c58c8ff3b56bc3c1">accessNode</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">stores accessRouter  <a href="#a73795c2e932fbd53c58c8ff3b56bc3c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::deque&lt; IPvXAddress &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a18296075f994c306f1c22c6fb2a35d73">killList</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">stores nodes scheduled to be killed  <a href="#a18296075f994c306f1c22c6fb2a35d73"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a74f6621e1d7a242aa5937567605e012b">scheduledID</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">stores nodeIds to prevent migration of prekilled nodes  <a href="#a74f6621e1d7a242aa5937567605e012b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4">numCreated</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of overall created overlay terminals  <a href="#a9dbcb12eee9fcdbefe868897b27566f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a04e850d457d2ee0e140d00ef39666c9a">numKilled</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of overall killed overlay terminals  <a href="#a04e850d457d2ee0e140d00ef39666c9a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a88b94d3ad7793dfd3130fdf006f1fe39">accessRouterNum</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of access router  <a href="#a88b94d3ad7793dfd3130fdf006f1fe39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#ab2547aa56f9ff4e6bc33045513bca237">overlayAccessRouterNum</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of overlayAccessRouter  <a href="#ab2547aa56f9ff4e6bc33045513bca237"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#a9898250c51ab40b053811a9058e7338f">overlayTerminalNum</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of terminal in the overlay  <a href="#a9898250c51ab40b053811a9058e7338f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classConnectReaSE.html">ConnectReaSE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Configurator module for the ReaSEUnderlay. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Markus Mauch </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>possibility to disable tier1-3 in overlay(access)routers </dd></dl>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00047">47</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a88741bd7afa603fc9b7585e811b68271"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::createNode" ref="a88741bd7afa603fc9b7585e811b68271" args="(NodeType type, bool initialize=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTransportAddress.html">TransportAddress</a> * ReaSEUnderlayConfigurator::createNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNodeType.html">NodeType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialize</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an overlay node. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the <a class="el" href="classNodeType.html" title="Enum specifying node properties.">NodeType</a> of the node to create </td></tr>
    <tr><td class="paramname">initialize</td><td>creation during init phase? </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classUnderlayConfigurator.html#a65d64297bacdcf855bc13e8410754c7e">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00065">65</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <span class="comment">// derive overlay node from ned</span>
    std::string nameStr = <span class="stringliteral">&quot;overlayTerminal&quot;</span>;
    <span class="keywordflow">if</span> (<a class="code" href="classUnderlayConfigurator.html#a45b9ecd5f8deb026db63afc69c60d5a5" title="pointer to the ChurnGenerators">churnGenerator</a>.size() &gt; 1) {
        nameStr += <span class="stringliteral">&quot;-&quot;</span> + convertToString&lt;int32_t&gt;(type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a>);
    }
    <a class="code" href="classAccessInfo.html">AccessInfo</a> accessNet= <a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#aa37d350c7f2e532e38a086c57fb1aff4" title="Getter for router module.">getAccessNode</a>();
    cModuleType* moduleType = cModuleType::get(type.<a class="code" href="classNodeType.html#a60aa8ee80380320728c200d5ea9edcea">terminalType</a>.c_str());
    cModule* node = moduleType-&gt;create(nameStr.c_str(), accessNet.<a class="code" href="classAccessInfo.html#a669108287d313f4f14584077e8b8f20d">edge</a>-&gt;<a class="code" href="structedgeRoutes.html#a613f4036d30841f3415625d1d1d2c5e4">Router</a>-&gt;getParentModule(), <span class="comment">//TODO: insert node in submodule</span>
                                       <a class="code" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4" title="number of overall created overlay terminals">numCreated</a> + 1, <a class="code" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4" title="number of overall created overlay terminals">numCreated</a>);

    <span class="keywordflow">if</span> (type.<a class="code" href="classNodeType.html#a4c4e8497d48ac644ed1dd3cb024a74f5">channelTypesTx</a>.size() &gt; 0) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;ReaSEUnderlayConfigurator::createNode(): Setting &quot;</span>
                    <span class="stringliteral">&quot;channel types via the churn generator is not allowed &quot;</span>
                    <span class="stringliteral">&quot;with the ReaSEUnderlay. Use **.accessNet.channelTypes instead!&quot;</span>);
    }

    node-&gt;setGateSize(<span class="stringliteral">&quot;pppg&quot;</span>, 1);

    std::string displayString;

    <span class="keywordflow">if</span> ((type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a> &gt; 0) &amp;&amp; (type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a> &lt;= <a class="code" href="classUnderlayConfigurator.html#a98cdd2bec4b42ccf467e8062cc5a0f7c">NUM_COLORS</a>)) {
        ((displayString += <span class="stringliteral">&quot;i=device/wifilaptop_l,&quot;</span>)
                        += <a class="code" href="classUnderlayConfigurator.html#ab5366368e36a4884d97ae5c3d2a82182">colorNames</a>[type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a> - 1])
                        += <span class="stringliteral">&quot;,40;i2=block/circle_s&quot;</span>;
    } <span class="keywordflow">else</span> {
        displayString = <span class="stringliteral">&quot;i=device/wifilaptop_l;i2=block/circle_s&quot;</span>;
    }

    node-&gt;finalizeParameters();
    node-&gt;setDisplayString(displayString.c_str());

    node-&gt;buildInside();
    node-&gt;scheduleStart(simTime());

    <span class="comment">// create meta information</span>
    <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>* info = <span class="keyword">new</span> <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>(type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a>, node-&gt;getId(), type.<a class="code" href="classNodeType.html#a9490adb73cbd8c8283eba9afc7c61dc7">context</a>);

    accessNet.<a class="code" href="classAccessInfo.html#a48944dd1e43c1bd33426702a407d03df">terminal</a> = node;
    <span class="comment">// add node to a randomly chosen access net</span>
    info-&gt;<a class="code" href="classReaSEInfo.html#a585857d51975a8f1b283980654081022" title="setter and getter">setNodeID</a>(<a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#afae70fcc4fd62b2747f9baf1d6447330" title="Gathers some information about the terminal and appends it to the overlay terminal vector...">addOverlayNode</a>(&amp;accessNet));


    <span class="comment">// add node to bootstrap oracle</span>
    <a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a82a6c218304d734e2169e1c8fc5817ee" title="Adds new peers to the peer set.">addPeer</a>(IPAddressResolver().addressOf(node), info);

    <span class="comment">// if the node was not created during startup we have to</span>
    <span class="comment">// finish the initialization process manually</span>
    <span class="keywordflow">if</span> (!<a class="code" href="classUnderlayConfigurator.html#a2c191c8f38c7ac86509061801664b69b" title="OMNeT init methods.">initialize</a>) {
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a51360a7e54ff555dc3d078d686500cb9" title="last stage for underlay configurators">MAX_STAGE_UNDERLAY</a> + 1; i &lt; <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a89279af766b25396b796fe5cfd77d717" title="total number of stages">NUM_STAGES_ALL</a>; i++) {
            node-&gt;callInitialize(i);
        }
    }

    <a class="code" href="classUnderlayConfigurator.html#aed1fe1d613fb061b714fc281cbb0b820" title="current number of overlay terminals">overlayTerminalCount</a>++;
    <a class="code" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4" title="number of overall created overlay terminals">numCreated</a>++;

    <a class="code" href="classUnderlayConfigurator.html#a45b9ecd5f8deb026db63afc69c60d5a5" title="pointer to the ChurnGenerators">churnGenerator</a>[type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a>]-&gt;terminalCount++;

    <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a> *address = <span class="keyword">new</span> <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>(
                                       IPAddressResolver().addressOf(node));

    <span class="comment">// update display</span>
    <a class="code" href="classReaSEUnderlayConfigurator.html#aba750036973d4d6c21c3fd8434fa800b" title="Updates the statistics display string.">setDisplayString</a>();

    <span class="keywordflow">return</span> address;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4a0166a8892e7846347b8b26b535c022"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::finishUnderlay" ref="a4a0166a8892e7846347b8b26b535c022" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaSEUnderlayConfigurator::finishUnderlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves statistics, prints simulation time. </p>

<p>Reimplemented from <a class="el" href="classUnderlayConfigurator.html#a774e30cdd3aced06e5a04eb3ec4e4b0b">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00298">298</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// statistics</span>
    recordScalar(<span class="stringliteral">&quot;Terminals added&quot;</span>, <a class="code" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4" title="number of overall created overlay terminals">numCreated</a>);
    recordScalar(<span class="stringliteral">&quot;Terminals removed&quot;</span>, <a class="code" href="classReaSEUnderlayConfigurator.html#a04e850d457d2ee0e140d00ef39666c9a" title="number of overall killed overlay terminals">numKilled</a>);

    <span class="keywordflow">if</span> (!<a class="code" href="classUnderlayConfigurator.html#a00c2e85286a38799c7a04edb52ae6e76" title="still in initialization phase?">isInInitPhase</a>()) {
        <span class="keyword">struct </span>timeval now, diff;
        gettimeofday(&amp;now, NULL);
        <a class="code" href="UnderlayConfigurator_8h.html#a8b18f762e42417ce5d86090331d3e4eb">timersub</a>(&amp;now, &amp;<a class="code" href="classUnderlayConfigurator.html#a2675d1d01baaac0fe01436d01deabd13" title="timestamp at end of init phase">initFinishedTime</a>, &amp;diff);
        printf(<span class="stringliteral">&quot;Simulation time: %li.%06li\n&quot;</span>, diff.tv_sec, diff.tv_usec);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab81be31f48d4357d5770cd58e088a428"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::handleTimerEvent" ref="ab81be31f48d4357d5770cd58e088a428" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaSEUnderlayConfigurator::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>process timer messages </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the received message </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classUnderlayConfigurator.html#a90985a5b37ced8385ae394f1648757c4">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00257">257</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();

    <span class="comment">// get next scheduled node from the kill list</span>
    IPvXAddress addr = <a class="code" href="classReaSEUnderlayConfigurator.html#a18296075f994c306f1c22c6fb2a35d73" title="stores nodes scheduled to be killed">killList</a>.back();
    <a class="code" href="classReaSEUnderlayConfigurator.html#a18296075f994c306f1c22c6fb2a35d73" title="stores nodes scheduled to be killed">killList</a>.pop_back();

    <span class="comment">//AccessNet* accessNetModule = NULL;</span>
    <span class="keywordtype">int</span> nodeID = -1;

    <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>* info = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classReaSEInfo.html">ReaSEInfo</a>*<span class="keyword">&gt;</span>(<a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a985bf687f11d68d4a6699e7fa2367e9a" title="Searches the peerSet for the specified node.">getPeerInfo</a>(addr));
    <span class="keywordflow">if</span> (info != NULL) {
        <span class="comment">//accessNetModule = info-&gt;getAccessNetModule();</span>
        nodeID = info-&gt;<a class="code" href="classReaSEInfo.html#a7ab674cc990be7f7842610b48b5675f5">getNodeID</a>();
    } <span class="keywordflow">else</span> {
        opp_error(<span class="stringliteral">&quot;IPv4UnderlayConfigurator: Trying to kill node with nonexistant TransportAddress!&quot;</span>);
    }

    <a class="code" href="classReaSEUnderlayConfigurator.html#a74f6621e1d7a242aa5937567605e012b" title="stores nodeIds to prevent migration of prekilled nodes">scheduledID</a>.erase(nodeID);
    <a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a94d01badb00975930c2ed108e065fdf7" title="Removes a peer from the peerSet.">killPeer</a>(addr);

    cModule* node = <a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#a05a2bf92b9835d8c8c08984d76f63816" title="Removes a node from the network.">removeOverlayNode</a>(nodeID);

    <span class="keywordflow">if</span> (node == NULL)
        opp_error(<span class="stringliteral">&quot;IPv4UnderlayConfigurator: Trying to remove node which is nonexistant in AccessNet!&quot;</span>);

    node-&gt;callFinish();
    node-&gt;deleteModule();

    <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae734049a2260853860d07299ddccc0ed"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::initializeUnderlay" ref="ae734049a2260853860d07299ddccc0ed" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaSEUnderlayConfigurator::initializeUnderlay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets up backbone, assigns ip addresses, calculates routing tables, sets some parameters and adds the initial number of nodes to the network. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stage</td><td>the phase of the initialisation </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classUnderlayConfigurator.html#a00b370315b9dcd39b41e254837d9a7ad">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00043">43</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//backbone configuration</span>
    <span class="keywordflow">if</span> (stage == <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532ac691a73094515eb9c580b1cac99f416c" title="first stage for underlay configurators">MIN_STAGE_UNDERLAY</a>) {

    }
    <span class="comment">//access net configuration</span>
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage == <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a51360a7e54ff555dc3d078d686500cb9" title="last stage for underlay configurators">MAX_STAGE_UNDERLAY</a>) {
        <span class="comment">// fetch some parameters</span>


        <span class="comment">// count the overlay clients</span>
        <a class="code" href="classUnderlayConfigurator.html#aed1fe1d613fb061b714fc281cbb0b820" title="current number of overlay terminals">overlayTerminalCount</a> = 0;

        <a class="code" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4" title="number of overall created overlay terminals">numCreated</a> = 0;
        <a class="code" href="classReaSEUnderlayConfigurator.html#a04e850d457d2ee0e140d00ef39666c9a" title="number of overall killed overlay terminals">numKilled</a> = 0;

        <span class="comment">// add access node modules to access node vector</span>
        <a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a> = (<a class="code" href="classConnectReaSE.html">ConnectReaSE</a>*)getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;TerminalConnector&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a469f012d180fa689b780863adaf254e0"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::migrateNode" ref="a469f012d180fa689b780863adaf254e0" args="(NodeType type, TransportAddress *addr=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaSEUnderlayConfigurator::migrateNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNodeType.html">NodeType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTransportAddress.html">TransportAddress</a> *&#160;</td>
          <td class="paramname"><em>addr</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Migrates overlay nodes from one access net to another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the <a class="el" href="classNodeType.html" title="Enum specifying node properties.">NodeType</a> of the node to migrate </td></tr>
    <tr><td class="paramname">addr</td><td>NULL for random node </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classUnderlayConfigurator.html#a31e6fc55c914b3a6606f6c2bc532a1cc">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00203">203</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();

    <span class="comment">// AccessNet* accessNetModule = NULL;</span>
    <span class="keywordtype">int</span> nodeID = -1;
    <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>* info;

    <span class="comment">// If no address given, get random node</span>
    <span class="keywordflow">if</span> (addr == NULL) {
        info = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classReaSEInfo.html">ReaSEInfo</a>*<span class="keyword">&gt;</span>(<a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a0b09f249680c3ae737af916a8a54f75f" title="Selects a random node from the peerSet.">getRandomPeerInfo</a>(type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a>));
    } <span class="keywordflow">else</span> {
        <span class="comment">// get node information</span>
        info = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classReaSEInfo.html">ReaSEInfo</a>*<span class="keyword">&gt;</span>(<a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a985bf687f11d68d4a6699e7fa2367e9a" title="Searches the peerSet for the specified node.">getPeerInfo</a>(*addr));
    }

    <span class="keywordflow">if</span> (info != NULL) {
        <span class="comment">//accessNetModule = info-&gt;getAccessNetModule();</span>
        nodeID = info-&gt;<a class="code" href="classReaSEInfo.html#a7ab674cc990be7f7842610b48b5675f5">getNodeID</a>();
    } <span class="keywordflow">else</span> {
        opp_error(<span class="stringliteral">&quot;ReaSEUnderlayConfigurator: Trying to pre kill node with nonexistant TransportAddress!&quot;</span>);
    }

    <span class="comment">// do not migrate node that is already scheduled</span>
    <span class="keywordflow">if</span> (<a class="code" href="classReaSEUnderlayConfigurator.html#a74f6621e1d7a242aa5937567605e012b" title="stores nodeIds to prevent migration of prekilled nodes">scheduledID</a>.count(nodeID))
        <span class="keywordflow">return</span>;

    cModule* node = <a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#a05a2bf92b9835d8c8c08984d76f63816" title="Removes a node from the network.">removeOverlayNode</a>(nodeID);<span class="comment">//intuniform(0, accessNetModule-&gt;size() - 1));</span>

    <span class="keywordflow">if</span> (node == NULL)
        opp_error(<span class="stringliteral">&quot;ReaSEUnderlayConfigurator: Trying to remove node which is not an overlay node in network!&quot;</span>);

    <span class="comment">//remove node from bootstrap oracle</span>
    <a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a94d01badb00975930c2ed108e065fdf7" title="Removes a peer from the peerSet.">killPeer</a>(IPAddressResolver().addressOf(node));

    node-&gt;bubble(<span class="stringliteral">&quot;I am migrating!&quot;</span>);
    <span class="comment">// connect the node to another access net</span>
    <a class="code" href="classAccessInfo.html">AccessInfo</a> newAccessModule;

    <span class="comment">// create meta information</span>
    <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>* newinfo = <span class="keyword">new</span> <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>(type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a>, node-&gt;getId(), type.<a class="code" href="classNodeType.html#a9490adb73cbd8c8283eba9afc7c61dc7">context</a>);
        newAccessModule = <a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#a20dba668e41ac6e1355a8a3532c25f6d">migrateNode</a>(node-&gt;getId());
        newAccessModule.terminal = node;
        <span class="comment">// add node to a randomly chosen access net</span>
        info-&gt;<a class="code" href="classReaSEInfo.html#a585857d51975a8f1b283980654081022" title="setter and getter">setNodeID</a>(<a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#afae70fcc4fd62b2747f9baf1d6447330" title="Gathers some information about the terminal and appends it to the overlay terminal vector...">addOverlayNode</a>(&amp;newAccessModule));

    <span class="comment">//add node to bootstrap oracle</span>
    <a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a82a6c218304d734e2169e1c8fc5817ee" title="Adds new peers to the peer set.">addPeer</a>(IPAddressResolver().addressOf(node), newinfo);

    <span class="comment">// inform the notification board about the migration</span>
    NotificationBoard* nb = check_and_cast&lt;NotificationBoard*&gt;(node-&gt;getSubmodule(<span class="stringliteral">&quot;notificationBoard&quot;</span>));
    nb-&gt;fireChangeNotification(NF_OVERLAY_TRANSPORTADDRESS_CHANGED);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a70b3d4d1ee562d8fcfdd2693d6e84b55"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::preKillNode" ref="a70b3d4d1ee562d8fcfdd2693d6e84b55" args="(NodeType type, TransportAddress *addr=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaSEUnderlayConfigurator::preKillNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNodeType.html">NodeType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTransportAddress.html">TransportAddress</a> *&#160;</td>
          <td class="paramname"><em>addr</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notifies and schedules overlay nodes for removal. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td><a class="el" href="classNodeType.html" title="Enum specifying node properties.">NodeType</a> of the node to remove </td></tr>
    <tr><td class="paramname">addr</td><td>NULL for random node </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classUnderlayConfigurator.html#a365808ae3d6f667e897f5bf3ee8666b8">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00136">136</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();

    <span class="comment">// AccessNet* accessNetModule = NULL;</span>
    <span class="keywordtype">int</span> nodeID;
    <a class="code" href="classReaSEInfo.html">ReaSEInfo</a>* info;

    <span class="comment">// If no address given, get random node</span>
    <span class="keywordflow">if</span> (addr == NULL) {
        addr = <a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#afb768cce8523f2c55eb9449b2d489678" title="Selects a random node from the peerSet, which is not already marked for deletion.">getRandomAliveNode</a>(type.<a class="code" href="classNodeType.html#ad6f207541b281c15db64c6d87ee43143">typeID</a>);

        <span class="keywordflow">if</span> (addr == NULL) {
            <span class="comment">// all nodes are already prekilled</span>
            std::cout &lt;&lt; <span class="stringliteral">&quot;all nodes are already prekilled&quot;</span> &lt;&lt; std::endl;
            <span class="keywordflow">return</span>;
        }
    }

    <span class="comment">// get node information</span>
    info = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classReaSEInfo.html">ReaSEInfo</a>*<span class="keyword">&gt;</span>(<a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#a985bf687f11d68d4a6699e7fa2367e9a" title="Searches the peerSet for the specified node.">getPeerInfo</a>(*addr));

    <span class="keywordflow">if</span> (info != NULL) {
        <span class="comment">//accessNetModule = info-&gt;getAccessNetModule();</span>
        nodeID = info-&gt;<a class="code" href="classReaSEInfo.html#a7ab674cc990be7f7842610b48b5675f5">getNodeID</a>();
    } <span class="keywordflow">else</span> {
        opp_error(<span class="stringliteral">&quot;IPv4UnderlayConfigurator: Trying to pre kill node &quot;</span>
                  <span class="stringliteral">&quot;with nonexistant TransportAddress!&quot;</span>);
    }

    uint32_t effectiveType = info-&gt;<a class="code" href="classPeerInfo.html#a7b01dcdd9a7828c03feef39d5135ab1d" title="returns the type of the node">getTypeID</a>();

    <span class="comment">// do not kill node that is already scheduled</span>
    <span class="keywordflow">if</span> (<a class="code" href="classReaSEUnderlayConfigurator.html#a74f6621e1d7a242aa5937567605e012b" title="stores nodeIds to prevent migration of prekilled nodes">scheduledID</a>.count(nodeID))
        <span class="keywordflow">return</span>;
    <span class="comment">//TODO: get overlay node</span>
    cModule* node = <a class="code" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">TerminalConnector</a>-&gt;<a class="code" href="classConnectReaSE.html#a363fd647694e7a4861d9772370215c62" title="searches overlayTerminal[] for a given node">getOverlayNode</a>(nodeID);
    <a class="code" href="classUnderlayConfigurator.html#a18732aa18ca952e0f7973216692d7777" title="pointer to GlobalNodeList">globalNodeList</a>-&gt;<a class="code" href="classGlobalNodeList.html#ad71420e64d6f5466ecfd95d8ab56ca55" title="Debootstraps peers in the peer set.">removePeer</a>(IPAddressResolver().addressOf(node));

    <span class="comment">//put node into the kill list and schedule a message for final removal of the node</span>
    <a class="code" href="classReaSEUnderlayConfigurator.html#a18296075f994c306f1c22c6fb2a35d73" title="stores nodes scheduled to be killed">killList</a>.push_front(IPAddressResolver().addressOf(node));
    <a class="code" href="classReaSEUnderlayConfigurator.html#a74f6621e1d7a242aa5937567605e012b" title="stores nodeIds to prevent migration of prekilled nodes">scheduledID</a>.insert(nodeID);

    <a class="code" href="classUnderlayConfigurator.html#aed1fe1d613fb061b714fc281cbb0b820" title="current number of overlay terminals">overlayTerminalCount</a>--;
    <a class="code" href="classReaSEUnderlayConfigurator.html#a04e850d457d2ee0e140d00ef39666c9a" title="number of overall killed overlay terminals">numKilled</a>++;

    <a class="code" href="classUnderlayConfigurator.html#a45b9ecd5f8deb026db63afc69c60d5a5" title="pointer to the ChurnGenerators">churnGenerator</a>[effectiveType]-&gt;terminalCount--;

    <span class="comment">// update display</span>
    <a class="code" href="classReaSEUnderlayConfigurator.html#aba750036973d4d6c21c3fd8434fa800b" title="Updates the statistics display string.">setDisplayString</a>();

    <span class="comment">// inform the notification board about the removal</span>
    NotificationBoard* nb = check_and_cast&lt;NotificationBoard*&gt;(
            node-&gt;getSubmodule(<span class="stringliteral">&quot;notificationBoard&quot;</span>));
    nb-&gt;fireChangeNotification(NF_OVERLAY_NODE_LEAVE);

    <span class="keywordtype">double</span> random = uniform(0, 1);

    <span class="keywordflow">if</span> (random &lt; <a class="code" href="classUnderlayConfigurator.html#afac0cabcbc3d20fd6c490ea27918372e" title="probability that node is notified befor removal">gracefulLeaveProbability</a>) {
        nb-&gt;fireChangeNotification(NF_OVERLAY_NODE_GRACEFUL_LEAVE);
    }

    cMessage* msg = <span class="keyword">new</span> cMessage();
    scheduleAt(simTime() + <a class="code" href="classUnderlayConfigurator.html#a940d214081be6860f8410511c2da7ad5" title="delay until scheduled node is removed from overlay">gracefulLeaveDelay</a>, msg);

}
</pre></div>
</div>
</div>
<a class="anchor" id="aba750036973d4d6c21c3fd8434fa800b"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::setDisplayString" ref="aba750036973d4d6c21c3fd8434fa800b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaSEUnderlayConfigurator::setDisplayString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the statistics display string. </p>

<p>Implements <a class="el" href="classUnderlayConfigurator.html#a38c591a7837a8d7a426111229955c9fd">UnderlayConfigurator</a>.</p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00290">290</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a>.</p>

<p>Referenced by <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00065">createNode()</a>, and <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00136">preKillNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> buf[80];
    sprintf(buf, <span class="stringliteral">&quot;%i overlay terminals&quot;</span>,
            <a class="code" href="classUnderlayConfigurator.html#aed1fe1d613fb061b714fc281cbb0b820" title="current number of overlay terminals">overlayTerminalCount</a>);
    getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, buf);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a73795c2e932fbd53c58c8ff3b56bc3c1"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::accessNode" ref="a73795c2e932fbd53c58c8ff3b56bc3c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;cModule*&gt; <a class="el" href="classReaSEUnderlayConfigurator.html#a73795c2e932fbd53c58c8ff3b56bc3c1">ReaSEUnderlayConfigurator::accessNode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>stores accessRouter </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00108">108</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a88b94d3ad7793dfd3130fdf006f1fe39"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::accessRouterNum" ref="a88b94d3ad7793dfd3130fdf006f1fe39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classReaSEUnderlayConfigurator.html#a88b94d3ad7793dfd3130fdf006f1fe39">ReaSEUnderlayConfigurator::accessRouterNum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of access router </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00076">76</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a18296075f994c306f1c22c6fb2a35d73"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::killList" ref="a18296075f994c306f1c22c6fb2a35d73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;IPvXAddress&gt; <a class="el" href="classReaSEUnderlayConfigurator.html#a18296075f994c306f1c22c6fb2a35d73">ReaSEUnderlayConfigurator::killList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>stores nodes scheduled to be killed </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00109">109</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

<p>Referenced by <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00257">handleTimerEvent()</a>, and <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00136">preKillNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a9dbcb12eee9fcdbefe868897b27566f4"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::numCreated" ref="a9dbcb12eee9fcdbefe868897b27566f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classReaSEUnderlayConfigurator.html#a9dbcb12eee9fcdbefe868897b27566f4">ReaSEUnderlayConfigurator::numCreated</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of overall created overlay terminals </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00113">113</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

<p>Referenced by <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00065">createNode()</a>, <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00298">finishUnderlay()</a>, and <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00043">initializeUnderlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a04e850d457d2ee0e140d00ef39666c9a"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::numKilled" ref="a04e850d457d2ee0e140d00ef39666c9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classReaSEUnderlayConfigurator.html#a04e850d457d2ee0e140d00ef39666c9a">ReaSEUnderlayConfigurator::numKilled</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of overall killed overlay terminals </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00114">114</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

<p>Referenced by <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00298">finishUnderlay()</a>, <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00043">initializeUnderlay()</a>, and <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00136">preKillNode()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2547aa56f9ff4e6bc33045513bca237"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::overlayAccessRouterNum" ref="ab2547aa56f9ff4e6bc33045513bca237" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classReaSEUnderlayConfigurator.html#ab2547aa56f9ff4e6bc33045513bca237">ReaSEUnderlayConfigurator::overlayAccessRouterNum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of overlayAccessRouter </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00077">77</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9898250c51ab40b053811a9058e7338f"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::overlayTerminalNum" ref="a9898250c51ab40b053811a9058e7338f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classReaSEUnderlayConfigurator.html#a9898250c51ab40b053811a9058e7338f">ReaSEUnderlayConfigurator::overlayTerminalNum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of terminal in the overlay </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00078">78</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a74f6621e1d7a242aa5937567605e012b"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::scheduledID" ref="a74f6621e1d7a242aa5937567605e012b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;int&gt; <a class="el" href="classReaSEUnderlayConfigurator.html#a74f6621e1d7a242aa5937567605e012b">ReaSEUnderlayConfigurator::scheduledID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>stores nodeIds to prevent migration of prekilled nodes </p>

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00110">110</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

<p>Referenced by <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00257">handleTimerEvent()</a>, <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00203">migrateNode()</a>, and <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00136">preKillNode()</a>.</p>

</div>
</div>
<a class="anchor" id="abc9b8a3a702777716b60b335d76c2c43"></a><!-- doxytag: member="ReaSEUnderlayConfigurator::TerminalConnector" ref="abc9b8a3a702777716b60b335d76c2c43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classConnectReaSE.html">ConnectReaSE</a>* <a class="el" href="classReaSEUnderlayConfigurator.html#abc9b8a3a702777716b60b335d76c2c43">ReaSEUnderlayConfigurator::TerminalConnector</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html#l00079">79</a> of file <a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a>.</p>

<p>Referenced by <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00065">createNode()</a>, <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00257">handleTimerEvent()</a>, <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00043">initializeUnderlay()</a>, <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00203">migrateNode()</a>, and <a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html#l00136">preKillNode()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ReaSEUnderlayConfigurator_8h_source.html">ReaSEUnderlayConfigurator.h</a></li>
<li><a class="el" href="ReaSEUnderlayConfigurator_8cc_source.html">ReaSEUnderlayConfigurator.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classReaSEUnderlayConfigurator.html">ReaSEUnderlayConfigurator</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:07:00 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
