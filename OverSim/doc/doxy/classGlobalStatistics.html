<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: GlobalStatistics Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classGlobalStatistics.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">GlobalStatistics Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GlobalStatistics" -->
<p>Module to record global statistics.  
 <a href="classGlobalStatistics.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>&gt;</code></p>

<p><a href="classGlobalStatistics-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGlobalStatistics_1_1OutVector.html">OutVector</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt; struct for cOutVectors and cummulated values  <a href="structGlobalStatistics_1_1OutVector.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a26ae065660443e08ffdadf487a5689fd">~GlobalStatistics</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a26ae065660443e08ffdadf487a5689fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a">addStdDev</a> (const std::string &amp;name, double value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new value to the cStdDev container specified by the name parameter.  <a href="#a6a697a0b67f344e4bc214159761f943a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a1d846766f9dda96137504a33b462db65">recordHistogram</a> (const std::string &amp;name, double value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a value to the histogram plot, or create a new histogram if one hasn't yet been created with name.  <a href="#a1d846766f9dda96137504a33b462db65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#aa41614baf1d51fab0904abb41b642234">recordOutVector</a> (const std::string &amp;name, double value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Record a value to a global cOutVector defined by name.  <a href="#aa41614baf1d51fab0904abb41b642234"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ab45ecba35635f67e477d28102895aef3">startMeasuring</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ac7fcc2200ed2da08e8f8b8b957c0c1dd">isMeasuring</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a0364c85c2484a2109adbe79d03d79f62">getMeasureNetwInitPhase</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ae3a6592e1949a7413b15cc373c71f3fc">getMeasureStartTime</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a610799ebfbf64696c59b811870cc8300">calcMeasuredLifetime</a> (simtime_t creationTime)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a528670f846d7dd8d63f96df38ee5b865">finalizeStatistics</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795">sentKBRTestAppMessages</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of messages sent by <a class="el" href="classKBRTestApp.html" title="Test application for KBR interface.">KBRTestApp</a>  <a href="#ac46f28e295e3d8a66045d4f7d742b795"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a59bfce2d2d29f05ca1f0610db9c508f0">deliveredKBRTestAppMessages</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of messages delivered by <a class="el" href="classKBRTestApp.html" title="Test application for KBR interface.">KBRTestApp</a>  <a href="#a59bfce2d2d29f05ca1f0610db9c508f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#aa5292bb0f58279c479399c97e7e25462">testCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a57fbb024632b9cfb59c136b1bb109bc4">currentDeliveryVector</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">statistical output vector for current delivery ratio  <a href="#a57fbb024632b9cfb59c136b1bb109bc4"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a169810c78519b271f7e32fdc7c9fc641">MIN_MEASURED</a> = 0.1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">minimum useful measured lifetime in seconds  <a href="#a169810c78519b271f7e32fdc7c9fc641"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a4d3ee469f077fd40da9ab32ca54b6b0a">initialize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Init member function of module.  <a href="#a4d3ee469f077fd40da9ab32ca54b6b0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ab9b9fe86e25c22a23a342863abfcd5f7">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">HandleMessage member function of module.  <a href="#ab9b9fe86e25c22a23a342863abfcd5f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ade184a199d0eeee94940e0a185607bb1">finish</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish member function of module.  <a href="#ade184a199d0eeee94940e0a185607bb1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, cStdDev * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f">stdDevMap</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">map to store and access scalars  <a href="#affb433126caee71a25868dc982c3b63f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
cHistogram * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f">histogramMap</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">map to store and access histograms  <a href="#a288590df16d5e83db312399a35fcf13f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="structGlobalStatistics_1_1OutVector.html">OutVector</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e">outVectorMap</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">map to store and access the output vectors  <a href="#aa5067c254073b637c53d7576b9cef15e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a8ad9f159a9b13b2ec7623da065f81875">globalStatTimer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">timer for periodic statistic updates  <a href="#a8ad9f159a9b13b2ec7623da065f81875"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#aca73369781e376c31ccf63d1b924acac">globalStatTimerInterval</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">interval length of periodic statistic timer  <a href="#aca73369781e376c31ccf63d1b924acac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#a2a14a49aed11b72d51fa66a6f34c62f1">measureNetwInitPhase</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Module to record global statistics. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Ingmar Baumgart </dd></dl>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00050">50</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a26ae065660443e08ffdadf487a5689fd"></a><!-- doxytag: member="GlobalStatistics::~GlobalStatistics" ref="a26ae065660443e08ffdadf487a5689fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GlobalStatistics::~GlobalStatistics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00213">213</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// deallocate vectors</span>
    <span class="keywordflow">for</span> (map&lt;std::string, cStdDev*&gt;::iterator it = <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.begin();
            it != <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.end(); it++) {
        <span class="keyword">delete</span> it-&gt;second;
    }
    <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.clear();

    <span class="keywordflow">for</span> (map&lt;std::string, OutVector*&gt;::iterator it = <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.begin();
            it != <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.end(); it++) {
        <span class="keyword">delete</span> it-&gt;second;
    }
    <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.clear();

    <span class="keywordflow">for</span> (map&lt;std::string, cHistogram*&gt;::iterator iter = <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.begin();
            iter != <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.end(); iter++) {
        <span class="keyword">delete</span> iter-&gt;second;
    }
    <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.clear();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6a697a0b67f344e4bc214159761f943a"></a><!-- doxytag: member="GlobalStatistics::addStdDev" ref="a6a697a0b67f344e4bc214159761f943a" args="(const std::string &amp;name, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::addStdDev </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a new value to the cStdDev container specified by the name parameter. </p>
<p>If the container does not exist yet, a new container is created</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>a string to identify the container (should be "Module: Scalar Name") </td></tr>
    <tr><td class="paramname">value</td><td>the value to add </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00144">144</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00121">Quon::changeState()</a>, <a class="el" href="Nps_8cc_source.html#l00209">Nps::coordsReqRpcResponse()</a>, <a class="el" href="LoginCache_8cc_source.html#l00043">LoginCache::finish()</a>, <a class="el" href="MessageObserver_8cc_source.html#l00059">MessageObserver::finish()</a>, <a class="el" href="SimpleTCP_8cc_source.html#l00131">SimpleTCP::finish()</a>, <a class="el" href="SimpleUDP_8cc_source.html#l00156">SimpleUDP::finish()</a>, <a class="el" href="MyApplication_8cc_source.html#l00067">MyApplication::finishApp()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00476">SimpleGameClient::finishApp()</a>, <a class="el" href="GIASearchApp_8cc_source.html#l00178">GIASearchApp::finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">KBRTestApp::finishApp()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00194">NeighborCache::finishApp()</a>, <a class="el" href="Vast_8cc_source.html#l01157">Vast::finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l01103">Quon::finishOverlay()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00155">MyOverlay::finishOverlay()</a>, <a class="el" href="Gia_8cc_source.html#l01212">Gia::finishOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l00521">oversim::Nice::finishOverlay()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">BasePastry::finishOverlay()</a>, <a class="el" href="Kademlia_8cc_source.html#l00180">Kademlia::finishOverlay()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00728">TreeManagement::finishTreeManagement()</a>, <a class="el" href="Vivaldi_8cc_source.html#l00171">Vivaldi::finishVivaldi()</a>, <a class="el" href="ConnectivityProbeApp_8cc_source.html#l00047">ConnectivityProbeApp::handleMessage()</a>, <a class="el" href="ConnectivityProbeQuon_8cc_source.html#l00075">ConnectivityProbeQuon::handleMessage()</a>, <a class="el" href="ConnectivityProbe_8cc_source.html#l00066">ConnectivityProbe::handleMessage()</a>, <a class="el" href="Quon_8cc_source.html#l00850">Quon::handleNodeMove()</a>, <a class="el" href="Vast_8cc_source.html#l00859">Vast::handleNodeMove()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">GlobalViewBuilder::spreadGlobalView()</a>, and <a class="el" href="DiscoveryMode_8cc_source.html#l00066">DiscoveryMode::stop()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a>) {
        <span class="keywordflow">return</span>;
    }

    std::map&lt;std::string, cStdDev*&gt;::iterator sdPos = <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.find(name);
    cStdDev* sd = NULL;

    <span class="keywordflow">if</span> (sdPos == <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.end()) {
        Enter_Method_Silent();
        sd = <span class="keyword">new</span> cStdDev(name.c_str());
        <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.insert(pair&lt;std::string, cStdDev*&gt;(name, sd));
    } <span class="keywordflow">else</span> {
        sd = sdPos-&gt;second;
    }

    sd-&gt;collect(value);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a610799ebfbf64696c59b811870cc8300"></a><!-- doxytag: member="GlobalStatistics::calcMeasuredLifetime" ref="a610799ebfbf64696c59b811870cc8300" args="(simtime_t creationTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t GlobalStatistics::calcMeasuredLifetime </td>
          <td>(</td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>creationTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00207">207</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>

<p>Referenced by <a class="el" href="LoginCache_8cc_source.html#l00043">LoginCache::finish()</a>, <a class="el" href="MessageObserver_8cc_source.html#l00059">MessageObserver::finish()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">KBRTestApp::finishApp()</a>, <a class="el" href="Nice_8cc_source.html#l00521">oversim::Nice::finishOverlay()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">BasePastry::finishOverlay()</a>, <a class="el" href="Kademlia_8cc_source.html#l00180">Kademlia::finishOverlay()</a>, and <a class="el" href="TreeManagement_8cc_source.html#l00728">TreeManagement::finishTreeManagement()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> simTime() - ((creationTime &gt; <a class="code" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a>)
            ? creationTime : <a class="code" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a528670f846d7dd8d63f96df38ee5b865"></a><!-- doxytag: member="GlobalStatistics::finalizeStatistics" ref="a528670f846d7dd8d63f96df38ee5b865" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::finalizeStatistics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00105">105</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>

<p>Referenced by <a class="el" href="FinisherModule_8cc_source.html#l00033">FinisherModule::finish()</a>.</p>
<div class="fragment"><pre class="fragment">{
    recordScalar(<span class="stringliteral">&quot;GlobalStatistics: Simulation Time&quot;</span>, simTime());

    <span class="keywordtype">bool</span> outputMinMax = par(<span class="stringliteral">&quot;outputMinMax&quot;</span>);
    <span class="keywordtype">bool</span> outputStdDev = par(<span class="stringliteral">&quot;outputStdDev&quot;</span>);

    <span class="comment">// record stats from other modules</span>
    <span class="keywordflow">for</span> (map&lt;std::string, cStdDev*&gt;::iterator iter = <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.begin();
            iter != <a class="code" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f" title="map to store and access scalars">stdDevMap</a>.end(); iter++) {

        <span class="keyword">const</span> std::string&amp; n = iter-&gt;first;
        <span class="keyword">const</span> cStatistic&amp; stat = *(iter-&gt;second);

        recordScalar((n + <span class="stringliteral">&quot;.mean&quot;</span>).c_str(), stat.getMean());

        <span class="keywordflow">if</span> (outputStdDev)
            recordScalar((n + <span class="stringliteral">&quot;.stddev&quot;</span>).c_str(), stat.getStddev());

        <span class="keywordflow">if</span> (outputMinMax) {
            recordScalar((n + <span class="stringliteral">&quot;.min&quot;</span>).c_str(), stat.getMin());
            recordScalar((n + <span class="stringliteral">&quot;.max&quot;</span>).c_str(), stat.getMax());
        }
    }

    <span class="keywordflow">for</span> (map&lt;std::string, cHistogram*&gt;::iterator iter = <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.begin();
            iter != <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.end(); iter++) {
        <span class="keyword">const</span> std::string&amp; n = iter-&gt;first;
        recordStatistic(n.c_str(), iter-&gt;second);
    }

    <span class="keywordflow">for</span> (map&lt;std::string, OutVector*&gt;::iterator iter = <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.begin();
    iter != <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.end(); iter++) {
        <span class="keyword">const</span> OutVector&amp; ov = *(iter-&gt;second);
        <span class="keywordtype">double</span> mean = ov.count &gt; 0 ? ov.value / ov.count : 0;
        recordScalar((<span class="stringliteral">&quot;Vector: &quot;</span> + iter-&gt;first + <span class="stringliteral">&quot;.mean&quot;</span>).c_str(), mean);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ade184a199d0eeee94940e0a185607bb1"></a><!-- doxytag: member="GlobalStatistics::finish" ref="ade184a199d0eeee94940e0a185607bb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finish member function of module. </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00094">94</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Here, the FinisherModule is created which will get destroyed at last.</span>
    <span class="comment">// This way, all other modules have sent their statistical data to the</span>
    <span class="comment">// GobalStatisticModule before GlobalStatistics::finalizeStatistics()</span>
    <span class="comment">// is called by FinisherModule::finish()</span>
    cModuleType* moduleType = cModuleType::get(<span class="stringliteral">&quot;oversim.common.FinisherModule&quot;</span>);
    moduleType-&gt;create(<span class="stringliteral">&quot;finisherModule&quot;</span>, getParentModule()-&gt;getParentModule());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0364c85c2484a2109adbe79d03d79f62"></a><!-- doxytag: member="GlobalStatistics::getMeasureNetwInitPhase" ref="a0364c85c2484a2109adbe79d03d79f62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GlobalStatistics::getMeasureNetwInitPhase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00091">91</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00813">BasePastry::finishOverlay()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classGlobalStatistics.html#a2a14a49aed11b72d51fa66a6f34c62f1">measureNetwInitPhase</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="ae3a6592e1949a7413b15cc373c71f3fc"></a><!-- doxytag: member="GlobalStatistics::getMeasureStartTime" ref="ae3a6592e1949a7413b15cc373c71f3fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t GlobalStatistics::getMeasureStartTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00092">92</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="ab9b9fe86e25c22a23a342863abfcd5f7"></a><!-- doxytag: member="GlobalStatistics::handleMessage" ref="ab9b9fe86e25c22a23a342863abfcd5f7" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>HandleMessage member function of module. </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00066">66</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (msg == <a class="code" href="classGlobalStatistics.html#a8ad9f159a9b13b2ec7623da065f81875" title="timer for periodic statistic updates">globalStatTimer</a>) {
        <span class="comment">// schedule next timer event</span>
        scheduleAt(simTime() + <a class="code" href="classGlobalStatistics.html#aca73369781e376c31ccf63d1b924acac" title="interval length of periodic statistic timer">globalStatTimerInterval</a>, msg);

        <span class="keywordtype">double</span> ratio;

        <span class="comment">// quick hack for live display of the current KBR delivery ratio</span>
        <span class="keywordflow">if</span> (<a class="code" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795" title="total number of messages sent by KBRTestApp">sentKBRTestAppMessages</a> == 0) {
            ratio = 0;
        } <span class="keywordflow">else</span> {
            ratio = (double)<a class="code" href="classGlobalStatistics.html#a59bfce2d2d29f05ca1f0610db9c508f0" title="total number of messages delivered by KBRTestApp">deliveredKBRTestAppMessages</a> /
            (<span class="keywordtype">double</span>)<a class="code" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795" title="total number of messages sent by KBRTestApp">sentKBRTestAppMessages</a>;
        }

        <span class="keywordflow">if</span> (ratio &gt; 1) ratio = 1;

        <a class="code" href="classGlobalStatistics.html#a57fbb024632b9cfb59c136b1bb109bc4" title="statistical output vector for current delivery ratio">currentDeliveryVector</a>.record(ratio);
        <a class="code" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795" title="total number of messages sent by KBRTestApp">sentKBRTestAppMessages</a> = 0;
        <a class="code" href="classGlobalStatistics.html#a59bfce2d2d29f05ca1f0610db9c508f0" title="total number of messages delivered by KBRTestApp">deliveredKBRTestAppMessages</a> = 0;

        <span class="keywordflow">return</span>;
    }

    <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;GlobalStatistics::handleMessage(): Unknown message type!&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4d3ee469f077fd40da9ab32ca54b6b0a"></a><!-- doxytag: member="GlobalStatistics::initialize" ref="a4d3ee469f077fd40da9ab32ca54b6b0a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Init member function of module. </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00034">34</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795" title="total number of messages sent by KBRTestApp">sentKBRTestAppMessages</a> = 0;
    <a class="code" href="classGlobalStatistics.html#a59bfce2d2d29f05ca1f0610db9c508f0" title="total number of messages delivered by KBRTestApp">deliveredKBRTestAppMessages</a> = 0;

    <a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a> = <a class="code" href="classGlobalStatistics.html#a2a14a49aed11b72d51fa66a6f34c62f1">measureNetwInitPhase</a> = par(<span class="stringliteral">&quot;measureNetwInitPhase&quot;</span>);
    <a class="code" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a> = 0;

    <a class="code" href="classGlobalStatistics.html#a57fbb024632b9cfb59c136b1bb109bc4" title="statistical output vector for current delivery ratio">currentDeliveryVector</a>.setName(<span class="stringliteral">&quot;Current Delivery Ratio&quot;</span>);

    <span class="comment">// start periodic globalStatTimer</span>
    <a class="code" href="classGlobalStatistics.html#aca73369781e376c31ccf63d1b924acac" title="interval length of periodic statistic timer">globalStatTimerInterval</a> = par(<span class="stringliteral">&quot;globalStatTimerInterval&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="classGlobalStatistics.html#aca73369781e376c31ccf63d1b924acac" title="interval length of periodic statistic timer">globalStatTimerInterval</a> &gt; 0) {
        <a class="code" href="classGlobalStatistics.html#a8ad9f159a9b13b2ec7623da065f81875" title="timer for periodic statistic updates">globalStatTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;globalStatTimer&quot;</span>);
        scheduleAt(simTime() + <a class="code" href="classGlobalStatistics.html#aca73369781e376c31ccf63d1b924acac" title="interval length of periodic statistic timer">globalStatTimerInterval</a>, <a class="code" href="classGlobalStatistics.html#a8ad9f159a9b13b2ec7623da065f81875" title="timer for periodic statistic updates">globalStatTimer</a>);
    }

    WATCH(<a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a>);
    WATCH(<a class="code" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a>);
    WATCH(<a class="code" href="classGlobalStatistics.html#a57fbb024632b9cfb59c136b1bb109bc4" title="statistical output vector for current delivery ratio">currentDeliveryVector</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac7fcc2200ed2da08e8f8b8b957c0c1dd"></a><!-- doxytag: member="GlobalStatistics::isMeasuring" ref="ac7fcc2200ed2da08e8f8b8b957c0c1dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GlobalStatistics::isMeasuring </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00090">90</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00097">TreeManagement::handleRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00114">TreeManagement::handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>, <a class="el" href="NeighborCache_8cc_source.html#l01036">NeighborCache::recordNcsEstimationError()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">TreeManagement::registerAtParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">TreeManagement::sendChildReleaseCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00662">TreeManagement::sendMessageToChildren()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00634">TreeManagement::sendMessageToParent()</a>, and <a class="el" href="DiscoveryMode_8cc_source.html#l00066">DiscoveryMode::stop()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="a1d846766f9dda96137504a33b462db65"></a><!-- doxytag: member="GlobalStatistics::recordHistogram" ref="a1d846766f9dda96137504a33b462db65" args="(const std::string &amp;name, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::recordHistogram </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a value to the histogram plot, or create a new histogram if one hasn't yet been created with name. </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00164">164</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a>) {
        <span class="keywordflow">return</span>;
    }

    std::map&lt;std::string, cHistogram*&gt;::iterator hPos = <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.find(name);
    cHistogram* h = NULL;

    <span class="keywordflow">if</span> (hPos == <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.end()) {
        Enter_Method_Silent();
        h = <span class="keyword">new</span> cHistogram(name.c_str());
        <a class="code" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f" title="map to store and access histograms">histogramMap</a>.insert(pair&lt;std::string, cHistogram*&gt;(name, h));
    } <span class="keywordflow">else</span> {
        h = hPos-&gt;second;
    }

    h-&gt;collect(value);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa41614baf1d51fab0904abb41b642234"></a><!-- doxytag: member="GlobalStatistics::recordOutVector" ref="aa41614baf1d51fab0904abb41b642234" args="(const std::string &amp;name, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::recordOutVector </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Record a value to a global cOutVector defined by name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>a string to identify the vector (should be "Module: Scalar Name") </td></tr>
    <tr><td class="paramname">value</td><td>the value to add </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00184">184</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>

<p>Referenced by <a class="el" href="LifetimeChurn_8cc_source.html#l00100">LifetimeChurn::createNode()</a>, <a class="el" href="ParetoChurn_8cc_source.html#l00162">ParetoChurn::createNode()</a>, <a class="el" href="LifetimeChurn_8cc_source.html#l00124">LifetimeChurn::deleteNode()</a>, <a class="el" href="ParetoChurn_8cc_source.html#l00184">ParetoChurn::deleteNode()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00576">KBRTestApp::evaluateData()</a>, <a class="el" href="Landmark_8cc_source.html#l00079">Landmark::finishApp()</a>, <a class="el" href="Kademlia_8cc_source.html#l01323">Kademlia::handleBucketRefreshTimerExpired()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00426">KBRTestApp::handleLookupResponse()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00239">SimpleGameClient::handleLowerMessage()</a>, <a class="el" href="GlobalNodeList_8cc_source.html#l00105">GlobalNodeList::handleMessage()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">KBRTestApp::handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">KBRTestApp::handleRpcTimeout()</a>, <a class="el" href="ParetoChurn_8cc_source.html#l00044">ParetoChurn::initializeChurn()</a>, and <a class="el" href="NeighborCache_8cc_source.html#l01036">NeighborCache::recordNcsEstimationError()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a>) {
        <span class="keywordflow">return</span>;
    }

    std::map&lt;std::string, OutVector*&gt;::iterator ovPos =
        <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.find(name);
    OutVector* ov = NULL;

    <span class="keywordflow">if</span> (ovPos == <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.end()) {
        Enter_Method_Silent();
        ov = <span class="keyword">new</span> OutVector(name);
        <a class="code" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e" title="map to store and access the output vectors">outVectorMap</a>.insert(pair&lt;std::string, OutVector*&gt;(name, ov));
    } <span class="keywordflow">else</span> {
        ov = ovPos-&gt;second;
    }

    ov-&gt;vector.record(value);
    ov-&gt;value += value;
    ov-&gt;count++;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab45ecba35635f67e477d28102895aef3"></a><!-- doxytag: member="GlobalStatistics::startMeasuring" ref="ab45ecba35635f67e477d28102895aef3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalStatistics::startMeasuring </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8cc_source.html#l00057">57</a> of file <a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a>.</p>

<p>Referenced by <a class="el" href="UnderlayConfigurator_8cc_source.html#l00185">UnderlayConfigurator::handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a>) {
        <a class="code" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">measuring</a> = <span class="keyword">true</span>;
        <a class="code" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">measureStartTime</a> = simTime();
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a57fbb024632b9cfb59c136b1bb109bc4"></a><!-- doxytag: member="GlobalStatistics::currentDeliveryVector" ref="a57fbb024632b9cfb59c136b1bb109bc4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector <a class="el" href="classGlobalStatistics.html#a57fbb024632b9cfb59c136b1bb109bc4">GlobalStatistics::currentDeliveryVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>statistical output vector for current delivery ratio </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00058">58</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="a59bfce2d2d29f05ca1f0610db9c508f0"></a><!-- doxytag: member="GlobalStatistics::deliveredKBRTestAppMessages" ref="a59bfce2d2d29f05ca1f0610db9c508f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classGlobalStatistics.html#a59bfce2d2d29f05ca1f0610db9c508f0">GlobalStatistics::deliveredKBRTestAppMessages</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of messages delivered by <a class="el" href="classKBRTestApp.html" title="Test application for KBR interface.">KBRTestApp</a> </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00056">56</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00576">KBRTestApp::evaluateData()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ad9f159a9b13b2ec7623da065f81875"></a><!-- doxytag: member="GlobalStatistics::globalStatTimer" ref="a8ad9f159a9b13b2ec7623da065f81875" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classGlobalStatistics.html#a8ad9f159a9b13b2ec7623da065f81875">GlobalStatistics::globalStatTimer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>timer for periodic statistic updates </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00114">114</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="aca73369781e376c31ccf63d1b924acac"></a><!-- doxytag: member="GlobalStatistics::globalStatTimerInterval" ref="aca73369781e376c31ccf63d1b924acac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classGlobalStatistics.html#aca73369781e376c31ccf63d1b924acac">GlobalStatistics::globalStatTimerInterval</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>interval length of periodic statistic timer </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00115">115</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="a288590df16d5e83db312399a35fcf13f"></a><!-- doxytag: member="GlobalStatistics::histogramMap" ref="a288590df16d5e83db312399a35fcf13f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, cHistogram*&gt; <a class="el" href="classGlobalStatistics.html#a288590df16d5e83db312399a35fcf13f">GlobalStatistics::histogramMap</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>map to store and access histograms </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00112">112</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2a14a49aed11b72d51fa66a6f34c62f1"></a><!-- doxytag: member="GlobalStatistics::measureNetwInitPhase" ref="a2a14a49aed11b72d51fa66a6f34c62f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGlobalStatistics.html#a2a14a49aed11b72d51fa66a6f34c62f1">GlobalStatistics::measureNetwInitPhase</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00133">133</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalStatistics_8h_source.html#l00091">getMeasureNetwInitPhase()</a>.</p>

</div>
</div>
<a class="anchor" id="ab0ab64b8da5b8f3791a4912d0be38cd5"></a><!-- doxytag: member="GlobalStatistics::measureStartTime" ref="ab0ab64b8da5b8f3791a4912d0be38cd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classGlobalStatistics.html#ab0ab64b8da5b8f3791a4912d0be38cd5">GlobalStatistics::measureStartTime</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00134">134</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalStatistics_8h_source.html#l00092">getMeasureStartTime()</a>.</p>

</div>
</div>
<a class="anchor" id="ae55ed1a4856ced36d4746081cc3cb863"></a><!-- doxytag: member="GlobalStatistics::measuring" ref="ae55ed1a4856ced36d4746081cc3cb863" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGlobalStatistics.html#ae55ed1a4856ced36d4746081cc3cb863">GlobalStatistics::measuring</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00132">132</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalStatistics_8h_source.html#l00090">isMeasuring()</a>.</p>

</div>
</div>
<a class="anchor" id="a169810c78519b271f7e32fdc7c9fc641"></a><!-- doxytag: member="GlobalStatistics::MIN_MEASURED" ref="a169810c78519b271f7e32fdc7c9fc641" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double <a class="el" href="classGlobalStatistics.html#a169810c78519b271f7e32fdc7c9fc641">GlobalStatistics::MIN_MEASURED</a> = 0.1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>minimum useful measured lifetime in seconds </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00053">53</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="LoginCache_8cc_source.html#l00043">LoginCache::finish()</a>, <a class="el" href="MessageObserver_8cc_source.html#l00059">MessageObserver::finish()</a>, <a class="el" href="CryptoModule_8cc_source.html#l00122">CryptoModule::finish()</a>, <a class="el" href="BaseApp_8cc_source.html#l00468">BaseApp::finish()</a>, <a class="el" href="BaseOverlay_8cc_source.html#l00305">BaseOverlay::finish()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00476">SimpleGameClient::finishApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00595">KBRTestApp::finishApp()</a>, <a class="el" href="SimMud_8cc_source.html#l00045">SimMud::finishApp()</a>, <a class="el" href="DHTTestApp_8cc_source.html#l00450">DHTTestApp::finishApp()</a>, <a class="el" href="DHT_8cc_source.html#l00927">DHT::finishApp()</a>, <a class="el" href="Scribe_8cc_source.html#l00084">Scribe::finishApp()</a>, <a class="el" href="PubSubMMOG_8cc_source.html#l01977">PubSubMMOG::finishOverlay()</a>, <a class="el" href="PubSubLobby_8cc_source.html#l00463">PubSubLobby::finishOverlay()</a>, <a class="el" href="NTree_8cc_source.html#l01424">NTree::finishOverlay()</a>, <a class="el" href="Broose_8cc_source.html#l00772">Broose::finishOverlay()</a>, <a class="el" href="Chord_8cc_source.html#l00728">oversim::Chord::finishOverlay()</a>, <a class="el" href="Koorde_8cc_source.html#l00626">oversim::Koorde::finishOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l00521">oversim::Nice::finishOverlay()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">BasePastry::finishOverlay()</a>, and <a class="el" href="Kademlia_8cc_source.html#l00180">Kademlia::finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5067c254073b637c53d7576b9cef15e"></a><!-- doxytag: member="GlobalStatistics::outVectorMap" ref="aa5067c254073b637c53d7576b9cef15e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="structGlobalStatistics_1_1OutVector.html">OutVector</a>*&gt; <a class="el" href="classGlobalStatistics.html#aa5067c254073b637c53d7576b9cef15e">GlobalStatistics::outVectorMap</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>map to store and access the output vectors </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00113">113</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac46f28e295e3d8a66045d4f7d742b795"></a><!-- doxytag: member="GlobalStatistics::sentKBRTestAppMessages" ref="ac46f28e295e3d8a66045d4f7d742b795" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classGlobalStatistics.html#ac46f28e295e3d8a66045d4f7d742b795">GlobalStatistics::sentKBRTestAppMessages</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of messages sent by <a class="el" href="classKBRTestApp.html" title="Test application for KBR interface.">KBRTestApp</a> </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00055">55</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="affb433126caee71a25868dc982c3b63f"></a><!-- doxytag: member="GlobalStatistics::stdDevMap" ref="affb433126caee71a25868dc982c3b63f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, cStdDev*&gt; <a class="el" href="classGlobalStatistics.html#affb433126caee71a25868dc982c3b63f">GlobalStatistics::stdDevMap</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>map to store and access scalars </p>

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00111">111</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa5292bb0f58279c479399c97e7e25462"></a><!-- doxytag: member="GlobalStatistics::testCount" ref="aa5292bb0f58279c479399c97e7e25462" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGlobalStatistics.html#aa5292bb0f58279c479399c97e7e25462">GlobalStatistics::testCount</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalStatistics_8h_source.html#l00057">57</a> of file <a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="GlobalStatistics_8h_source.html">GlobalStatistics.h</a></li>
<li><a class="el" href="GlobalStatistics_8cc_source.html">GlobalStatistics.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:49 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
