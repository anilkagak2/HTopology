<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: SimpleTCP Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classSimpleTCP.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">SimpleTCP Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="SimpleTCP" -->
<p><code>#include &lt;<a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a>&gt;</code></p>

<p><a href="classSimpleTCP-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#abb181ac06e23932e09b93d03e1b98a2f">SimpleTCP</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#a54b9501e9b2ee34d4261d5ab7e0f74cc">~SimpleTCP</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#abddcae4e6b79ffdcca916553def4d5f5">setNodeEntry</a> (<a class="el" href="classSimpleNodeEntry.html">SimpleNodeEntry</a> *entry)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structStatisticsAndDelay.html">StatisticsAndDelay</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#a9226771de9df8d100af27d7bdfd3f66e">segmentArrivalWhileClosed</a> (TCPSegment *tcpseg, IPvXAddress srcAddr, IPvXAddress destAddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#a229e131579ffe9b8045671161163988d">createConnection</a> (int appGateIndex, int connId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#aafd5f640dc6fbb6518e7e3174deb6932">initialize</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#a482331af9b7835f3c234ccf596c0d5d8">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#abd216b335d87144e735e4b1d28609118">numInitStages</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleTCP.html#a2cfc52a503808e55d77506e8c5083828">finish</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="SimpleTCP_8h_source.html#l00098">98</a> of file <a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abb181ac06e23932e09b93d03e1b98a2f"></a><!-- doxytag: member="SimpleTCP::SimpleTCP" ref="abb181ac06e23932e09b93d03e1b98a2f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimpleTCP::SimpleTCP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8h_source.html#l00101">101</a> of file <a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a86b9b08948fd5ac856dbe8f6e5e2f8c8" title="pointer to GlobalStatistics">globalStatistics</a> = NULL; };
</pre></div>
</div>
</div>
<a class="anchor" id="a54b9501e9b2ee34d4261d5ab7e0f74cc"></a><!-- doxytag: member="SimpleTCP::~SimpleTCP" ref="a54b9501e9b2ee34d4261d5ab7e0f74cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual SimpleTCP::~SimpleTCP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8h_source.html#l00102">102</a> of file <a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a>.</p>
<div class="fragment"><pre class="fragment">{};
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a229e131579ffe9b8045671161163988d"></a><!-- doxytag: member="SimpleTCP::createConnection" ref="a229e131579ffe9b8045671161163988d" args="(int appGateIndex, int connId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> * SimpleTCP::createConnection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>appGateIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>connId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8cc_source.html#l00235">235</a> of file <a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="SimpleTCP_8cc_source.html#l00143">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a>(<span class="keyword">this</span>, appGateIndex, connId);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2cfc52a503808e55d77506e8c5083828"></a><!-- doxytag: member="SimpleTCP::finish" ref="a2cfc52a503808e55d77506e8c5083828" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleTCP::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8cc_source.html#l00131">131</a> of file <a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a86b9b08948fd5ac856dbe8f6e5e2f8c8" title="pointer to GlobalStatistics">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;SimpleTCP: Packets sent&quot;</span>,
                                <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#aeb20fdd2c64084ebe3038bfa988a9c15" title="number of sent packets">numSent</a>);
    <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a86b9b08948fd5ac856dbe8f6e5e2f8c8" title="pointer to GlobalStatistics">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;SimpleTCP: Packets dropped due to queue overflows&quot;</span>,
                                <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#ac0fb0c280a914930b352e7d3c5f45e2c" title="number of lost packets due to queue full">numQueueLost</a>);
    <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a86b9b08948fd5ac856dbe8f6e5e2f8c8" title="pointer to GlobalStatistics">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;SimpleTCP: Packets dropped due to network partitions&quot;</span>,
                                <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a836c38197079b0f21a52eb2cd5544576" title="number of lost packets due to network partitions">numPartitionLost</a>);
    <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a86b9b08948fd5ac856dbe8f6e5e2f8c8" title="pointer to GlobalStatistics">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;SimpleTCP: Packets dropped due to unavailable destination&quot;</span>,
                                <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#aca04ef22c6c8bd65cd98a7af58d577dc" title="number of lost packets due to unavailable destination">numDestUnavailableLost</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a482331af9b7835f3c234ccf596c0d5d8"></a><!-- doxytag: member="SimpleTCP::handleMessage" ref="a482331af9b7835f3c234ccf596c0d5d8" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleTCP::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8cc_source.html#l00143">143</a> of file <a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (msg-&gt;isSelfMessage())
    {
        <a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> *conn = (<a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> *) msg-&gt;getContextPointer();
        <span class="keywordtype">bool</span> ret = conn-&gt;processTimer(msg);
        <span class="keywordflow">if</span> (!ret)
            removeConnection(conn);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;arrivedOn(<span class="stringliteral">&quot;ipIn&quot;</span>) || msg-&gt;arrivedOn(<span class="stringliteral">&quot;ipv6In&quot;</span>))
    {
        <span class="keywordflow">if</span> (dynamic_cast&lt;ICMPMessage *&gt;(msg) || <span class="keyword">dynamic_cast&lt;</span>ICMPv6Message *<span class="keyword">&gt;</span>(msg))
        {
            tcpEV &lt;&lt; <span class="stringliteral">&quot;ICMP error received -- discarding\n&quot;</span>; <span class="comment">// FIXME can ICMP packets really make it up to TCP???</span>
            <span class="keyword">delete</span> msg;
        }
        <span class="keywordflow">else</span>
        {
            <span class="comment">// must be a TCPSegment</span>
            TCPSegment *tcpseg = check_and_cast&lt;TCPSegment *&gt;(msg);

            <span class="comment">// get src/dest addresses</span>
            IPvXAddress srcAddr, destAddr;
            <span class="keywordflow">if</span> (dynamic_cast&lt;IPControlInfo *&gt;(tcpseg-&gt;getControlInfo())!=NULL)
            {
                IPControlInfo *controlInfo = (IPControlInfo *)tcpseg-&gt;removeControlInfo();
                srcAddr = controlInfo-&gt;getSrcAddr();
                destAddr = controlInfo-&gt;getDestAddr();
                <span class="keyword">delete</span> controlInfo;
            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;IPv6ControlInfo *&gt;(tcpseg-&gt;getControlInfo())!=NULL)
            {
                IPv6ControlInfo *controlInfo = (IPv6ControlInfo *)tcpseg-&gt;removeControlInfo();
                srcAddr = controlInfo-&gt;getSrcAddr();
                destAddr = controlInfo-&gt;getDestAddr();
                <span class="keyword">delete</span> controlInfo;
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;(%s)%s arrived without control info&quot;</span>, tcpseg-&gt;getClassName(), tcpseg-&gt;getName());
            }

            <span class="comment">// process segment</span>
            <a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> *conn = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a>*<span class="keyword">&gt;</span>(findConnForSegment(tcpseg, srcAddr, destAddr));

            <span class="keywordflow">if</span> (conn)
            {
                <span class="keywordtype">bool</span> ret = conn-&gt;processTCPSegment(tcpseg, srcAddr, destAddr);
                <span class="keywordflow">if</span> (!ret)
                    removeConnection(conn);
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="classSimpleTCP.html#a9226771de9df8d100af27d7bdfd3f66e">segmentArrivalWhileClosed</a>(tcpseg, srcAddr, destAddr);
            }
        }
    }
    <span class="keywordflow">else</span> <span class="comment">// must be from app</span>
    {
        TCPCommand *controlInfo = check_and_cast&lt;TCPCommand *&gt;(msg-&gt;getControlInfo());
        <span class="keywordtype">int</span> appGateIndex = msg-&gt;getArrivalGate()-&gt;getIndex();
        <span class="keywordtype">int</span> connId = controlInfo-&gt;getConnId();

        <a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> *conn = (<a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a>*)findConnForApp(appGateIndex, connId);

        <span class="keywordflow">if</span> (!conn)
        {
            conn = <a class="code" href="classSimpleTCP.html#a229e131579ffe9b8045671161163988d">createConnection</a>(appGateIndex, connId);

            <span class="comment">// add into appConnMap here; it&#39;ll be added to connMap during processing</span>
            <span class="comment">// the OPEN command in SimpleTCPConnection&#39;s processAppCommand().</span>
            AppConnKey key;
            key.appGateIndex = appGateIndex;
            key.connId = connId;
            tcpAppConnMap[key] = conn;

            tcpEV &lt;&lt; <span class="stringliteral">&quot;TCP connection created for &quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
        }
        <span class="keywordtype">bool</span> ret = conn-&gt;processAppCommand(msg);
        <span class="keywordflow">if</span> (!ret)
            removeConnection(conn);
    }

    <span class="keywordflow">if</span> (ev.isGUI())
        updateDisplayString();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aafd5f640dc6fbb6518e7e3174deb6932"></a><!-- doxytag: member="SimpleTCP::initialize" ref="aafd5f640dc6fbb6518e7e3174deb6932" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleTCP::initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8cc_source.html#l00080">80</a> of file <a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (stage == <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532ac691a73094515eb9c580b1cac99f416c" title="first stage for underlay configurators">MIN_STAGE_UNDERLAY</a>) {
        lastEphemeralPort = <a class="code" href="SimpleTCP_8cc.html#ae0f9dd1223cbb93271a6c1d5789b5be5">EPHEMERAL_PORTRANGE_START</a>;
        WATCH(lastEphemeralPort);

        WATCH_PTRMAP(tcpConnMap);
        WATCH_PTRMAP(tcpAppConnMap);

        recordStatistics = par(<span class="stringliteral">&quot;recordStats&quot;</span>);

        cModule *netw = simulation.getSystemModule();
        testing = netw-&gt;hasPar(<span class="stringliteral">&quot;testing&quot;</span>) &amp;&amp; netw-&gt;par(<span class="stringliteral">&quot;testing&quot;</span>).boolValue();
        logverbose = !testing &amp;&amp; netw-&gt;hasPar(<span class="stringliteral">&quot;logverbose&quot;</span>) &amp;&amp; netw-&gt;par(<span class="stringliteral">&quot;logverbose&quot;</span>).boolValue();

        <span class="comment">// start of modifications</span>

        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#aeb20fdd2c64084ebe3038bfa988a9c15" title="number of sent packets">numSent</a> = 0;
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#ac0fb0c280a914930b352e7d3c5f45e2c" title="number of lost packets due to queue full">numQueueLost</a> = 0;
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a836c38197079b0f21a52eb2cd5544576" title="number of lost packets due to network partitions">numPartitionLost</a> = 0;
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#aca04ef22c6c8bd65cd98a7af58d577dc" title="number of lost packets due to unavailable destination">numDestUnavailableLost</a> = 0;
        WATCH(<a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#ac0fb0c280a914930b352e7d3c5f45e2c" title="number of lost packets due to queue full">numQueueLost</a>);
        WATCH(<a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a836c38197079b0f21a52eb2cd5544576" title="number of lost packets due to network partitions">numPartitionLost</a>);
        WATCH(<a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#aca04ef22c6c8bd65cd98a7af58d577dc" title="number of lost packets due to unavailable destination">numDestUnavailableLost</a>);

        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a5512c6e7fd7a47e681f2a8dc3e50cc3a" title="violate the triangle inequality?">globalNodeList</a> = <a class="code" href="classGlobalNodeListAccess.html" title="Gives access to the GlobalNodeList.">GlobalNodeListAccess</a>().<a class="code" href="classGlobalNodeListAccess.html#a632ebc68d476efa2dd053517509786ec">get</a>();
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a86b9b08948fd5ac856dbe8f6e5e2f8c8" title="pointer to GlobalStatistics">globalStatistics</a> = <a class="code" href="classGlobalStatisticsAccess.html" title="Gives access to the GlobalStatistics module.">GlobalStatisticsAccess</a>().<a class="code" href="classGlobalStatisticsAccess.html#ac00f1d00c91c814f250788d315bde4fe" title="returns the GlobalStatistics module">get</a>();
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a5e1bfce6c505beb5dc3f32e3a264878f" title="constant delay between two peers">constantDelay</a> = par(<span class="stringliteral">&quot;constantDelay&quot;</span>);
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a888474d52c0422097930c2abe1c61d74" title="delay should be calculated from euklidean distance between two peers">useCoordinateBasedDelay</a> = par(<span class="stringliteral">&quot;useCoordinateBasedDelay&quot;</span>);

        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a2c9bb33b62dae21a5637c936d75d6704">delayFaultTypeString</a> = par(<span class="stringliteral">&quot;delayFaultType&quot;</span>).stdstringValue();
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a18a2a8f3860314e112519d7fc7e63523">delayFaultTypeMap</a>[<span class="stringliteral">&quot;live_all&quot;</span>] = <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a6eb37bf361df435d4e1cf891d2991ba5afe0ee069144d796135bce380e1ac42ff">delayFaultLiveAll</a>;
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a18a2a8f3860314e112519d7fc7e63523">delayFaultTypeMap</a>[<span class="stringliteral">&quot;live_planetlab&quot;</span>] = <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a6eb37bf361df435d4e1cf891d2991ba5abac63ff392f0a1998949bb1f695c659d">delayFaultLivePlanetlab</a>;
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a18a2a8f3860314e112519d7fc7e63523">delayFaultTypeMap</a>[<span class="stringliteral">&quot;simulation&quot;</span>] = <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a6eb37bf361df435d4e1cf891d2991ba5ae51377332ebe1815bf3ecf5500144df1">delayFaultSimulation</a>;

        <span class="keywordflow">switch</span> (<a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a18a2a8f3860314e112519d7fc7e63523">delayFaultTypeMap</a>[<a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a2c9bb33b62dae21a5637c936d75d6704">delayFaultTypeString</a>]) {
        <span class="keywordflow">case</span> <a class="code" href="structStatisticsAndDelay.html#a6eb37bf361df435d4e1cf891d2991ba5afe0ee069144d796135bce380e1ac42ff">StatisticsAndDelay::delayFaultLiveAll</a>:
        <span class="keywordflow">case</span> <a class="code" href="structStatisticsAndDelay.html#a6eb37bf361df435d4e1cf891d2991ba5abac63ff392f0a1998949bb1f695c659d">StatisticsAndDelay::delayFaultLivePlanetlab</a>:
        <span class="keywordflow">case</span> <a class="code" href="structStatisticsAndDelay.html#a6eb37bf361df435d4e1cf891d2991ba5ae51377332ebe1815bf3ecf5500144df1">StatisticsAndDelay::delayFaultSimulation</a>:
            <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a94c50ce1f8cadf64798d65257cd17725">faultyDelay</a> = <span class="keyword">true</span>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a94c50ce1f8cadf64798d65257cd17725">faultyDelay</a> = <span class="keyword">false</span>;
        }

        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a6411eade894d17778e15653bed25f2ff" title="amount of jitter in % of total delay">jitter</a> = par(<span class="stringliteral">&quot;jitter&quot;</span>);
        <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a9ff3d8314da300706b11edfda9c43ef5" title="nodeEntry of the overlay node this module belongs to">nodeEntry</a> = NULL;
        WATCH_PTR(<a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a9ff3d8314da300706b11edfda9c43ef5" title="nodeEntry of the overlay node this module belongs to">nodeEntry</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="abd216b335d87144e735e4b1d28609118"></a><!-- doxytag: member="SimpleTCP::numInitStages" ref="abd216b335d87144e735e4b1d28609118" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int SimpleTCP::numInitStages </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8h_source.html#l00115">115</a> of file <a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a>.</p>
<div class="fragment"><pre class="fragment">  {
      <span class="keywordflow">return</span> <a class="code" href="InitStages_8h.html#a42fde1aa1e14a1c45d29061d6e87e532a51360a7e54ff555dc3d078d686500cb9" title="last stage for underlay configurators">MAX_STAGE_UNDERLAY</a> + 1;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="a9226771de9df8d100af27d7bdfd3f66e"></a><!-- doxytag: member="SimpleTCP::segmentArrivalWhileClosed" ref="a9226771de9df8d100af27d7bdfd3f66e" args="(TCPSegment *tcpseg, IPvXAddress srcAddr, IPvXAddress destAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleTCP::segmentArrivalWhileClosed </td>
          <td>(</td>
          <td class="paramtype">TCPSegment *&#160;</td>
          <td class="paramname"><em>tcpseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IPvXAddress&#160;</td>
          <td class="paramname"><em>srcAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IPvXAddress&#160;</td>
          <td class="paramname"><em>destAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8cc_source.html#l00240">240</a> of file <a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="SimpleTCP_8cc_source.html#l00143">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a> *tmp = <span class="keyword">new</span> <a class="code" href="classSimpleTCPConnection.html">SimpleTCPConnection</a>();
    tmp-&gt;segmentArrivalWhileClosed(tcpseg, srcAddr, destAddr);
    <span class="keyword">delete</span> tmp;
    <span class="keyword">delete</span> tcpseg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abddcae4e6b79ffdcca916553def4d5f5"></a><!-- doxytag: member="SimpleTCP::setNodeEntry" ref="abddcae4e6b79ffdcca916553def4d5f5" args="(SimpleNodeEntry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleTCP::setNodeEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSimpleNodeEntry.html">SimpleNodeEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8cc_source.html#l00230">230</a> of file <a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="SimpleUnderlayConfigurator_8cc_source.html#l00115">SimpleUnderlayConfigurator::createNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">sad</a>.<a class="code" href="structStatisticsAndDelay.html#a9ff3d8314da300706b11edfda9c43ef5" title="nodeEntry of the overlay node this module belongs to">nodeEntry</a> = entry;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a89d34d0cb75d93f06977a62e91833e07"></a><!-- doxytag: member="SimpleTCP::sad" ref="a89d34d0cb75d93f06977a62e91833e07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structStatisticsAndDelay.html">StatisticsAndDelay</a> <a class="el" href="classSimpleTCP.html#a89d34d0cb75d93f06977a62e91833e07">SimpleTCP::sad</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SimpleTCP_8h_source.html#l00106">106</a> of file <a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a>.</p>

<p>Referenced by <a class="el" href="SimpleTCP_8cc_source.html#l00131">finish()</a>, <a class="el" href="SimpleTCP_8cc_source.html#l00080">initialize()</a>, <a class="el" href="SimpleTCP_8cc_source.html#l00230">setNodeEntry()</a>, and <a class="el" href="SimpleTCP_8h_source.html#l00101">SimpleTCP()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SimpleTCP_8h_source.html">SimpleTCP.h</a></li>
<li><a class="el" href="SimpleTCP_8cc_source.html">SimpleTCP.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classSimpleTCP.html">SimpleTCP</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:07:02 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
