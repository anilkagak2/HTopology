<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: BasePastry Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classBasePastry.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">BasePastry Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="BasePastry" --><!-- doxytag: inherits="BaseOverlay,ProxListener" -->
<p><code>#include &lt;<a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BasePastry:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBasePastry.png" usemap="#BasePastry_map" alt=""/>
  <map id="BasePastry_map" name="BasePastry_map">
<area href="classBaseOverlay.html" title="Base class for overlays." alt="BaseOverlay" shape="rect" coords="115,112,220,136"/>
<area href="classProxListener.html" alt="ProxListener" shape="rect" coords="230,112,335,136"/>
<area href="classBaseRpc.html" title="Base class for RPCs." alt="BaseRpc" shape="rect" coords="0,56,105,80"/>
<area href="classBaseTcpSupport.html" alt="BaseTcpSupport" shape="rect" coords="115,56,220,80"/>
<area href="classTopologyVis.html" alt="TopologyVis" shape="rect" coords="230,56,335,80"/>
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="0,0,105,24"/>
<area href="classBamboo.html" title="Bamboo overlay module." alt="Bamboo" shape="rect" coords="115,224,220,248"/>
<area href="classPastry.html" title="Pastry overlay module." alt="Pastry" shape="rect" coords="230,224,335,248"/>
</map>
 </div></div>

<p><a href="classBasePastry-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBasePastry_1_1PingContext.html">PingContext</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a390bb86e0a5ef6f920fdba1f045f9202">~BasePastry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a23fca1965b3c6240fdcfb19bbf8e5a02">getMaxNumSiblings</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the maximum number of siblings (nodes close to a key) that are maintained by this overlay protocol.  <a href="#a23fca1965b3c6240fdcfb19bbf8e5a02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#acad786a6138720f76e80ceb9a93d0e12">getMaxNumRedundantNodes</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the maximum number of redundant next hop nodes that are returned by <a class="el" href="classBasePastry.html#a3f8ba63e19c092f9ecf4d5ecb1817061" title="Implements the find node call.">findNode()</a>.  <a href="#acad786a6138720f76e80ceb9a93d0e12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a20890c824e8987e936a3997c3121aa23">handleAppMessage</a> (<a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">processes messages from application  <a href="#a20890c824e8987e936a3997c3121aa23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#abc8da91d0187799f60bddb3ddab3e2f6">updateTooltip</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">updates information shown in tk-environment  <a href="#abc8da91d0187799f60bddb3ddab3e2f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a3f8ba63e19c092f9ecf4d5ecb1817061">findNode</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key, int numRedundantNodes, int numSiblings, <a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the find node call.  <a href="#a3f8ba63e19c092f9ecf4d5ecb1817061"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a1172a453b44856e2fdd7a027f0d03833">handleStateMessage</a> (<a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *msg)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">processes state messages, merging with own state tables  <a href="#a1172a453b44856e2fdd7a027f0d03833"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa38739065522ad67152dd4ff604ef759">finishOverlay</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">collects statistical data in derived class  <a href="#aa38739065522ad67152dd4ff604ef759"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa8d7ea4daf5bb613fefc62a4da602f2b">isSiblingFor</a> (const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;node, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key, int numSiblings, bool *err)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query if a node is among the siblings for a given key.  <a href="#aa8d7ea4daf5bb613fefc62a4da602f2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classAbstractLookup.html">AbstractLookup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#abcdf9ac9a9cc75300ba325bb8f163d19">createLookup</a> (<a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType=DEFAULT_ROUTING, const <a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg=NULL, const cPacket *dummy=NULL, bool appLookup=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an abstract iterative lookup instance.  <a href="#abcdf9ac9a9cc75300ba325bb8f163d19"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a64142ec5a4c2536f6633c1a05dd30726">getBitsPerDigit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a62226300729854b429ae5d58c8d62ceb">proxCallback</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;node, int rpcId, cPolymorphic *contextPointer, <a class="el" href="structProx.html">Prox</a> prox)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classOverlayKey.html">OverlayKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#adc106b05b0a841dcef8099d16714a219">estimateMeanDistance</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns mean distance between OverlayKeys in the network  <a href="#adc106b05b0a841dcef8099d16714a219"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a4dd9ab209482d17819937d1b04e57bf2">getRTLastRow</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa2f33e6768d37e3a8ac1de5abe083ccd">getRTRow</a> (uint8_t index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aea89d552071956612ccf525569b52c8d">getLeafSet</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">joins</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a805e366ae01f6857dcb0e4a78c7e79d6">joinPartial</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#abfe72c7d75708d9e152375ecb708ce24">joinSeen</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a8fb058e1e4991c923faf29ae72832c05">joinBytesSeen</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a3d1f5f390900492fb714e0f420ded63a">joinReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ab2be7f6fc3c97b1d93f43f083cff6f6a">joinBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ae75ddd4630ea3004166c0283436af0e9">joinSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a8bf579a017df30ccb1cf458a78a78f79">joinBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aadec419a4c2560717f1db3e36866b837">stateSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a43218c86ea28a36b14f76b54b2ccea07">stateBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a26fa765c1f23635923477bc300637c4f">stateReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a8783f5db146cf00be3a347e92c36505e">stateBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a5f05d5cba3283f9b1dd421b036959aff">repairReqSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a9f02a29e59ff2af5c7af5b3a764e711a">repairReqBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a7dcde1eb4abe361da782106038325c04">repairReqReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aee11180f103683fc2a55d4c8958078d0">repairReqBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#addc36312daa0ac4c85e4e8d77ee17ae5">stateReqSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a79163b2c9ee6767a5844c10b3a273af2">stateReqBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a727d8089dc7486f5f835ec427554c9b2">stateReqReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#adca8e0ca12a6dbbaee7dc5884845ddce">stateReqBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a9fc77f87e2df109185d47c249886f176">totalLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ac765a923e7799daa443a1f4e1133bd01">responsibleLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a42d36fb42f20de058871d74b8acd7b4c">routingTableLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a7f32c7f9ffc03f346052ac50321d1858">closerNodeLookups</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a26cf01f1f60f7c76ec071d551d2bc77e">leafsetReqSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ab200043644da860d9d8c260fb6735053">leafsetReqBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a65d0531f806241a4f400613b1dd67384">leafsetReqReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa22c5ed0a7bbaf3b2b3ffd2276496251">leafsetReqBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a4c18e956472b6109d8b7f6951af550b5">leafsetSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a4ac5815eec47ea1ec62a25e19dbaf806">leafsetBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a966f88cf985632e3e28ff482c5e5d0a2">leafsetReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a9bdc81ede316e30996bbee5c73f6b472">leafsetBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a1a1785687d9560edfe30d6b4f8d5c31f">routingTableRowReqSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a836e8dcea673d81c8e2a68500becd084">routingTableRowReqBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a8056c04c21aae9fa4a4041edbdb19001">routingTableRowReqReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a2fbc52bcec92ed5021c9ae14cecafafc">routingTableRowReqBytesReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a5f02096e0a73b1f56dcdf8930b5404a8">routingTableRowSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a839babe908f65ab34cbf4ee20c336c9a">routingTableRowBytesSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ad18d4e40c560e1b08c2c6c0742f68767">routingTableRowReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a7a3df3dfb8b7c88b1c8f9c932b07d5a2">routingTableRowBytesReceived</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7">StateObject</a> { <a class="el" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7ade24a23c0404dd3ba4e22feb64fbdf3b">ROUTINGTABLE</a>, 
<a class="el" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a9d6e5a7d1d4f7208eb485c882b3bcaed">LEAFSET</a>, 
<a class="el" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a544fe8f97d7d893510ac4c658ec4faba">NEIGHBORHOODSET</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a55b9f4bfbf94d107e8228d1ea9ec95b4">PING_RECEIVED_STATE</a> =  1, 
<a class="el" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a42c2a11b38eda6c512669012e9bbb88f">PING_NEXT_HOP</a> =  2, 
<a class="el" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8aaab166e746fb925df8707610d92af824">PING_SINGLE_NODE</a> =  3, 
<a class="el" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a6232e475e9da2c6b20ef4cacd1246601">PING_DISCOVERY</a> =  4
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ab9eeefa3a6a0dc3d56860a7d45bc585c">changeState</a> (int toState)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">changes node state  <a href="#ab9eeefa3a6a0dc3d56860a7d45bc585c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a64c0f2b97d1dd7b07c30f70b5ddc1496">handleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes Remote-Procedure-Call invocation messages.  <a href="#a64c0f2b97d1dd7b07c30f70b5ddc1496"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a6bdf07238d36dc4fc8298e57632d78e5">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC response has been received.  <a href="#a6bdf07238d36dc4fc8298e57632d78e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a7d0fb0a879ca2c4f7b3cdd1444066ab5">handleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *call, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC timeout has been reached.  <a href="#a7d0fb0a879ca2c4f7b3cdd1444066ab5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a507ef17a6bd92abbc59bdf1e14a0354a">handleRequestLeafSetCall</a> (<a class="el" href="classRequestLeafSetCall.html">RequestLeafSetCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa252f42630bb2ce99e87513d1e1e6f23">handleRequestRoutingRowCall</a> (<a class="el" href="classRequestRoutingRowCall.html">RequestRoutingRowCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ae745710e7bd27898ded7fe73987ef676">handleRequestLeafSetResponse</a> (<a class="el" href="classRequestLeafSetResponse.html">RequestLeafSetResponse</a> *response)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aced0a16861b41d5dcd623fe49b0ccefa">handleRequestRoutingRowResponse</a> (<a class="el" href="classRequestRoutingRowResponse.html">RequestRoutingRowResponse</a> *response)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa5351a4ba129681864f7b6e3d77e2962">createStateMessage</a> (enum <a class="el" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7">PastryStateMsgType</a> type=PASTRY_STATE_STD, simtime_t timestamp=-1, int16_t row=-1, bool lastHop=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a1062cac20a1fd1c5368157fe2da8b8fb">checkProxCache</a> (void)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">checks whether proxCache is complete, takes appropriate actions depending on the protocol state  <a href="#a1062cac20a1fd1c5368157fe2da8b8fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a72cdd5dde4fe7886068ebc35b4d96cea">purgeVectors</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">delete all information/messages caching vectors, used for restarting overlay or <a class="el" href="classBaseOverlay.html#aed7e3f36b2c70cbdb0e6daa32925917c" title="collects statistical data">finish()</a>  <a href="#a72cdd5dde4fe7886068ebc35b4d96cea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a0bc39902de2d03ea45714bf8506d983f">baseInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes parameters and variables used in both <a class="el" href="classBamboo.html" title="Bamboo overlay module.">Bamboo</a> and <a class="el" href="classPastry.html" title="Pastry overlay module.">Pastry</a>  <a href="#a0bc39902de2d03ea45714bf8506d983f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a1f99c5e7da561015851b206abb4d0f59">baseChangeState</a> (int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">changes node state, but leaves specific behavour, scheduling tasks in particular, to the inheriting protocols  <a href="#a1f99c5e7da561015851b206abb4d0f59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOverlayKey.html">OverlayKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a5508a66ddde5207ac255edfe042b69a5">distance</a> (const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;x, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;y, bool useAlternative=false) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method should implement the distance between two keys.  <a href="#a5508a66ddde5207ac255edfe042b69a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a49e37d403457478acc0d352904bf104d">iterativeJoinHook</a> (<a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *msg, bool incrHopCount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#af6a7090deb645b1f79b33edb0409485c">prePing</a> (const <a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *stateMsg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ping all nodes in a given state message.  <a href="#af6a7090deb645b1f79b33edb0409485c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a445a74a2791f810975bf99b4ff7d9865">pingNodes</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ping all nodes in the pastry state message pointed to by private member stateCache  <a href="#a445a74a2791f810975bf99b4ff7d9865"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a89aba6ca97abfbe6baff748a19969d1e">determineAliveTable</a> (const <a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *stateMsg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">change the aliveTable to match the given stateMsg.  <a href="#a89aba6ca97abfbe6baff748a19969d1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a71aa8137f8e2eaf0977a437d7d852189">newLeafs</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classPastry.html" title="Pastry overlay module.">Pastry</a> API: send <a class="el" href="classBasePastry.html#a71aa8137f8e2eaf0977a437d7d852189" title="Pastry API: send newLeafs() to application if enabled.">newLeafs()</a> to application if enabled.  <a href="#a71aa8137f8e2eaf0977a437d7d852189"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">bitsPerDigit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ace44a714008e5a5c1f373b7068396721">numberOfNeighbors</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a98b0c284102cd5f1fc78558937b9b19f">readyWaitAmount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a596fc6a02d7b78a6bf804d08cbf73844">joinTimeoutAmount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#aa6d47b84748ac654eb8777abea92c984">repairTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#ab8f4cd001646782d88dca94134ef0b20">enableNewLeafs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a893a9f746f708dc4c66b5195e04a2f56">useRegularNextHop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a26f8166e84753ec35921c7cff3ff10d9">alwaysSendUpdate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a12816a6716823ebb8d4bcfe4d4667051">optimizeLookup</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#af6e8cefc3c62e666203cfedea1532f04">proximityNeighborSelection</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a715b166d2b3b397e047908f52f354be7">nearNodeRtt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a4ac33dcce9d9a383a740d1227cff76aa">nearNodeImproved</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a3bc59be1790c50873fb64c0e20bd047a">periodicMaintenance</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTransportAddress.html">TransportAddress</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a5216e2031a761a9aeaae0d330b00b741">leaf2ask</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTransportAddress.html">TransportAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#af534020c5663e436cf28aa83a4a790c9">bootstrapNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTransportAddress.html">TransportAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#af28427241a54155e6f9bf8539286ec9a">nearNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a6c7b5c6e2d71db0c8233b80764e63dc6">lastStateChange</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPastryStateMsgHandle.html">PastryStateMsgHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65">stateCache</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle for processing a single state message.  <a href="#a70d78d4ebef74ab2367fed00f77b2d65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="structPastryStateMsgHandle.html">PastryStateMsgHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70">stateCacheQueue</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of state messages waiting to be processed in READY state.  <a href="#a763ec48a49b047252ea3d758b335df70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPastryStateMsgProximity.html">PastryStateMsgProximity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8">aliveTable</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Early update of leaf set: helper structure for marking known-dead nodes.  <a href="#a22e76d53e4ba89d63eca403923a46da8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a1a96c4a089fd9c1b21d7eb9c34d93580">joinHopCount</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a87b449a72607334387c2aa3a5d7673b2">readyWait</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a9375a2c0cdee0493f0ea7b4983825934">joinUpdateWait</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPastryRoutingTable.html">PastryRoutingTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPastryLeafSet.html">PastryLeafSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPastryNeighborhoodSet.html">PastryNeighborhoodSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasePastry.html#a4bdc4f15ad57b31d9045a408f5e40478">PastryLeafSet</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00049">49</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a26eda810c876c5062a849e9e0fb7e2b8"></a><!-- doxytag: member="BasePastry::@0" ref="a26eda810c876c5062a849e9e0fb7e2b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a26eda810c876c5062a849e9e0fb7e2b8a55b9f4bfbf94d107e8228d1ea9ec95b4"></a><!-- doxytag: member="PING_RECEIVED_STATE" ref="a26eda810c876c5062a849e9e0fb7e2b8a55b9f4bfbf94d107e8228d1ea9ec95b4" args="" -->PING_RECEIVED_STATE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a26eda810c876c5062a849e9e0fb7e2b8a42c2a11b38eda6c512669012e9bbb88f"></a><!-- doxytag: member="PING_NEXT_HOP" ref="a26eda810c876c5062a849e9e0fb7e2b8a42c2a11b38eda6c512669012e9bbb88f" args="" -->PING_NEXT_HOP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a26eda810c876c5062a849e9e0fb7e2b8aaab166e746fb925df8707610d92af824"></a><!-- doxytag: member="PING_SINGLE_NODE" ref="a26eda810c876c5062a849e9e0fb7e2b8aaab166e746fb925df8707610d92af824" args="" -->PING_SINGLE_NODE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a26eda810c876c5062a849e9e0fb7e2b8a6232e475e9da2c6b20ef4cacd1246601"></a><!-- doxytag: member="PING_DISCOVERY" ref="a26eda810c876c5062a849e9e0fb7e2b8a6232e475e9da2c6b20ef4cacd1246601" args="" -->PING_DISCOVERY</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00285">285</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a55b9f4bfbf94d107e8228d1ea9ec95b4">PING_RECEIVED_STATE</a> = 1,
        <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a42c2a11b38eda6c512669012e9bbb88f">PING_NEXT_HOP</a>       = 2,
        <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8aaab166e746fb925df8707610d92af824">PING_SINGLE_NODE</a>    = 3,
        <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a6232e475e9da2c6b20ef4cacd1246601">PING_DISCOVERY</a>      = 4
    };
</pre></div>
</div>
</div>
<a class="anchor" id="a310811835376494807a09cd0a8d52eb7"></a><!-- doxytag: member="BasePastry::StateObject" ref="a310811835376494807a09cd0a8d52eb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7">BasePastry::StateObject</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a310811835376494807a09cd0a8d52eb7ade24a23c0404dd3ba4e22feb64fbdf3b"></a><!-- doxytag: member="ROUTINGTABLE" ref="a310811835376494807a09cd0a8d52eb7ade24a23c0404dd3ba4e22feb64fbdf3b" args="" -->ROUTINGTABLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a310811835376494807a09cd0a8d52eb7a9d6e5a7d1d4f7208eb485c882b3bcaed"></a><!-- doxytag: member="LEAFSET" ref="a310811835376494807a09cd0a8d52eb7a9d6e5a7d1d4f7208eb485c882b3bcaed" args="" -->LEAFSET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a310811835376494807a09cd0a8d52eb7a544fe8f97d7d893510ac4c658ec4faba"></a><!-- doxytag: member="NEIGHBORHOODSET" ref="a310811835376494807a09cd0a8d52eb7a544fe8f97d7d893510ac4c658ec4faba" args="" -->NEIGHBORHOODSET</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00267">267</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7ade24a23c0404dd3ba4e22feb64fbdf3b">ROUTINGTABLE</a>,
        <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a9d6e5a7d1d4f7208eb485c882b3bcaed">LEAFSET</a>,
        <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a544fe8f97d7d893510ac4c658ec4faba">NEIGHBORHOODSET</a>
    };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a390bb86e0a5ef6f920fdba1f045f9202"></a><!-- doxytag: member="BasePastry::~BasePastry" ref="a390bb86e0a5ef6f920fdba1f045f9202" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BasePastry::~BasePastry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00808">808</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBasePastry.html#a72cdd5dde4fe7886068ebc35b4d96cea" title="delete all information/messages caching vectors, used for restarting overlay or finish()">purgeVectors</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1f99c5e7da561015851b206abb4d0f59"></a><!-- doxytag: member="BasePastry::baseChangeState" ref="a1f99c5e7da561015851b206abb4d0f59" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::baseChangeState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>toState</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>changes node state, but leaves specific behavour, scheduling tasks in particular, to the inheriting protocols </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00187">187</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, and <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">switch</span> (toState) {
    <span class="keywordflow">case</span> <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa4c1b397f6c4682baf7db280e7f15520a">INIT</a>:
        <a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> = <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa4c1b397f6c4682baf7db280e7f15520a">INIT</a>;

        <span class="keywordflow">if</span> (!<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())
            <a class="code" href="classBaseOverlay.html#abe4dea93564123116c97d5c4721f0504" title="pointer to the BootstrapList module">bootstrapList</a>-&gt;<a class="code" href="classBootstrapList.html#a918cbbc5c592fb9069abba47a50af7c0">removeBootstrapNode</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);

        <a class="code" href="classBaseRpc.html#a77fe0a21bb12ab2fb8e27eb719b2d2fe" title="Cancels all RPCs.">cancelAllRpcs</a>();
        <a class="code" href="classBasePastry.html#a72cdd5dde4fe7886068ebc35b4d96cea" title="delete all information/messages caching vectors, used for restarting overlay or finish()">purgeVectors</a>();

        <a class="code" href="classBasePastry.html#af534020c5663e436cf28aa83a4a790c9">bootstrapNode</a> = <a class="code" href="classBaseOverlay.html#abe4dea93564123116c97d5c4721f0504" title="pointer to the BootstrapList module">bootstrapList</a>-&gt;<a class="code" href="classBootstrapList.html#ac351433be1d43bbf8cbb871e9f9e1f69" title="Get a bootstrap node from the bootstrap list.">getBootstrapNode</a>();

        <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a3a4907994a66da808a72d17a77c93ee2" title="Initializes the routing table.">initializeTable</a>(<a class="code" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">bitsPerDigit</a>, <a class="code" href="classBasePastry.html#aa6d47b84748ac654eb8777abea92c984">repairTimeout</a>, <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
        <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#aa2c78d769e86e656409342e553c9af0a" title="Initializes the leaf set.">initializeSet</a>(<a class="code" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a>, <a class="code" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">bitsPerDigit</a>,
                               <a class="code" href="classBasePastry.html#aa6d47b84748ac654eb8777abea92c984">repairTimeout</a>, <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>, <span class="keyword">this</span>);
        <a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a>-&gt;<a class="code" href="classPastryNeighborhoodSet.html#a12f548fd0c008660a2b05457b286dc13" title="Initializes the neighborhood set.">initializeSet</a>(<a class="code" href="classBasePastry.html#ace44a714008e5a5c1f373b7068396721">numberOfNeighbors</a>, <a class="code" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">bitsPerDigit</a>,
                                       <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);

        <a class="code" href="classBasePastry.html#abc8da91d0187799f60bddb3ddab3e2f6" title="updates information shown in tk-environment">updateTooltip</a>();
        <a class="code" href="classBasePastry.html#a6c7b5c6e2d71db0c8233b80764e63dc6">lastStateChange</a> = simTime();

        getParentModule()-&gt;getParentModule()-&gt;bubble(<span class="stringliteral">&quot;entering INIT state&quot;</span>);

        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>:
        <a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> = <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>;

        <span class="comment">// bootstrapNode must be obtained before calling this method,</span>
        <span class="comment">// for example by calling changeState(INIT)</span>

        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#af534020c5663e436cf28aa83a4a790c9">bootstrapNode</a>.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>()) {
            <span class="comment">// no existing pastry network -&gt; first node of a new one</span>
            <a class="code" href="classBasePastry.html#ab9eeefa3a6a0dc3d56860a7d45bc585c" title="changes node state">changeState</a>(<a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>);
            <span class="keywordflow">return</span>;
        }

        <a class="code" href="classBasePastry.html#abc8da91d0187799f60bddb3ddab3e2f6" title="updates information shown in tk-environment">updateTooltip</a>();
        getParentModule()-&gt;getParentModule()-&gt;bubble(<span class="stringliteral">&quot;entering JOIN state&quot;</span>);

        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a>++);

        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>:
        assert(<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> != <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>);
        <a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> = <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>;

        <span class="comment">// if we are the first node in the network,</span>
        <span class="comment">// there&#39;s nothing else to do</span>
        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#af534020c5663e436cf28aa83a4a790c9">bootstrapNode</a>.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>()) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a>++; <a class="code" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">joins</a>++);
            <a class="code" href="classBaseOverlay.html#a9da615809e832cbc4645cc732d510277" title="Sets the overlay ready icon and register/deregisters the node at the GlobalNodeList.">setOverlayReady</a>(<span class="keyword">true</span>);
            <span class="keywordflow">return</span>;
        }

        getParentModule()-&gt;getParentModule()-&gt;bubble(<span class="stringliteral">&quot;entering READY state&quot;</span>);
        <a class="code" href="classBasePastry.html#abc8da91d0187799f60bddb3ddab3e2f6" title="updates information shown in tk-environment">updateTooltip</a>();
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">joins</a>++);

        <span class="keywordflow">break</span>;

    <span class="keywordflow">default</span>: <span class="comment">// discovery</span>
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="classBaseOverlay.html#a9da615809e832cbc4645cc732d510277" title="Sets the overlay ready icon and register/deregisters the node at the GlobalNodeList.">setOverlayReady</a>(<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0bc39902de2d03ea45714bf8506d983f"></a><!-- doxytag: member="BasePastry::baseInit" ref="a0bc39902de2d03ea45714bf8506d983f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::baseInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initializes parameters and variables used in both <a class="el" href="classBamboo.html" title="Bamboo overlay module.">Bamboo</a> and <a class="el" href="classPastry.html" title="Pastry overlay module.">Pastry</a> </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00057">57</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00091">Pastry::initializeOverlay()</a>, and <a class="el" href="Bamboo_8cc_source.html#l00050">Bamboo::initializeOverlay()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">bitsPerDigit</a> = par(<span class="stringliteral">&quot;bitsPerDigit&quot;</span>);
    <a class="code" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a> = par(<span class="stringliteral">&quot;numberOfLeaves&quot;</span>);
    <a class="code" href="classBasePastry.html#ace44a714008e5a5c1f373b7068396721">numberOfNeighbors</a> = par(<span class="stringliteral">&quot;numberOfNeighbors&quot;</span>);
    <a class="code" href="classBasePastry.html#a596fc6a02d7b78a6bf804d08cbf73844">joinTimeoutAmount</a> = par(<span class="stringliteral">&quot;joinTimeout&quot;</span>);
    <a class="code" href="classBasePastry.html#aa6d47b84748ac654eb8777abea92c984">repairTimeout</a> = par(<span class="stringliteral">&quot;repairTimeout&quot;</span>);
    <a class="code" href="classBasePastry.html#ab8f4cd001646782d88dca94134ef0b20">enableNewLeafs</a> = par(<span class="stringliteral">&quot;enableNewLeafs&quot;</span>);
    <a class="code" href="classBasePastry.html#a12816a6716823ebb8d4bcfe4d4667051">optimizeLookup</a> = par(<span class="stringliteral">&quot;optimizeLookup&quot;</span>);
    <a class="code" href="classBasePastry.html#a893a9f746f708dc4c66b5195e04a2f56">useRegularNextHop</a> = par(<span class="stringliteral">&quot;useRegularNextHop&quot;</span>);
    <a class="code" href="classBasePastry.html#a26f8166e84753ec35921c7cff3ff10d9">alwaysSendUpdate</a> = par(<span class="stringliteral">&quot;alwaysSendUpdate&quot;</span>);
    <a class="code" href="classBasePastry.html#af6e8cefc3c62e666203cfedea1532f04">proximityNeighborSelection</a> = par(<span class="stringliteral">&quot;proximityNeighborSelection&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a2ce120e786b37cb5823d53f31ae82ff3">isEnabled</a>()) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;NeighborCache is disabled, which is mandatory &quot;</span>
                                <span class="stringliteral">&quot;for Pastry/Bamboo. Activate it by setting &quot;</span>
                                <span class="stringliteral">&quot;\&quot;**.neighborCache.enableNeighborCache &quot;</span>
                                <span class="stringliteral">&quot;= true\&quot; in your omnetpp.ini!&quot;</span>);
    }

    <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a> % 2) {
        EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::baseInit() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Warning: numberOfLeaves must be even - adding 1.&quot;</span>
           &lt;&lt; endl;
        <a class="code" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a>++;
    }

    <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a> = check_and_cast&lt;<a class="code" href="classPastryRoutingTable.html" title="Routing table module.">PastryRoutingTable</a>*&gt;
        (getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pastryRoutingTable&quot;</span>));
    <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a> = check_and_cast&lt;<a class="code" href="classPastryLeafSet.html" title="PastryLeafSet module.">PastryLeafSet</a>*&gt;
        (getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pastryLeafSet&quot;</span>));
    <a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a> = check_and_cast&lt;<a class="code" href="classPastryNeighborhoodSet.html" title="PastryNeighborhoodSet module.">PastryNeighborhoodSet</a>*&gt;
        (getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;pastryNeighborhoodSet&quot;</span>));

    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a> = NULL;
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a> = NULL;

    <span class="comment">// initialize statistics</span>
    <a class="code" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">joins</a> = 0;
    <a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a> = 0;
    <a class="code" href="classBasePastry.html#a805e366ae01f6857dcb0e4a78c7e79d6">joinPartial</a> = 0;
    <a class="code" href="classBasePastry.html#abfe72c7d75708d9e152375ecb708ce24">joinSeen</a> = 0;
    <a class="code" href="classBasePastry.html#a3d1f5f390900492fb714e0f420ded63a">joinReceived</a> = 0;
    <a class="code" href="classBasePastry.html#ae75ddd4630ea3004166c0283436af0e9">joinSent</a> = 0;
    <a class="code" href="classBasePastry.html#aadec419a4c2560717f1db3e36866b837">stateSent</a> = 0;
    <a class="code" href="classBasePastry.html#a26fa765c1f23635923477bc300637c4f">stateReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a5f05d5cba3283f9b1dd421b036959aff">repairReqSent</a> = 0;
    <a class="code" href="classBasePastry.html#a7dcde1eb4abe361da782106038325c04">repairReqReceived</a> = 0;
    <a class="code" href="classBasePastry.html#addc36312daa0ac4c85e4e8d77ee17ae5">stateReqSent</a> = 0;
    <a class="code" href="classBasePastry.html#a727d8089dc7486f5f835ec427554c9b2">stateReqReceived</a> = 0;

    <a class="code" href="classBasePastry.html#a8fb058e1e4991c923faf29ae72832c05">joinBytesSeen</a> = 0;
    <a class="code" href="classBasePastry.html#ab2be7f6fc3c97b1d93f43f083cff6f6a">joinBytesReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a8bf579a017df30ccb1cf458a78a78f79">joinBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#a43218c86ea28a36b14f76b54b2ccea07">stateBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#a8783f5db146cf00be3a347e92c36505e">stateBytesReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a9f02a29e59ff2af5c7af5b3a764e711a">repairReqBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#aee11180f103683fc2a55d4c8958078d0">repairReqBytesReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a79163b2c9ee6767a5844c10b3a273af2">stateReqBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#adca8e0ca12a6dbbaee7dc5884845ddce">stateReqBytesReceived</a> = 0;

    <a class="code" href="classBasePastry.html#a9fc77f87e2df109185d47c249886f176">totalLookups</a> = 0;
    <a class="code" href="classBasePastry.html#ac765a923e7799daa443a1f4e1133bd01">responsibleLookups</a> = 0;
    <a class="code" href="classBasePastry.html#a42d36fb42f20de058871d74b8acd7b4c">routingTableLookups</a> = 0;
    <a class="code" href="classBasePastry.html#a7f32c7f9ffc03f346052ac50321d1858">closerNodeLookups</a> = 0;
    <a class="code" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a> = 0;

    <a class="code" href="classBasePastry.html#a26cf01f1f60f7c76ec071d551d2bc77e">leafsetReqSent</a> = 0;
    <a class="code" href="classBasePastry.html#ab200043644da860d9d8c260fb6735053">leafsetReqBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#a65d0531f806241a4f400613b1dd67384">leafsetReqReceived</a> = 0;
    <a class="code" href="classBasePastry.html#aa22c5ed0a7bbaf3b2b3ffd2276496251">leafsetReqBytesReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a4c18e956472b6109d8b7f6951af550b5">leafsetSent</a> = 0;
    <a class="code" href="classBasePastry.html#a4ac5815eec47ea1ec62a25e19dbaf806">leafsetBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#a966f88cf985632e3e28ff482c5e5d0a2">leafsetReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a9bdc81ede316e30996bbee5c73f6b472">leafsetBytesReceived</a> = 0;

    <a class="code" href="classBasePastry.html#a1a1785687d9560edfe30d6b4f8d5c31f">routingTableRowReqSent</a> = 0;
    <a class="code" href="classBasePastry.html#a836e8dcea673d81c8e2a68500becd084">routingTableRowReqBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#a8056c04c21aae9fa4a4041edbdb19001">routingTableRowReqReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a2fbc52bcec92ed5021c9ae14cecafafc">routingTableRowReqBytesReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a5f02096e0a73b1f56dcdf8930b5404a8">routingTableRowSent</a> = 0;
    <a class="code" href="classBasePastry.html#a839babe908f65ab34cbf4ee20c336c9a">routingTableRowBytesSent</a> = 0;
    <a class="code" href="classBasePastry.html#ad18d4e40c560e1b08c2c6c0742f68767">routingTableRowReceived</a> = 0;
    <a class="code" href="classBasePastry.html#a7a3df3dfb8b7c88b1c8f9c932b07d5a2">routingTableRowBytesReceived</a> = 0;

    WATCH(<a class="code" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">joins</a>);
    WATCH(<a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a>);
    WATCH(<a class="code" href="classBasePastry.html#abfe72c7d75708d9e152375ecb708ce24">joinSeen</a>);
    WATCH(<a class="code" href="classBasePastry.html#a8fb058e1e4991c923faf29ae72832c05">joinBytesSeen</a>);
    WATCH(<a class="code" href="classBasePastry.html#a3d1f5f390900492fb714e0f420ded63a">joinReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#ab2be7f6fc3c97b1d93f43f083cff6f6a">joinBytesReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#ae75ddd4630ea3004166c0283436af0e9">joinSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a8bf579a017df30ccb1cf458a78a78f79">joinBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#aadec419a4c2560717f1db3e36866b837">stateSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a43218c86ea28a36b14f76b54b2ccea07">stateBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a26fa765c1f23635923477bc300637c4f">stateReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a8783f5db146cf00be3a347e92c36505e">stateBytesReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a5f05d5cba3283f9b1dd421b036959aff">repairReqSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a9f02a29e59ff2af5c7af5b3a764e711a">repairReqBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a7dcde1eb4abe361da782106038325c04">repairReqReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#aee11180f103683fc2a55d4c8958078d0">repairReqBytesReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#addc36312daa0ac4c85e4e8d77ee17ae5">stateReqSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a79163b2c9ee6767a5844c10b3a273af2">stateReqBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a727d8089dc7486f5f835ec427554c9b2">stateReqReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#adca8e0ca12a6dbbaee7dc5884845ddce">stateReqBytesReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a6c7b5c6e2d71db0c8233b80764e63dc6">lastStateChange</a>);

    WATCH(<a class="code" href="classBasePastry.html#a26cf01f1f60f7c76ec071d551d2bc77e">leafsetReqSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#ab200043644da860d9d8c260fb6735053">leafsetReqBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a65d0531f806241a4f400613b1dd67384">leafsetReqReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#aa22c5ed0a7bbaf3b2b3ffd2276496251">leafsetReqBytesReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a4c18e956472b6109d8b7f6951af550b5">leafsetSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a4ac5815eec47ea1ec62a25e19dbaf806">leafsetBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a966f88cf985632e3e28ff482c5e5d0a2">leafsetReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a9bdc81ede316e30996bbee5c73f6b472">leafsetBytesReceived</a>);

    WATCH(<a class="code" href="classBasePastry.html#a1a1785687d9560edfe30d6b4f8d5c31f">routingTableRowReqSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a836e8dcea673d81c8e2a68500becd084">routingTableRowReqBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a8056c04c21aae9fa4a4041edbdb19001">routingTableRowReqReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a2fbc52bcec92ed5021c9ae14cecafafc">routingTableRowReqBytesReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a5f02096e0a73b1f56dcdf8930b5404a8">routingTableRowSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#a839babe908f65ab34cbf4ee20c336c9a">routingTableRowBytesSent</a>);
    WATCH(<a class="code" href="classBasePastry.html#ad18d4e40c560e1b08c2c6c0742f68767">routingTableRowReceived</a>);
    WATCH(<a class="code" href="classBasePastry.html#a7a3df3dfb8b7c88b1c8f9c932b07d5a2">routingTableRowBytesReceived</a>);

    WATCH_PTR(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab9eeefa3a6a0dc3d56860a7d45bc585c"></a><!-- doxytag: member="BasePastry::changeState" ref="ab9eeefa3a6a0dc3d56860a7d45bc585c" args="(int toState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BasePastry::changeState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>toState</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>changes node state </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">toState</td><td>state to change to </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classPastry.html#a2b363b914b911dcbc411da940efec08f">Pastry</a>, and <a class="el" href="classBamboo.html#ae987647d2b516c6bcaa1c93257b6be3f">Bamboo</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00162">162</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>.</p>
<div class="fragment"><pre class="fragment">{ };
</pre></div>
</div>
</div>
<a class="anchor" id="a1062cac20a1fd1c5368157fe2da8b8fb"></a><!-- doxytag: member="BasePastry::checkProxCache" ref="a1062cac20a1fd1c5368157fe2da8b8fb" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BasePastry::checkProxCache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>checks whether proxCache is complete, takes appropriate actions depending on the protocol state </p>

<p>Implemented in <a class="el" href="classPastry.html#a851bb0830162f5db79ef515f32c78465">Pastry</a>, and <a class="el" href="classBamboo.html#a4efad1712615507ca730b86006513d9e">Bamboo</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00369">pingNodes()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00273">proxCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="abcdf9ac9a9cc75300ba325bb8f163d19"></a><!-- doxytag: member="BasePastry::createLookup" ref="abcdf9ac9a9cc75300ba325bb8f163d19" args="(RoutingType routingType=DEFAULT_ROUTING, const BaseOverlayMessage *msg=NULL, const cPacket *dummy=NULL, bool appLookup=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractLookup.html">AbstractLookup</a> * BasePastry::createLookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em> = <code>DEFAULT_ROUTING</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cPacket *&#160;</td>
          <td class="paramname"><em>findNodeExt</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>appLookup</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an abstract iterative lookup instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">routingType</td><td>The routing type for this lookup (e.g. recursive/iterative) </td></tr>
    <tr><td class="paramname">msg</td><td>pointer to the message for which the lookup is created. Derived classes can use it to construct an object with additional info for the lookup class. </td></tr>
    <tr><td class="paramname">findNodeExt</td><td>object that will be sent with the findNodeCalls </td></tr>
    <tr><td class="paramname">appLookup</td><td>Set to true, if lookup is triggered by application (for statistics) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>AbstractLookup* The new lookup instance. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a205a7d44401fb3d77b146e23b2904b6f">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l01020">1020</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Bamboo_8cc_source.html#l00275">Bamboo::doGlobalTuning()</a>.</p>
<div class="fragment"><pre class="fragment">{
    assert(dummy == NULL);

    <a class="code" href="classPastryFindNodeExtData.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">PastryFindNodeExtData</a>* findNodeExt =
        <span class="keyword">new</span> <a class="code" href="classPastryFindNodeExtData.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">PastryFindNodeExtData</a>(<span class="stringliteral">&quot;findNodeExt&quot;</span>);

    <span class="keywordflow">if</span> (msg &amp;&amp;
        dynamic_cast&lt;const PastryJoinCall*&gt;(msg-&gt;getEncapsulatedPacket())) {
        <span class="keyword">const</span> <a class="code" href="classPastryJoinCall.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">PastryJoinCall</a>* joinCall =
            <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classPastryJoinCall.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">PastryJoinCall</a>*<span class="keyword">&gt;</span>(msg-&gt;getEncapsulatedPacket());
        assert(!joinCall-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>());
        findNodeExt-&gt;<a class="code" href="classPastryFindNodeExtData.html#a5b256a3224530b8ac57944cb56001b22">setSendStateTo</a>(joinCall-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>());
        findNodeExt-&gt;<a class="code" href="classPastryFindNodeExtData.html#a713649f7db56877e1e726f6b7a1239f5">setJoinHopCount</a>(1);
    }
    findNodeExt-&gt;setBitLength(<a class="code" href="PastryMessage__m_8h.html#a3194cc18d316439cb276491e29295c70">PASTRYFINDNODEEXTDATA_L</a>);

    <a class="code" href="classAbstractLookup.html" title="This class declares an abstract iterative lookup.">AbstractLookup</a>* newLookup = <a class="code" href="classBasePastry.html#abcdf9ac9a9cc75300ba325bb8f163d19" title="Creates an abstract iterative lookup instance.">BaseOverlay::createLookup</a>(routingType,
                                                          msg, findNodeExt,
                                                          appLookup);

    <span class="keyword">delete</span> findNodeExt;
    <span class="keywordflow">return</span> newLookup;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa5351a4ba129681864f7b6e3d77e2962"></a><!-- doxytag: member="BasePastry::createStateMessage" ref="aa5351a4ba129681864f7b6e3d77e2962" args="(enum PastryStateMsgType type=PASTRY_STATE_STD, simtime_t timestamp=&#45;1, int16_t row=&#45;1, bool lastHop=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> * BasePastry::createStateMessage </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7">PastryStateMsgType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code>PASTRY_STATE_STD</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>row</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lastHop</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00664">664</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00761">Pastry::doJoinUpdate()</a>, <a class="el" href="Bamboo_8cc_source.html#l00202">Bamboo::doLeafsetMaintenance()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>, <a class="el" href="BasePastry_8cc_source.html#l00543">handleRequestLeafSetCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>, <a class="el" href="BasePastry_8cc_source.html#l00591">handleRequestRoutingRowCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00729">Pastry::iterativeJoinHook()</a>, and <a class="el" href="Pastry_8cc_source.html#l00696">Pastry::recursiveRoutingHook()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//checks</span>
    <span class="keywordflow">if</span> ((type &amp; (<a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7a2ca6c13943a398b19f55c7d53529ab4f">PASTRY_STATE_JOIN</a> | <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7abfbb059d5d48ab5c68f49eb88464171d">PASTRY_STATE_MINJOIN</a>)) &amp;&amp;
        ((row == -1) || (timestamp != -1))) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Creating JOIN State without hopCount&quot;</span>
                            <span class="stringliteral">&quot; or with timestamp!&quot;</span>);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((type &amp; (<a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7add7d8a80690b4e9619d74d6059f7cb8c">PASTRY_STATE_ROUTINGROW</a>)) &amp;&amp; row == -1) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Creating ROUTINGROW State without row!&quot;</span>);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((type &amp; (<a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7a54b61d3690155bcd38468f1a14de088e">PASTRY_STATE_UPDATE</a>)) &amp;&amp;
                timestamp == -1) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Creating UPDATE/REPAIR State without timestamp!&quot;</span>);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((type &amp; (<a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7acaf8b7f0f06bde65edd6fcc21c0fe74b">PASTRY_STATE_LEAFSET</a> | <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7a47af4c6e9cd3d1165507bcbb572215c1">PASTRY_STATE_STD</a> |
                        <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7a51f4659797b81e09bc35edfded346b7b">PASTRY_STATE_REPAIR</a>  | <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7aa3cde395106c55f5fb90538d45fdd46c">PASTRY_STATE_JOINUPDATE</a>)) &amp;&amp;
            ((row != -1) || (timestamp != -1))) {
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Creating STD/UPDATE State with row/hopCount&quot;</span>
                                <span class="stringliteral">&quot; or timestamp!&quot;</span>);
    }

    std::string typeStr = cEnum::get(<span class="stringliteral">&quot;PastryStateMsgType&quot;</span>)-&gt;getStringFor(type);
    typeStr.erase(0, 13);

    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::sendStateTables() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;    creating new state message (&quot;</span> &lt;&lt; typeStr &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> <span class="comment">//TODO</span>
       &lt;&lt; endl;

    <span class="comment">// create new state msg and set special fields for some types:</span>
    <a class="code" href="classPastryStateMessage.html">PastryStateMessage</a>* stateMsg =
        <span class="keyword">new</span> <a class="code" href="classPastryStateMessage.html">PastryStateMessage</a>((std::string(<span class="stringliteral">&quot;STATE (&quot;</span>) + typeStr + <span class="stringliteral">&quot;)&quot;</span>).c_str());

    stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a15027011e04f8fe22404b4c97e1d4b42">setTimestamp</a>((timestamp == -1) ? simTime() : timestamp);

    <span class="keywordflow">if</span> (type == <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7a2ca6c13943a398b19f55c7d53529ab4f">PASTRY_STATE_JOIN</a> || type == <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7abfbb059d5d48ab5c68f49eb88464171d">PASTRY_STATE_MINJOIN</a>) {
        stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ad6da2b03675b497825a6b8d58b5ee9ff">setRow</a>(row);
        stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a9c8c0baa2980d18b023410bb05b734a2">setLastHop</a>(lastHop);
    }

    <span class="comment">// fill in standard content:</span>
    stateMsg-&gt;<a class="code" href="classBaseOverlayMessage.html#a07301be10c346b328a0a9cc4cae48777">setStatType</a>(<a class="code" href="CommonMessages__m_8h.html#a25418fa818fbb01cd8c0b2c4b0732cdfad7989a419a7028d382d7b6e6d17e88c5">MAINTENANCE_STAT</a>);
    stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a3c4c9cf0d7876229955357614bd6f313">setPastryStateMsgType</a>(type);
    stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ab1d258aa1c2b9ef008d9a05b15b4b68d">setSender</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);

    <span class="comment">// the following part of the new join works on the assumption,</span>
    <span class="comment">// that the node routing the join message is close to the joining node</span>
    <span class="comment">// therefore it should be switched on together with the discovery algorithm</span>
    <span class="keywordflow">if</span> (type == <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7abfbb059d5d48ab5c68f49eb88464171d">PASTRY_STATE_MINJOIN</a>) {
        <span class="comment">//send just the needed row for new join protocol</span>
        <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a3bf3d796d20167be722fdcff57f19944" title="dump content of a single row of the routing table to a state message">dumpRowToMessage</a>(stateMsg, row);
        <span class="keywordflow">if</span> (lastHop) {
            <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a86d0046df97f4d54384d2a0b3936c53e" title="dump content of the set to a PastryStateMessage">dumpToStateMessage</a>(stateMsg);
        } <span class="keywordflow">else</span> {
            stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ac3f254bf54612f480dde0eef3a1204bf">setLeafSetArraySize</a>(0);
        }
        <span class="keywordflow">if</span> (row == 1) {
            <a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a>-&gt;<a class="code" href="classPastryNeighborhoodSet.html#a401ee530fc0a5b89cfc2ccda3a0a7250" title="dump content of the set to a PastryStateMessage">dumpToStateMessage</a>(stateMsg);
        } <span class="keywordflow">else</span> {
            stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a78bd1834c1a5aa9e80321f55fd3d3cf1">setNeighborhoodSetArraySize</a>(0);
        }
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7acaf8b7f0f06bde65edd6fcc21c0fe74b">PASTRY_STATE_LEAFSET</a>) {
        <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a86d0046df97f4d54384d2a0b3936c53e" title="dump content of the set to a PastryStateMessage">dumpToStateMessage</a>(stateMsg);
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7add7d8a80690b4e9619d74d6059f7cb8c">PASTRY_STATE_ROUTINGROW</a>) {
        <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a3bf3d796d20167be722fdcff57f19944" title="dump content of a single row of the routing table to a state message">dumpRowToMessage</a>(stateMsg, row);
    } <span class="keywordflow">else</span> {
        <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a1d4e337dda181b732aa96cd5d5007a42" title="dump content of the table to a PastryStateMessage">dumpToStateMessage</a>(stateMsg);
        <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a86d0046df97f4d54384d2a0b3936c53e" title="dump content of the set to a PastryStateMessage">dumpToStateMessage</a>(stateMsg);
        <a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a>-&gt;<a class="code" href="classPastryNeighborhoodSet.html#a401ee530fc0a5b89cfc2ccda3a0a7250" title="dump content of the set to a PastryStateMessage">dumpToStateMessage</a>(stateMsg);
    }

    stateMsg-&gt;setBitLength(<a class="code" href="PastryMessage__m_8h.html#a106839fe14025799ce4116d15d14fed7">PASTRYSTATE_L</a>(stateMsg));

    <span class="keywordflow">return</span> stateMsg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a89aba6ca97abfbe6baff748a19969d1e"></a><!-- doxytag: member="BasePastry::determineAliveTable" ref="a89aba6ca97abfbe6baff748a19969d1e" args="(const PastryStateMessage *stateMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::determineAliveTable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *&#160;</td>
          <td class="paramname"><em>stateMsg</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>change the aliveTable to match the given stateMsg. </p>
<p>each node that's knowm to be dead from our neighborCache gets a value of PASTRY_PROX_INFINITE, all other nodes just get a value of 1 </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00438">438</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, and <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t rt_size = stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a2abf365a56348d30b99e9733c6905065">getRoutingTableArraySize</a>();
    <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.clear();
    <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.resize(rt_size, 1);

    uint32_t ls_size = stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ad792f9b41aee54969504dee46452252c">getLeafSetArraySize</a>();
    <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.clear();
    <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.resize(ls_size, 1);

    uint32_t ns_size = stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a88929cf3d5340cda73e6305c25714788">getNeighborhoodSetArraySize</a>();
    <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.clear();
    <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.resize(ns_size, 1);

    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; rt_size + ls_size + ns_size; i++) {
        <span class="keyword">const</span> <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>* node;
        std::vector&lt;simtime_t&gt;::iterator tblPos;
        <span class="keywordflow">if</span> (i &lt; rt_size) {
            node = &amp;(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a0e4a031d7e3a30bd94c3867d0862288e">getRoutingTable</a>(i));
            tblPos = <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.begin() + i;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( i &lt; (rt_size + ls_size) ) {
            node = &amp;(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a27c65fc289c9baa8121a8be1977839cd">getLeafSet</a>(i - rt_size));
            tblPos = <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.begin() + (i - rt_size);
        } <span class="keywordflow">else</span> {
            node = &amp;(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a359b5a6fff11286993c16b9eec3da15a">getNeighborhoodSet</a>(i - rt_size - ls_size));
            tblPos = <a class="code" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8" title="Early update of leaf set: helper structure for marking known-dead nodes.">aliveTable</a>.<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.begin() + (i - rt_size - ls_size);
        }
        <span class="keywordflow">if</span> (node-&gt;<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>()) {
            *tblPos = <a class="code" href="PastryTypes_8h.html#ac72c42e64b55779864ac448c6a71a0e2" title="value for undefined proximity:">PASTRY_PROX_UNDEF</a>;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#ab934be8fb503f9629cf6eb83e7d1b576" title="Gets the proximity of a node.">getProx</a>(*node,
                                          <a class="code" href="NeighborCache_8h.html#ada3b7deab861ead8c817d583da336ccbaa7fa0fb5215e636f2694f8d021d44f8b">NEIGHBORCACHE_DEFAULT_IMMEDIATELY</a>) ==
                   <a class="code" href="structProx.html#a5ded765f6344797ea0e9c35c85cd61af">Prox::PROX_TIMEOUT</a>) {
            *tblPos = <a class="code" href="PastryTypes_8h.html#ac63315d5b1f74062305fa0ef8ad8c2f7" title="value for infinite proximity (ping timeout):">PASTRY_PROX_INFINITE</a>;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5508a66ddde5207ac255edfe042b69a5"></a><!-- doxytag: member="BasePastry::distance" ref="a5508a66ddde5207ac255edfe042b69a5" args="(const OverlayKey &amp;x, const OverlayKey &amp;y, bool useAlternative=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> BasePastry::distance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useAlternative</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method should implement the distance between two keys. </p>
<p>It may be overloaded to implement a new metric. The default implementation uses the standard-metric d = abs(x-y).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Left-hand-side Key </td></tr>
    <tr><td class="paramname">y</td><td>Right-hand-side key </td></tr>
    <tr><td class="paramname">useAlternative</td><td>use an alternative distance metric </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> Distance between x and y </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#aa12314947ef42726ec6c7066dde8d0f9">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l01110">1110</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!useAlternative) <span class="keywordflow">return</span> <a class="code" href="classKeyRingMetric.html" title="OverlayKey Ring Metric.">KeyRingMetric</a>().<a class="code" href="classKeyRingMetric.html#a85547c6014f59c334c6d64d227049094" title="calculates the distance from x to y on a bidirectional ring">distance</a>(x, y);
    <span class="keywordflow">return</span> <a class="code" href="classKeyPrefixMetric.html" title="OverlayKey prefix metric.">KeyPrefixMetric</a>().<a class="code" href="classKeyPrefixMetric.html#a78d831ece61ba3e17c9200f4ad733cdb" title="calculates the distance from x to y with the prefix metric">distance</a>(x, y);
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc106b05b0a841dcef8099d16714a219"></a><!-- doxytag: member="BasePastry::estimateMeanDistance" ref="adc106b05b0a841dcef8099d16714a219" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOverlayKey.html">OverlayKey</a> BasePastry::estimateMeanDistance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns mean distance between OverlayKeys in the network </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>mean distance </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a17e5d70377d7441e3c379818688892c2">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l01103">1103</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#ab1df380d8c6a16d7ce1cc889bc70abea">estimateMeanDistance</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3f8ba63e19c092f9ecf4d5ecb1817061"></a><!-- doxytag: member="BasePastry::findNode" ref="a3f8ba63e19c092f9ecf4d5ecb1817061" args="(const OverlayKey &amp;key, int numRedundantNodes, int numSiblings, BaseOverlayMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a> * BasePastry::findNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRedundantNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSiblings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements the find node call. </p>
<p>This method simply returns the closest nodes known in the corresponding routing topology. If the node is a sibling for this key (isSiblingFor(key) = true), this method returns all numSiblings siblings, with the closest neighbor to the key first.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The lookup key. </td></tr>
    <tr><td class="paramname">numRedundantNodes</td><td>Maximum number of next hop nodes to return. </td></tr>
    <tr><td class="paramname">numSiblings</td><td>number of siblings to return </td></tr>
    <tr><td class="paramname">msg</td><td>A pointer to the <a class="el" href="classBaseRouteMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRouteMessage</a> or <a class="el" href="classFindNodeCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">FindNodeCall</a> message of this lookup. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NodeVector with closest nodes. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a7cbdce336237331b67a3c69c4e43d489">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00906">906</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ((numRedundantNodes &gt; <a class="code" href="classBasePastry.html#acad786a6138720f76e80ceb9a93d0e12" title="Query the maximum number of redundant next hop nodes that are returned by findNode().">getMaxNumRedundantNodes</a>()) ||
        (numSiblings &gt; <a class="code" href="classBasePastry.html#a23fca1965b3c6240fdcfb19bbf8e5a02" title="Query the maximum number of siblings (nodes close to a key) that are maintained by this overlay proto...">getMaxNumSiblings</a>())) {

        opp_error(<span class="stringliteral">&quot;(Pastry::findNode()) numRedundantNodes or numSiblings &quot;</span>
                  <span class="stringliteral">&quot;too big!&quot;</span>);
    }
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a9fc77f87e2df109185d47c249886f176">totalLookups</a>++);

    <a class="code" href="classBaseKeySortedVector.html" title="A STL-vector that supports inserts sorted by an OverlayKey found somewhere in the type...">NodeVector</a>* nextHops = <span class="keyword">new</span> <a class="code" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a>(numRedundantNodes);

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> != <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        <span class="keywordflow">return</span> nextHops;
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>() || <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#aa525adf4fc0334d812fbb70a50b78ca5" title="checks if we are the closest node to key destination in the overlay">isClosestNode</a>(key)) {
        <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ac765a923e7799daa443a1f4e1133bd01">responsibleLookups</a>++);
        nextHops-&gt;<a class="code" href="classBaseKeySortedVector.html#afbcdfbd9680a475cceb48ccc841140cd" title="adds an element of type T in increasing order to the NodeVector and returns the position of the added...">add</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
    } <span class="keywordflow">else</span> {
        <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>* next = &amp;(<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a8d3bbe87fe682fc513a83df7a0d69f57" title="gets the final node according to the Pastry routing scheme.">getDestinationNode</a>(key));

        <span class="keywordflow">if</span> (next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            next = &amp;(<a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a0a3497ae41535458b14e31be32d5f6fc" title="gets the next hop according to the Pastry routing scheme.">lookupNextHop</a>(key));
            <span class="keywordflow">if</span> (!next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
                <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a42d36fb42f20de058871d74b8acd7b4c">routingTableLookups</a>++);
            }
        } <span class="keywordflow">else</span> {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ac765a923e7799daa443a1f4e1133bd01">responsibleLookups</a>++);
        }

        <span class="keywordflow">if</span> (next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a7f32c7f9ffc03f346052ac50321d1858">closerNodeLookups</a>++);
            <span class="comment">// call findCloserNode() on all state objects</span>
            <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a12816a6716823ebb8d4bcfe4d4667051">optimizeLookup</a>) {
                <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>* tmp;
                next = &amp;(<a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a9f43c06e0a2d98f01c9b3809da0efae6" title="try to find a node numerically closer to a given key with the same shared prefix as the current node ...">findCloserNode</a>(key, <span class="keyword">true</span>));
                tmp = &amp;(<a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a>-&gt;<a class="code" href="classPastryNeighborhoodSet.html#aa17a22a731c6aba55fda5ac962df1de3" title="try to find a node numerically closer to a given key with the same shared prefix as the current node ...">findCloserNode</a>(key, <span class="keyword">true</span>));

                <span class="keywordflow">if</span> ((! tmp-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) &amp;&amp;
                    (<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryStateObject.html#ace8eed35caedb59412a49132c4538917" title="test a given NodeHandle if it is closer to a given destination">isCloser</a>(*tmp, key, *next))) {
                    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a>++);
                    next = tmp;
                }

                tmp = &amp;(<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#ae42c594976b0f7dbc1a24269b3cc6c89" title="try to find a node numerically closer to a given key with the same shared prefix as the current node ...">findCloserNode</a>(key, <span class="keyword">true</span>));
                <span class="keywordflow">if</span> ((! tmp-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) &amp;&amp;
                    (<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryStateObject.html#ace8eed35caedb59412a49132c4538917" title="test a given NodeHandle if it is closer to a given destination">isCloser</a>(*tmp, key, *next))) {
                    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a>--);
                    next = tmp;
                }
            } <span class="keywordflow">else</span> {
                next = &amp;(<a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a9f43c06e0a2d98f01c9b3809da0efae6" title="try to find a node numerically closer to a given key with the same shared prefix as the current node ...">findCloserNode</a>(key));

                <span class="keywordflow">if</span> (next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
                    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a>++);
                    next = &amp;(<a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a>-&gt;<a class="code" href="classPastryNeighborhoodSet.html#aa17a22a731c6aba55fda5ac962df1de3" title="try to find a node numerically closer to a given key with the same shared prefix as the current node ...">findCloserNode</a>(key));
                }

                <span class="keywordflow">if</span> (next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
                    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a>--);
                    next = &amp;(<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#ae42c594976b0f7dbc1a24269b3cc6c89" title="try to find a node numerically closer to a given key with the same shared prefix as the current node ...">findCloserNode</a>(key));
                }
            }
        }

        <a class="code" href="classBasePastry.html#a49e37d403457478acc0d352904bf104d">iterativeJoinHook</a>(msg, !next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>());

        <span class="keywordflow">if</span> (!next-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            nextHops-&gt;<a class="code" href="classBaseKeySortedVector.html#afbcdfbd9680a475cceb48ccc841140cd" title="adds an element of type T in increasing order to the NodeVector and returns the position of the added...">add</a>(*next);
        }
    }

    <span class="keywordtype">bool</span> err;

    <span class="comment">// if we&#39;re a sibling, return all numSiblings</span>
    <span class="keywordflow">if</span> ((numSiblings &gt;= 0) &amp;&amp; <a class="code" href="classBasePastry.html#aa8d7ea4daf5bb613fefc62a4da602f2b" title="Query if a node is among the siblings for a given key.">isSiblingFor</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>, key, numSiblings, &amp;err)) {
        <span class="keywordflow">if</span> (err == <span class="keyword">false</span>) {
            <span class="keyword">delete</span> nextHops;
            <span class="keywordflow">return</span>  <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a8e35d7891d1a32e48fce420555ff2b4d">createSiblingVector</a>(key, numSiblings);
        }
    }

    <span class="keywordflow">if</span> (<span class="comment">/*(nextHops-&gt;size() &gt; 0) &amp;&amp;*/</span> (numRedundantNodes &gt; 1)) {

        <span class="comment">//memleak... comp should be a ptr and deleted in NodeVector::~NodeVector()...</span>
        <span class="comment">//KeyDistanceComparator&lt;KeyRingMetric&gt;* comp =</span>
        <span class="comment">//    new KeyDistanceComparator&lt;KeyRingMetric&gt;( key );</span>

        <a class="code" href="classKeyDistanceComparator.html" title="OverlayKey distance comparator.">KeyDistanceComparator&lt;KeyRingMetric&gt;</a> comp(key);
        <span class="comment">//KeyDistanceComparator&lt;KeyPrefixMetric&gt; comp(key);</span>
        <a class="code" href="classBaseKeySortedVector.html" title="A STL-vector that supports inserts sorted by an OverlayKey found somewhere in the type...">NodeVector</a>* additionalHops = <span class="keyword">new</span> <a class="code" href="NodeVector_8h.html#a442f90b66b22aa9fca51f83c5ce1b02b">NodeVector</a>( numRedundantNodes, &amp;comp );

        <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a0604bf72a6a6143d4cb8eb6a55e0b0f3">findCloserNodes</a>(key, additionalHops);
        <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a54cf1b5716243dc9ea4f840e3076c720">findCloserNodes</a>(key, additionalHops);
        <a class="code" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">neighborhoodSet</a>-&gt;<a class="code" href="classPastryNeighborhoodSet.html#a1b15fe9598b91dbb26294ed6193235f2">findCloserNodes</a>(key, additionalHops);

        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a893a9f746f708dc4c66b5195e04a2f56">useRegularNextHop</a> &amp;&amp; (nextHops-&gt;size() &gt; 0) &amp;&amp;
            (*additionalHops)[0] != (*nextHops)[0]) {
            <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; additionalHops-&gt;size(); i++) {
                <span class="keywordflow">if</span> ((*additionalHops)[i] != (*nextHops)[0])
                    nextHops-&gt;push_back((*additionalHops)[i]);
            }
            <span class="keyword">delete</span> additionalHops;
        } <span class="keywordflow">else</span> {
            <span class="keyword">delete</span> nextHops;
            <span class="keywordflow">return</span> additionalHops;
        }
    }
    <span class="keywordflow">return</span> nextHops;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa38739065522ad67152dd4ff604ef759"></a><!-- doxytag: member="BasePastry::finishOverlay" ref="aa38739065522ad67152dd4ff604ef759" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::finishOverlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>collects statistical data in derived class </p>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#a8db85b9c706d04007154761d5a0cec16">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00813">813</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// remove this node from the bootstrap list</span>
    <span class="keywordflow">if</span> (!<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) <a class="code" href="classBaseOverlay.html#abe4dea93564123116c97d5c4721f0504" title="pointer to the BootstrapList module">bootstrapList</a>-&gt;<a class="code" href="classBootstrapList.html#a918cbbc5c592fb9069abba47a50af7c0">removeBootstrapNode</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);

    <span class="comment">// collect statistics</span>
    simtime_t time = <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a610799ebfbf64696c59b811870cc8300">calcMeasuredLifetime</a>(<a class="code" href="classBaseOverlay.html#af0eebaddea732ee4ab4d247c388e62bd" title="simtime when the node has been created">creationTime</a>);
    <span class="keywordflow">if</span> (time &lt; <a class="code" href="classGlobalStatistics.html#a169810c78519b271f7e32fdc7c9fc641" title="minimum useful measured lifetime in seconds">GlobalStatistics::MIN_MEASURED</a>) <span class="keywordflow">return</span>;

    <span class="comment">// join statistics: only evaluate join from nodes</span>
    <span class="comment">// that have been created in measurement phase</span>
    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a0364c85c2484a2109adbe79d03d79f62">getMeasureNetwInitPhase</a>() ||
        time &gt;= (simTime() - <a class="code" href="classBaseOverlay.html#af0eebaddea732ee4ab4d247c388e62bd" title="simtime when the node has been created">creationTime</a>)) {
        <span class="comment">// join is on the way...</span>
        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a> &gt; 0 &amp;&amp; <a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>) <a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a>--;
        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a> &gt; 0) {
            <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: join success ratio&quot;</span>, (<span class="keywordtype">double</span>)<a class="code" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">joins</a> / (<span class="keywordtype">double</span>)<a class="code" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">joinTries</a>);
            <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: join tries&quot;</span>, joinTries);
        }
    }

    <span class="comment">// TODO new methods Pastry::finnishOverlay() / Bamboo::finishOverlay()</span>
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: joins with missing replies from routing path/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#a805e366ae01f6857dcb0e4a78c7e79d6">joinPartial</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: JOIN Messages seen/s&quot;</span>, <a class="code" href="classBasePastry.html#abfe72c7d75708d9e152375ecb708ce24">joinSeen</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of JOIN Messages seen/s&quot;</span>, <a class="code" href="classBasePastry.html#a8fb058e1e4991c923faf29ae72832c05">joinBytesSeen</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: JOIN Messages received/s&quot;</span>, <a class="code" href="classBasePastry.html#a3d1f5f390900492fb714e0f420ded63a">joinReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of JOIN Messages received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#ab2be7f6fc3c97b1d93f43f083cff6f6a">joinBytesReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: JOIN Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#ae75ddd4630ea3004166c0283436af0e9">joinSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of JOIN Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a8bf579a017df30ccb1cf458a78a78f79">joinBytesSent</a> / time);

    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: REPAIR Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a5f05d5cba3283f9b1dd421b036959aff">repairReqSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of REPAIR Requests sent/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#a9f02a29e59ff2af5c7af5b3a764e711a">repairReqBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: REPAIR Requests received/s&quot;</span>, <a class="code" href="classBasePastry.html#a7dcde1eb4abe361da782106038325c04">repairReqReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of REPAIR Requests received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#aee11180f103683fc2a55d4c8958078d0">repairReqBytesReceived</a> / time);

    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: STATE Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#addc36312daa0ac4c85e4e8d77ee17ae5">stateReqSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of STATE Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a79163b2c9ee6767a5844c10b3a273af2">stateReqBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: STATE Requests received/s&quot;</span>, <a class="code" href="classBasePastry.html#a727d8089dc7486f5f835ec427554c9b2">stateReqReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of STATE Requests received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#adca8e0ca12a6dbbaee7dc5884845ddce">stateReqBytesReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: STATE Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#aadec419a4c2560717f1db3e36866b837">stateSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of STATE Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a43218c86ea28a36b14f76b54b2ccea07">stateBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: STATE Messages received/s&quot;</span>, <a class="code" href="classBasePastry.html#a26fa765c1f23635923477bc300637c4f">stateReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;Pastry: bytes of STATE Messages received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#a8783f5db146cf00be3a347e92c36505e">stateBytesReceived</a> / time);

    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: LEAFSET Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a26cf01f1f60f7c76ec071d551d2bc77e">leafsetReqSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of LEAFSET Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#ab200043644da860d9d8c260fb6735053">leafsetReqBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: LEAFSET Requests received/s&quot;</span>, <a class="code" href="classBasePastry.html#a65d0531f806241a4f400613b1dd67384">leafsetReqReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of LEAFSET Requests received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#aa22c5ed0a7bbaf3b2b3ffd2276496251">leafsetReqBytesReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: LEAFSET Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a4c18e956472b6109d8b7f6951af550b5">leafsetSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of LEAFSET Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a4ac5815eec47ea1ec62a25e19dbaf806">leafsetBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: LEAFSET Messages received/s&quot;</span>, <a class="code" href="classBasePastry.html#a966f88cf985632e3e28ff482c5e5d0a2">leafsetReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of LEAFSET Messages received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#a9bdc81ede316e30996bbee5c73f6b472">leafsetBytesReceived</a> / time);

    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: ROUTING TABLE ROW Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a1a1785687d9560edfe30d6b4f8d5c31f">routingTableRowReqSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of ROUTING TABLE ROW Requests sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a836e8dcea673d81c8e2a68500becd084">routingTableRowReqBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: ROUTING TABLE ROW Requests received/s&quot;</span>, <a class="code" href="classBasePastry.html#a8056c04c21aae9fa4a4041edbdb19001">routingTableRowReqReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of ROUTING TABLE ROW Requests received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#a2fbc52bcec92ed5021c9ae14cecafafc">routingTableRowReqBytesReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: ROUTING TABLE ROW Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a5f02096e0a73b1f56dcdf8930b5404a8">routingTableRowSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of ROUTING TABLE ROW Messages sent/s&quot;</span>, <a class="code" href="classBasePastry.html#a839babe908f65ab34cbf4ee20c336c9a">routingTableRowBytesSent</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: ROUTING TABLE ROW Messages received/s&quot;</span>, <a class="code" href="classBasePastry.html#ad18d4e40c560e1b08c2c6c0742f68767">routingTableRowReceived</a> / time);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: bytes of ROUTING TABLE ROW Messages received/s&quot;</span>,
                                <a class="code" href="classBasePastry.html#a7a3df3dfb8b7c88b1c8f9c932b07d5a2">routingTableRowBytesReceived</a> / time);

    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: total number of lookups&quot;</span>, <a class="code" href="classBasePastry.html#a9fc77f87e2df109185d47c249886f176">totalLookups</a>);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: responsible lookups&quot;</span>, <a class="code" href="classBasePastry.html#ac765a923e7799daa443a1f4e1133bd01">responsibleLookups</a>);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: lookups in routing table&quot;</span>, <a class="code" href="classBasePastry.html#a42d36fb42f20de058871d74b8acd7b4c">routingTableLookups</a>);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: lookups using closerNode()&quot;</span>, <a class="code" href="classBasePastry.html#a7f32c7f9ffc03f346052ac50321d1858">closerNodeLookups</a>);
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;BasePastry: lookups using closerNode() with result from &quot;</span>
                                <span class="stringliteral">&quot;neighborhood set&quot;</span>, <a class="code" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">closerNodeLookupsFromNeighborhood</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64142ec5a4c2536f6633c1a05dd30726"></a><!-- doxytag: member="BasePastry::getBitsPerDigit" ref="a64142ec5a4c2536f6633c1a05dd30726" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BasePastry::getBitsPerDigit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#afcab85a6c5a4f8aa70a65ecabaa78180">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00101">101</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">bitsPerDigit</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="aea89d552071956612ccf525569b52c8d"></a><!-- doxytag: member="BasePastry::getLeafSet" ref="aea89d552071956612ccf525569b52c8d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; * BasePastry::getLeafSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l01068">1068</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="DiscoveryMode_8cc_source.html#l00097">DiscoveryMode::handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::vector&lt;TransportAddress&gt;* ret = <span class="keyword">new</span> std::vector&lt;TransportAddress&gt;;
    <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a529939c1a02749c1b18300404172c6ad" title="appends all leaf set entries to a given vector of TransportAddresses, needed to find all Nodes to be ...">dumpToVector</a>(*ret);

    <span class="keywordflow">return</span> ret;
};
</pre></div>
</div>
</div>
<a class="anchor" id="acad786a6138720f76e80ceb9a93d0e12"></a><!-- doxytag: member="BasePastry::getMaxNumRedundantNodes" ref="acad786a6138720f76e80ceb9a93d0e12" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BasePastry::getMaxNumRedundantNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query the maximum number of redundant next hop nodes that are returned by <a class="el" href="classBasePastry.html#a3f8ba63e19c092f9ecf4d5ecb1817061" title="Implements the find node call.">findNode()</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int number of redundant nodes returned by <a class="el" href="classBasePastry.html#a3f8ba63e19c092f9ecf4d5ecb1817061" title="Implements the find node call.">findNode()</a>. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#ab4dadd02486560de3a58773b3a90fb41">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00900">900</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)floor(<a class="code" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a23fca1965b3c6240fdcfb19bbf8e5a02"></a><!-- doxytag: member="BasePastry::getMaxNumSiblings" ref="a23fca1965b3c6240fdcfb19bbf8e5a02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BasePastry::getMaxNumSiblings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query the maximum number of siblings (nodes close to a key) that are maintained by this overlay protocol. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int number of siblings. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#acd3058ad15b470e024500dd4872e2f09">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00894">894</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)floor(<a class="code" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">numberOfLeaves</a> / 2.0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4dd9ab209482d17819937d1b04e57bf2"></a><!-- doxytag: member="BasePastry::getRTLastRow" ref="a4dd9ab209482d17819937d1b04e57bf2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BasePastry::getRTLastRow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l01056">1056</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="DiscoveryMode_8cc_source.html#l00097">DiscoveryMode::handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a449b7e0abcd2be8a93816669201bfc4c" title="gets the number of rows in the routing table">getLastRow</a>();
};
</pre></div>
</div>
</div>
<a class="anchor" id="aa2f33e6768d37e3a8ac1de5abe083ccd"></a><!-- doxytag: member="BasePastry::getRTRow" ref="aa2f33e6768d37e3a8ac1de5abe083ccd" args="(uint8_t index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; * BasePastry::getRTRow </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l01062">1062</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="DiscoveryMode_8cc_source.html#l00097">DiscoveryMode::handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a092e213c15bf70d632dcae0f313bbe01">getRow</a>(index);
};
</pre></div>
</div>
</div>
<a class="anchor" id="a20890c824e8987e936a3997c3121aa23"></a><!-- doxytag: member="BasePastry::handleAppMessage" ref="a20890c824e8987e936a3997c3121aa23" args="(BaseOverlayMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleAppMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>processes messages from application </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message from application </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00779">779</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a507ef17a6bd92abbc59bdf1e14a0354a"></a><!-- doxytag: member="BasePastry::handleRequestLeafSetCall" ref="a507ef17a6bd92abbc59bdf1e14a0354a" args="(RequestLeafSetCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleRequestLeafSetCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequestLeafSetCall.html">RequestLeafSetCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00543">543</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00476">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRequestLeafSetCall() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]&quot;</span>
       &lt;&lt; endl;

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a65d0531f806241a4f400613b1dd67384">leafsetReqReceived</a>++;
                 <a class="code" href="classBasePastry.html#aa22c5ed0a7bbaf3b2b3ffd2276496251">leafsetReqBytesReceived</a> += call-&gt;getByteLength());

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> != <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;    local node is NOT in READY state (call deleted)!&quot;</span> &lt;&lt; endl;
        <span class="keyword">delete</span> call;
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="classRequestLeafSetResponse.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">RequestLeafSetResponse</a>* response =
        <span class="keyword">new</span> <a class="code" href="classRequestLeafSetResponse.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">RequestLeafSetResponse</a>(<span class="stringliteral">&quot;REQUEST LEAFSET Response&quot;</span>);
    response-&gt;setTimestamp(simTime());
    response-&gt;<a class="code" href="classBaseOverlayMessage.html#a07301be10c346b328a0a9cc4cae48777">setStatType</a>(<a class="code" href="CommonMessages__m_8h.html#a25418fa818fbb01cd8c0b2c4b0732cdfad7989a419a7028d382d7b6e6d17e88c5">MAINTENANCE_STAT</a>);

    response-&gt;setBitLength(<a class="code" href="PastryMessage__m_8h.html#a53e86523b9577a5ca89a366a45ef4ebe">PASTRYREQUESTLEAFSETRESPONSE_L</a>(response));
    response-&gt;encapsulate(<a class="code" href="classBasePastry.html#aa5351a4ba129681864f7b6e3d77e2962">createStateMessage</a>(<a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7acaf8b7f0f06bde65edd6fcc21c0fe74b">PASTRY_STATE_LEAFSET</a>));

    <span class="comment">//merge leafset and sender&#39;s NodeHandle from call (if exists: PULL)</span>
    <span class="keywordflow">if</span> (call-&gt;getEncapsulatedPacket()) {
        EV &lt;&lt; <span class="stringliteral">&quot;    ... it&#39;s a leafSet PULL message!&quot;</span> &lt;&lt; endl;

        <a class="code" href="classPastryStateMessage.html">PastryStateMessage</a>* stateMsg =
            check_and_cast&lt;<a class="code" href="classPastryStateMessage.html">PastryStateMessage</a>*&gt;(call-&gt;decapsulate());

        stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ac3f254bf54612f480dde0eef3a1204bf">setLeafSetArraySize</a>(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ad792f9b41aee54969504dee46452252c">getLeafSetArraySize</a>() + 1);
        stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a8d3948f9d7acca20fd5ca257ca7b45be">setLeafSet</a>(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ad792f9b41aee54969504dee46452252c">getLeafSetArraySize</a>() - 1,
                             stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ab854faec5faca431685829ba8296ecfd">getSender</a>());

        <a class="code" href="classBasePastry.html#a1172a453b44856e2fdd7a027f0d03833" title="processes state messages, merging with own state tables">handleStateMessage</a>(stateMsg);

        <span class="comment">//set sender&#39;s NodeHandle in response if it was set in call (PULL/PUSH)</span>
        <span class="comment">//response-&gt;setSender(thisNode);</span>
        response-&gt;setName(<span class="stringliteral">&quot;LeafSet PUSH&quot;</span>);
    }

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a4c18e956472b6109d8b7f6951af550b5">leafsetSent</a>++;
                 <a class="code" href="classBasePastry.html#a4ac5815eec47ea1ec62a25e19dbaf806">leafsetBytesSent</a> += response-&gt;getByteLength());

    <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(call, response);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae745710e7bd27898ded7fe73987ef676"></a><!-- doxytag: member="BasePastry::handleRequestLeafSetResponse" ref="ae745710e7bd27898ded7fe73987ef676" args="(RequestLeafSetResponse *response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleRequestLeafSetResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequestLeafSetResponse.html">RequestLeafSetResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classPastry.html#a11e13b36752da53944e090d845588075">Pastry</a>, and <a class="el" href="classBamboo.html#a143d3d0fa491f4bd177b69a934182f90">Bamboo</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00634">634</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00497">handleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRequestLeafSetResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]&quot;</span>
       &lt;&lt; endl;

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a966f88cf985632e3e28ff482c5e5d0a2">leafsetReceived</a>++; <a class="code" href="classBasePastry.html#a9bdc81ede316e30996bbee5c73f6b472">leafsetBytesReceived</a> +=
                 response-&gt;getByteLength());

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        <a class="code" href="classBasePastry.html#a1172a453b44856e2fdd7a027f0d03833" title="processes state messages, merging with own state tables">handleStateMessage</a>(check_and_cast&lt;PastryStateMessage*&gt;(response-&gt;decapsulate()));
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa252f42630bb2ce99e87513d1e1e6f23"></a><!-- doxytag: member="BasePastry::handleRequestRoutingRowCall" ref="aa252f42630bb2ce99e87513d1e1e6f23" args="(RequestRoutingRowCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleRequestRoutingRowCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequestRoutingRowCall.html">RequestRoutingRowCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00591">591</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00476">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRequestRoutingRowCall() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]&quot;</span>
       &lt;&lt; endl;

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a8056c04c21aae9fa4a4041edbdb19001">routingTableRowReqReceived</a>++;
                 <a class="code" href="classBasePastry.html#a2fbc52bcec92ed5021c9ae14cecafafc">routingTableRowReqBytesReceived</a> += call-&gt;getByteLength());

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        <span class="comment">// fill response with row entries</span>
        <span class="keywordflow">if</span> (call-&gt;<a class="code" href="classRequestRoutingRowCall.html#adc79f07df3e179ec07e5dfd3e23a3113">getRow</a>() &gt; <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a449b7e0abcd2be8a93816669201bfc4c" title="gets the number of rows in the routing table">getLastRow</a>()) {
            EV &lt;&lt; <span class="stringliteral">&quot;    received request for nonexistent routing&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;table row, dropping message!&quot;</span>
               &lt;&lt; endl;
            <span class="keyword">delete</span> call;
        } <span class="keywordflow">else</span> {
            <a class="code" href="classRequestRoutingRowResponse.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">RequestRoutingRowResponse</a>* response =
                <span class="keyword">new</span> <a class="code" href="classRequestRoutingRowResponse.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">RequestRoutingRowResponse</a>(<span class="stringliteral">&quot;REQUEST ROUTINGROW Response&quot;</span>);
            response-&gt;<a class="code" href="classBaseOverlayMessage.html#a07301be10c346b328a0a9cc4cae48777">setStatType</a>(<a class="code" href="CommonMessages__m_8h.html#a25418fa818fbb01cd8c0b2c4b0732cdfad7989a419a7028d382d7b6e6d17e88c5">MAINTENANCE_STAT</a>);

            assert(call-&gt;<a class="code" href="classRequestRoutingRowCall.html#adc79f07df3e179ec07e5dfd3e23a3113">getRow</a>() &gt;= -1 &amp;&amp;
                   call-&gt;<a class="code" href="classRequestRoutingRowCall.html#adc79f07df3e179ec07e5dfd3e23a3113">getRow</a>() &lt;= <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a449b7e0abcd2be8a93816669201bfc4c" title="gets the number of rows in the routing table">getLastRow</a>());

            response-&gt;setBitLength(<a class="code" href="PastryMessage__m_8h.html#a944270d2d78e2e2f377538540390a8da">PASTRYREQUESTROUTINGROWRESPONSE_L</a>(response));
            response-&gt;encapsulate(<a class="code" href="classBasePastry.html#aa5351a4ba129681864f7b6e3d77e2962">createStateMessage</a>(<a class="code" href="PastryMessage__m_8h.html#a36b8c7a9b6b9c184ab518606946446c7add7d8a80690b4e9619d74d6059f7cb8c">PASTRY_STATE_ROUTINGROW</a>,
                                                     -1,
                                                     (call-&gt;<a class="code" href="classRequestRoutingRowCall.html#adc79f07df3e179ec07e5dfd3e23a3113">getRow</a>() == -1) ?
                                                      <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a449b7e0abcd2be8a93816669201bfc4c" title="gets the number of rows in the routing table">getLastRow</a>() :
                                                      call-&gt;<a class="code" href="classRequestRoutingRowCall.html#adc79f07df3e179ec07e5dfd3e23a3113">getRow</a>()));

            <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#a5f02096e0a73b1f56dcdf8930b5404a8">routingTableRowSent</a>++;
                         <a class="code" href="classBasePastry.html#a839babe908f65ab34cbf4ee20c336c9a">routingTableRowBytesSent</a> += call-&gt;getByteLength());
            <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(call, response);
        }
    } <span class="keywordflow">else</span> {
        EV &lt;&lt; <span class="stringliteral">&quot;    received routing table request before reaching &quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;READY state, dropping message!&quot;</span> &lt;&lt; endl;
        <span class="keyword">delete</span> call;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aced0a16861b41d5dcd623fe49b0ccefa"></a><!-- doxytag: member="BasePastry::handleRequestRoutingRowResponse" ref="aced0a16861b41d5dcd623fe49b0ccefa" args="(RequestRoutingRowResponse *response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleRequestRoutingRowResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequestRoutingRowResponse.html">RequestRoutingRowResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classPastry.html#a3723e844ab5f2be793b4cd7bf6b03318">Pastry</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00649">649</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00497">handleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRequestRoutingRowResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]&quot;</span>
       &lt;&lt; endl;

    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBasePastry.html#ad18d4e40c560e1b08c2c6c0742f68767">routingTableRowReceived</a>++;
                 <a class="code" href="classBasePastry.html#a7a3df3dfb8b7c88b1c8f9c932b07d5a2">routingTableRowBytesReceived</a> += response-&gt;getByteLength());

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        <a class="code" href="classBasePastry.html#a1172a453b44856e2fdd7a027f0d03833" title="processes state messages, merging with own state tables">handleStateMessage</a>(check_and_cast&lt;PastryStateMessage*&gt;(response-&gt;decapsulate()));
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64c0f2b97d1dd7b07c30f70b5ddc1496"></a><!-- doxytag: member="BasePastry::handleRpcCall" ref="a64c0f2b97d1dd7b07c30f70b5ddc1496" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BasePastry::handleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes Remote-Procedure-Call invocation messages. </p>
<p><br/>
</p>
<p>This method should be overloaded when the overlay provides RPC functionality.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true, if rpc has been handled </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseRpc.html#a20e77c3e0c203762a5b582ffebe3ba4b">BaseRpc</a>.</p>

<p>Reimplemented in <a class="el" href="classPastry.html#a14a0a29c8c62c586425b174b9a1504d8">Pastry</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00476">476</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00358">Pastry::handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> != <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
        EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRpcCall() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Received RPC call and state != READY&quot;</span>
           &lt;&lt; endl;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// delegate messages</span>
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg )
    <span class="comment">// RPC_DELEGATE( &lt;messageName&gt;[Call|Response], &lt;methodToCall&gt; )</span>
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( RequestLeafSet, <a class="code" href="classBasePastry.html#a507ef17a6bd92abbc59bdf1e14a0354a">handleRequestLeafSetCall</a> );
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( RequestRoutingRow, <a class="code" href="classBasePastry.html#aa252f42630bb2ce99e87513d1e1e6f23">handleRequestRoutingRowCall</a> );
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )

    return <a class="code" href="RpcMacros_8h.html#aa5e964b7c7129c0943237a786e455e9a">RPC_HANDLED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6bdf07238d36dc4fc8298e57632d78e5"></a><!-- doxytag: member="BasePastry::handleRpcResponse" ref="a6bdf07238d36dc4fc8298e57632d78e5" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC response has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The response message. </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classBasePastry.html#a6bdf07238d36dc4fc8298e57632d78e5" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">rtt</td><td>The Round-Trip-Time of this RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#a6229090a446fb649cfec3c1fb61e7167">RpcListener</a>.</p>

<p>Reimplemented in <a class="el" href="classPastry.html#ae51a0a4846c1e44f2b383bcc1bda5640">Pastry</a>, and <a class="el" href="classBamboo.html#a8efba5b237b7985672ea27dbe9d67bdd">Bamboo</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00497">497</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( RequestLeafSet ) {
        EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRpcResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Received a RequestLeafSet RPC Response: id=&quot;</span> &lt;&lt; rpcId &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    msg=&quot;</span> &lt;&lt; *_RequestLeafSetResponse &lt;&lt; <span class="stringliteral">&quot; rtt=&quot;</span> &lt;&lt; SIMTIME_DBL(rtt)
           &lt;&lt; endl;
        <a class="code" href="classBasePastry.html#ae745710e7bd27898ded7fe73987ef676">BasePastry::handleRequestLeafSetResponse</a>(_RequestLeafSetResponse);
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( RequestRoutingRow ) {
        EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRpcResponse() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Received a RequestRoutingRow RPC Response: id=&quot;</span> &lt;&lt; rpcId &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    msg=&quot;</span> &lt;&lt; *_RequestRoutingRowResponse &lt;&lt; <span class="stringliteral">&quot; rtt=&quot;</span> &lt;&lt; SIMTIME_DBL(rtt)
           &lt;&lt; endl;
        <a class="code" href="classBasePastry.html#aced0a16861b41d5dcd623fe49b0ccefa">BasePastry::handleRequestRoutingRowResponse</a>(_RequestRoutingRowResponse);
        <span class="keywordflow">break</span>;
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d0fb0a879ca2c4f7b3cdd1444066ab5"></a><!-- doxytag: member="BasePastry::handleRpcTimeout" ref="a7d0fb0a879ca2c4f7b3cdd1444066ab5" args="(BaseCallMessage *call, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::handleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC timeout has been reached. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The original RPC message. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination node </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classBasePastry.html#a6bdf07238d36dc4fc8298e57632d78e5" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">destKey</td><td>the destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#aaaf9cd362481527ed995dd159aa96b73">RpcListener</a>.</p>

<p>Reimplemented in <a class="el" href="classPastry.html#aa8cb76965e9144823d6525b724668807">Pastry</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00524">524</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::handleRpcTimeout() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;    Timeout of RPC Call: id=&quot;</span> &lt;&lt; rpcId &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
       &lt;&lt; <span class="stringliteral">&quot;    msg=&quot;</span> &lt;&lt; *call &lt;&lt; <span class="stringliteral">&quot; key=&quot;</span> &lt;&lt; key
       &lt;&lt; endl;

    <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fa40c37f1f56c6ed8e40ae467e67e61cab">JOIN</a>) {
        <a class="code" href="classBaseOverlay.html#acb8855faa86247ae37ab894891d9f4dd" title="Join the overlay with a given nodeID.">join</a>();
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a> &amp;&amp; !dest.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>() &amp;&amp; key.isUnspecified()) {
        <a class="code" href="classBaseOverlay.html#aa53ca4e1b4720ba0d2874afe29eacbf7" title="Handles a failed node.">handleFailedNode</a>(dest);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1172a453b44856e2fdd7a027f0d03833"></a><!-- doxytag: member="BasePastry::handleStateMessage" ref="a1172a453b44856e2fdd7a027f0d03833" args="(PastryStateMessage *msg)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BasePastry::handleStateMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>processes state messages, merging with own state tables </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>the pastry state message </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classBamboo.html#af7e2ea2c6f6d654980310005a230f6a3">Bamboo</a>, and <a class="el" href="classPastry.html#a1dece33e7864cc0f823374daa28da6c9">Pastry</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00543">handleRequestLeafSetCall()</a>, <a class="el" href="BasePastry_8cc_source.html#l00634">handleRequestLeafSetResponse()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00649">handleRequestRoutingRowResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8d7ea4daf5bb613fefc62a4da602f2b"></a><!-- doxytag: member="BasePastry::isSiblingFor" ref="aa8d7ea4daf5bb613fefc62a4da602f2b" args="(const NodeHandle &amp;node, const OverlayKey &amp;key, int numSiblings, bool *err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BasePastry::isSiblingFor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSiblings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query if a node is among the siblings for a given key. </p>
<p>Query if a node is among the siblings for a given key. This means, that the nodeId of this node is among the closest numSiblings nodes to the key and that by a local <a class="el" href="classBasePastry.html#a3f8ba63e19c092f9ecf4d5ecb1817061" title="Implements the find node call.">findNode()</a> call all other siblings to this key can be retrieved.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>the <a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> </td></tr>
    <tr><td class="paramname">key</td><td>destination key </td></tr>
    <tr><td class="paramname">numSiblings</td><td>The nodes knows all numSiblings nodes close to this key </td></tr>
    <tr><td class="paramname">err</td><td>return false if the range could not be determined </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool true, if the node is responsible for the key. </dd></dl>

<p>Reimplemented from <a class="el" href="classBaseOverlay.html#ab5887b89ba9da5973068e834feb69ce7">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00742">742</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (key.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())
        <a class="code" href="yang_8cc.html#adb989392f8aada21b0f7ec2f7a41dc00">error</a>(<span class="stringliteral">&quot;Pastry::isSiblingFor(): key is unspecified!&quot;</span>);

    <span class="keywordflow">if</span> ((numSiblings == 1) &amp;&amp; (node == <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>)) {
        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#aa525adf4fc0334d812fbb70a50b78ca5" title="checks if we are the closest node to key destination in the overlay">isClosestNode</a>(key)) {
            *err = <span class="keyword">false</span>;
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        } <span class="keywordflow">else</span> {
            *err = <span class="keyword">false</span>;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }

    <a class="code" href="classBaseKeySortedVector.html" title="A STL-vector that supports inserts sorted by an OverlayKey found somewhere in the type...">NodeVector</a>* result =  <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a8e35d7891d1a32e48fce420555ff2b4d">createSiblingVector</a>(key, numSiblings);

    <span class="keywordflow">if</span> (result == NULL) {
        *err = <span class="keyword">true</span>;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="keywordflow">if</span> (result-&gt;<a class="code" href="classBaseKeySortedVector.html#a628db4e57ed6c70f8896926486ba1a87" title="Searches for an OverlayKey in NodeVector and returns true, if it is found.">contains</a>(node.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>())) {
        <span class="keyword">delete</span> result;
        *err = <span class="keyword">false</span>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    } <span class="keywordflow">else</span> {
        <span class="keyword">delete</span> result;
        *err = <span class="keyword">true</span>;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a49e37d403457478acc0d352904bf104d"></a><!-- doxytag: member="BasePastry::iterativeJoinHook" ref="a49e37d403457478acc0d352904bf104d" args="(BaseOverlayMessage *msg, bool incrHopCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BasePastry::iterativeJoinHook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseOverlayMessage.html">BaseOverlayMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>incrHopCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classPastry.html#ac202a93b3945381918d13b92060ff1da">Pastry</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00264">264</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>.</p>
<div class="fragment"><pre class="fragment">                                                      { };
</pre></div>
</div>
</div>
<a class="anchor" id="a71aa8137f8e2eaf0977a437d7d852189"></a><!-- doxytag: member="BasePastry::newLeafs" ref="a71aa8137f8e2eaf0977a437d7d852189" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::newLeafs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classPastry.html" title="Pastry overlay module.">Pastry</a> API: send <a class="el" href="classBasePastry.html#a71aa8137f8e2eaf0977a437d7d852189" title="Pastry API: send newLeafs() to application if enabled.">newLeafs()</a> to application if enabled. </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00258">258</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, and <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (! <a class="code" href="classBasePastry.html#ab8f4cd001646782d88dca94134ef0b20">enableNewLeafs</a>) <span class="keywordflow">return</span>;

    <a class="code" href="classPastryNewLeafsMessage.html" title="Class generated from overlay/pastry/PastryMessage.msg by opp_msgc.">PastryNewLeafsMessage</a>* msg = <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#a3d51346450731df0d955386d19f45f72" title="generates a newLeafs-message if LeafSet changed since last call to this method.">getNewLeafsMessage</a>();
    <span class="keywordflow">if</span> (msg) {
        send(msg, <span class="stringliteral">&quot;appOut&quot;</span>);
        EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::newLeafs() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    newLeafs() called.&quot;</span>
           &lt;&lt; endl;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a445a74a2791f810975bf99b4ff7d9865"></a><!-- doxytag: member="BasePastry::pingNodes" ref="a445a74a2791f810975bf99b4ff7d9865" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::pingNodes </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ping all nodes in the pastry state message pointed to by private member stateCache </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00369">369</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, and <a class="el" href="Pastry_8cc_source.html#l01410">Pastry::processState()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::pingNodes() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
       &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]&quot;</span> &lt;&lt; endl;

    <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a> == NULL) <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;no state msg&quot;</span>);

    assert(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a> == NULL);
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a> = <span class="keyword">new</span> <a class="code" href="structPastryStateMsgProximity.html" title="struct-type for temporary proximity metrics to a STATE message">PastryStateMsgProximity</a>();

    uint32_t rt_size = <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>-&gt;<a class="code" href="classPastryStateMessage.html#a2abf365a56348d30b99e9733c6905065">getRoutingTableArraySize</a>();
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.resize(rt_size, <a class="code" href="PastryTypes_8h.html#ac72c42e64b55779864ac448c6a71a0e2" title="value for undefined proximity:">PASTRY_PROX_UNDEF</a>);

    uint32_t ls_size = <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>-&gt;<a class="code" href="classPastryStateMessage.html#ad792f9b41aee54969504dee46452252c">getLeafSetArraySize</a>();
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.resize(ls_size, <a class="code" href="PastryTypes_8h.html#ac72c42e64b55779864ac448c6a71a0e2" title="value for undefined proximity:">PASTRY_PROX_UNDEF</a>);

    uint32_t ns_size = <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>-&gt;<a class="code" href="classPastryStateMessage.html#a88929cf3d5340cda73e6305c25714788">getNeighborhoodSetArraySize</a>();
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.resize(ns_size, <a class="code" href="PastryTypes_8h.html#ac72c42e64b55779864ac448c6a71a0e2" title="value for undefined proximity:">PASTRY_PROX_UNDEF</a>);

    <span class="comment">// set prox state</span>
    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; rt_size + ls_size + ns_size; i++) {
        <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>* node;
        std::vector&lt;simtime_t&gt;::iterator proxPos;
        PingContext* pingContext = NULL;
        <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7">StateObject</a> stateObject;
        uint32_t index;
        <span class="keywordflow">if</span> (<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a> == NULL) <span class="keywordflow">break</span>;
        <span class="keywordflow">if</span> (i &lt; rt_size) {
            node = &amp;(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>-&gt;<a class="code" href="classPastryStateMessage.html#a0e4a031d7e3a30bd94c3867d0862288e">getRoutingTable</a>(i));
            proxPos = <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.begin() + i;
            stateObject = <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7ade24a23c0404dd3ba4e22feb64fbdf3b">ROUTINGTABLE</a>;
            index = i;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( i &lt; (rt_size + ls_size) ) {
            node = &amp;(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>-&gt;<a class="code" href="classPastryStateMessage.html#a27c65fc289c9baa8121a8be1977839cd">getLeafSet</a>(i - rt_size));
            proxPos = <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.begin() + (i - rt_size);
            stateObject = <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a9d6e5a7d1d4f7208eb485c882b3bcaed">LEAFSET</a>;
            index = i - rt_size;
        } <span class="keywordflow">else</span> {
            node = &amp;(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>-&gt;<a class="code" href="classPastryStateMessage.html#a359b5a6fff11286993c16b9eec3da15a">getNeighborhoodSet</a>(i - rt_size - ls_size));
            proxPos = <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.begin() + (i - rt_size - ls_size);
            stateObject = <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a544fe8f97d7d893510ac4c658ec4faba">NEIGHBORHOODSET</a>;
            index = i - rt_size - ls_size;
        }
        <span class="comment">// proximity is undefined for unspecified nodes:</span>
        <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
            pingContext = <span class="keyword">new</span> PingContext(stateObject, index,
                                          <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#af0e150b4085e24920cc0499b6a7c589f">nonce</a>);

            <a class="code" href="structProx.html">Prox</a> prox = <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#ab934be8fb503f9629cf6eb83e7d1b576" title="Gets the proximity of a node.">getProx</a>(*node, <a class="code" href="NeighborCache_8h.html#ada3b7deab861ead8c817d583da336ccba751bede7ee708c74811f4bd49ee74cea">NEIGHBORCACHE_DEFAULT</a>,
                                               <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a55b9f4bfbf94d107e8228d1ea9ec95b4">PING_RECEIVED_STATE</a>,
                                               <span class="keyword">this</span>, pingContext);
            <span class="keywordflow">if</span> (prox == <a class="code" href="structProx.html#ae33fb924891e14e0161708bfadf8f033">Prox::PROX_SELF</a>) {
                *proxPos = 0;
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((prox == <a class="code" href="structProx.html#a5ded765f6344797ea0e9c35c85cd61af">Prox::PROX_TIMEOUT</a>) ||
                       (prox == <a class="code" href="structProx.html#aa7ac832a04fe61863222d8631526647b">Prox::PROX_UNKNOWN</a>)) {
                *proxPos = <a class="code" href="PastryTypes_8h.html#ac63315d5b1f74062305fa0ef8ad8c2f7" title="value for infinite proximity (ping timeout):">PASTRY_PROX_INFINITE</a>;
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prox == <a class="code" href="structProx.html#abf2f5f92914e5e617c5ef157ea5ffc86">Prox::PROX_WAITING</a>) {
                *proxPos = <a class="code" href="PastryTypes_8h.html#a095206927871324515b53a7e3417f4ea" title="value for not yet determined proximity value:">PASTRY_PROX_PENDING</a>;
            } <span class="keywordflow">else</span> {
                *proxPos = prox.<a class="code" href="structProx.html#aeb8eca3cac2c681c5e7f1060fcbd7b6f">proximity</a>;
            }
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Undefined node in STATE message!&quot;</span>);
        }
    }
    <a class="code" href="classBasePastry.html#a1062cac20a1fd1c5368157fe2da8b8fb" title="checks whether proxCache is complete, takes appropriate actions depending on the protocol state...">checkProxCache</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="af6a7090deb645b1f79b33edb0409485c"></a><!-- doxytag: member="BasePastry::prePing" ref="af6a7090deb645b1f79b33edb0409485c" args="(const PastryStateMessage *stateMsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::prePing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPastryStateMessage.html">PastryStateMessage</a> *&#160;</td>
          <td class="paramname"><em>stateMsg</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ping all nodes in a given state message. </p>
<p>this is called when a state message arrives while another one is still being processed. </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00342">342</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, and <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t rt_size = stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a2abf365a56348d30b99e9733c6905065">getRoutingTableArraySize</a>();
    uint32_t ls_size = stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#ad792f9b41aee54969504dee46452252c">getLeafSetArraySize</a>();
    uint32_t ns_size = stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a88929cf3d5340cda73e6305c25714788">getNeighborhoodSetArraySize</a>();

    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; rt_size + ls_size + ns_size; i++) {
        <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>* node;
        <span class="keywordflow">if</span> (i &lt; rt_size) {
            node = &amp;(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a0e4a031d7e3a30bd94c3867d0862288e">getRoutingTable</a>(i));
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i &lt; (rt_size + ls_size) ) {
            node = &amp;(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a27c65fc289c9baa8121a8be1977839cd">getLeafSet</a>(i - rt_size));
        }
        <span class="keywordflow">else</span> {
            node = &amp;(stateMsg-&gt;<a class="code" href="classPastryStateMessage.html#a359b5a6fff11286993c16b9eec3da15a">getNeighborhoodSet</a>(i - rt_size - ls_size));
        }
        <span class="keywordflow">if</span> ((node-&gt;<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) || (*node == <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>)) {
            <span class="keywordflow">continue</span>;
        }

        <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#ab934be8fb503f9629cf6eb83e7d1b576" title="Gets the proximity of a node.">getProx</a>(*node, <a class="code" href="NeighborCache_8h.html#ada3b7deab861ead8c817d583da336ccba751bede7ee708c74811f4bd49ee74cea">NEIGHBORCACHE_DEFAULT</a>,
                               <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8a55b9f4bfbf94d107e8228d1ea9ec95b4">PING_RECEIVED_STATE</a>, <span class="keyword">this</span>, NULL);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a62226300729854b429ae5d58c8d62ceb"></a><!-- doxytag: member="BasePastry::proxCallback" ref="a62226300729854b429ae5d58c8d62ceb" args="(const TransportAddress &amp;node, int rpcId, cPolymorphic *contextPointer, Prox prox)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::proxCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>contextPointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structProx.html">Prox</a>&#160;</td>
          <td class="paramname"><em>prox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classProxListener.html#a9bf3b6acf121217a24a44cc2accfeeb3">ProxListener</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00273">273</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;proxCallback()&quot;</span>);

    EV &lt;&lt; <span class="stringliteral">&quot;[BasePastry::proxCallback() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    Pong (or timeout) received (from &quot;</span>
           &lt;&lt; node.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>
           &lt;&lt; endl;

    <span class="keywordtype">double</span> rtt = ((prox == <a class="code" href="structProx.html#a5ded765f6344797ea0e9c35c85cd61af">Prox::PROX_TIMEOUT</a>) ? <a class="code" href="PastryTypes_8h.html#ac63315d5b1f74062305fa0ef8ad8c2f7" title="value for infinite proximity (ping timeout):">PASTRY_PROX_INFINITE</a>
                                               : prox.<a class="code" href="structProx.html#aeb8eca3cac2c681c5e7f1060fcbd7b6f">proximity</a>);

    <span class="comment">// merge single pinged nodes (bamboo global tuning)</span>
    <span class="keywordflow">if</span> (rpcId == <a class="code" href="classBasePastry.html#a26eda810c876c5062a849e9e0fb7e2b8aaab166e746fb925df8707610d92af824">PING_SINGLE_NODE</a>) {
        <a class="code" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">routingTable</a>-&gt;<a class="code" href="classPastryRoutingTable.html#a92eb6e9176f873cb0a7106ce6e97a53e" title="merge a node in the IRoutingTable">mergeNode</a>((<span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>&amp;)node,
                                <a class="code" href="classBasePastry.html#af6e8cefc3c62e666203cfedea1532f04">proximityNeighborSelection</a> ?
                                rtt : SimTime::getMaxTime());
        <span class="keyword">delete</span> contextPointer;
        <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (contextPointer != NULL &amp;&amp; <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a> &amp;&amp; <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>) {
        PingContext* pingContext = check_and_cast&lt;PingContext*&gt;(contextPointer);

        <span class="keywordflow">if</span> (pingContext-&gt;nonce != <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#af0e150b4085e24920cc0499b6a7c589f">nonce</a>) {
            <span class="keyword">delete</span> contextPointer;
            <span class="keywordflow">return</span>;
        }
        <span class="comment">// handle failed node</span>
        <span class="keywordflow">if</span> (rtt == <a class="code" href="PastryTypes_8h.html#ac63315d5b1f74062305fa0ef8ad8c2f7" title="value for infinite proximity (ping timeout):">PASTRY_PROX_INFINITE</a> &amp;&amp; <a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> == <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
            <a class="code" href="classBaseOverlay.html#aa53ca4e1b4720ba0d2874afe29eacbf7" title="Handles a failed node.">handleFailedNode</a>(node); <span class="comment">// TODO</span>
            <a class="code" href="classBasePastry.html#abc8da91d0187799f60bddb3ddab3e2f6" title="updates information shown in tk-environment">updateTooltip</a>();

            <span class="comment">// this could initiate a re-join, exit the handler in that</span>
            <span class="comment">// case because all local data was erased:</span>
            <span class="keywordflow">if</span> (<a class="code" href="classBaseOverlay.html#ab4be6d88417117fbf33a445d56af2655">state</a> != <a class="code" href="classBaseOverlay.html#a0ad4b12b0c9949661f66db7fbbf7d40fab3a263fb274a58d63b15cd61ba910335">READY</a>) {
                <span class="keyword">delete</span> contextPointer;
                <span class="keywordflow">return</span>;
            }
        }
        <span class="keywordflow">switch</span> (pingContext-&gt;stateObject) {
        <span class="keywordflow">case</span> <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7ade24a23c0404dd3ba4e22feb64fbdf3b">ROUTINGTABLE</a>:
            assert(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.size() &gt; pingContext-&gt;index);
            *(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#afc10e12f0e7f2806255ce8277ece0a62">pr_rt</a>.begin() + pingContext-&gt;index) = rtt;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a9d6e5a7d1d4f7208eb485c882b3bcaed">LEAFSET</a>:
            assert(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.size() &gt; pingContext-&gt;index);
            *(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#adbadfcad7fd962f6b3a12c003f873dfb">pr_ls</a>.begin() + pingContext-&gt;index) = rtt;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="classBasePastry.html#a310811835376494807a09cd0a8d52eb7a544fe8f97d7d893510ac4c658ec4faba">NEIGHBORHOODSET</a>:
            assert(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.size() &gt; pingContext-&gt;index);
            *(<a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>-&gt;<a class="code" href="structPastryStateMsgProximity.html#a564d4bd5da4adead22fc4ef02d9c1c91">pr_ns</a>.begin() + pingContext-&gt;index) = rtt;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">default</span>:
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;wrong state object type!&quot;</span>);
        }
        <a class="code" href="classBasePastry.html#a1062cac20a1fd1c5368157fe2da8b8fb" title="checks whether proxCache is complete, takes appropriate actions depending on the protocol state...">checkProxCache</a>();
    }

    assert(<a class="code" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70" title="Queue of state messages waiting to be processed in READY state.">stateCacheQueue</a>.size() &lt; 50);
    <span class="keyword">delete</span> contextPointer;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a72cdd5dde4fe7886068ebc35b4d96cea"></a><!-- doxytag: member="BasePastry::purgeVectors" ref="a72cdd5dde4fe7886068ebc35b4d96cea" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::purgeVectors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>delete all information/messages caching vectors, used for restarting overlay or <a class="el" href="classBaseOverlay.html#aed7e3f36b2c70cbdb0e6daa32925917c" title="collects statistical data">finish()</a> </p>

<p>Reimplemented in <a class="el" href="classPastry.html#a8899e17ebdaf922877b308b6e6408feb">Pastry</a>.</p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00041">41</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00808">~BasePastry()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// purge Queue for processing multiple STATE messages:</span>
    <span class="keywordflow">while</span> (! <a class="code" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70" title="Queue of state messages waiting to be processed in READY state.">stateCacheQueue</a>.empty()) {
        <span class="keyword">delete</span> <a class="code" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70" title="Queue of state messages waiting to be processed in READY state.">stateCacheQueue</a>.front().msg;
        <span class="keyword">delete</span> <a class="code" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70" title="Queue of state messages waiting to be processed in READY state.">stateCacheQueue</a>.front().prox;
        <a class="code" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70" title="Queue of state messages waiting to be processed in READY state.">stateCacheQueue</a>.pop();
    }

    <span class="comment">// delete cached state message:</span>
    <span class="keyword">delete</span> <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a>;
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#aecab9143d3bcf4e2d70272abbb74f428">msg</a> = NULL;
    <span class="keyword">delete</span> <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a>;
    <a class="code" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65" title="Handle for processing a single state message.">stateCache</a>.<a class="code" href="structPastryStateMsgHandle.html#a83106b985f989835e68654900708835b">prox</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abc8da91d0187799f60bddb3ddab3e2f6"></a><!-- doxytag: member="BasePastry::updateTooltip" ref="abc8da91d0187799f60bddb3ddab3e2f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BasePastry::updateTooltip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>updates information shown in tk-environment </p>

<p>Definition at line <a class="el" href="BasePastry_8cc_source.html#l00785">785</a> of file <a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00761">Pastry::doJoinUpdate()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00273">proxCallback()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (ev.isGUI()) {
        std::stringstream ttString;

        <span class="comment">// show our predecessor and successor in tooltip</span>
        ttString &lt;&lt; <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#aa6b310e05c4fd88e015092740665e98f" title="return predecessor node for visualizing">getPredecessor</a>() &lt;&lt; endl &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a> &lt;&lt; endl
                 &lt;&lt; <a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#ab613105c42c31ecf5b4353a213036b63" title="return successor node for visualizing">getSuccessor</a>();

        getParentModule()-&gt;getParentModule()-&gt;getDisplayString().
            setTagArg(<span class="stringliteral">&quot;tt&quot;</span>, 0, ttString.str().c_str());
        getParentModule()-&gt;getDisplayString().
            setTagArg(<span class="stringliteral">&quot;tt&quot;</span>, 0, ttString.str().c_str());
        getDisplayString().setTagArg(<span class="stringliteral">&quot;tt&quot;</span>, 0, ttString.str().c_str());

        <span class="comment">// draw arrows:</span>
        <a class="code" href="classTopologyVis.html#a4fe67c060004c8ca76658c7b41514a4a" title="Draws an arrow from this node to neighbor.">showOverlayNeighborArrow</a>(<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#ab613105c42c31ecf5b4353a213036b63" title="return successor node for visualizing">getSuccessor</a>(), <span class="keyword">true</span>,
                                 <span class="stringliteral">&quot;m=m,50,0,50,0;ls=red,1&quot;</span>);
        <a class="code" href="classTopologyVis.html#a4fe67c060004c8ca76658c7b41514a4a" title="Draws an arrow from this node to neighbor.">showOverlayNeighborArrow</a>(<a class="code" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">leafSet</a>-&gt;<a class="code" href="classPastryLeafSet.html#aa6b310e05c4fd88e015092740665e98f" title="return predecessor node for visualizing">getPredecessor</a>(), <span class="keyword">false</span>,
                                 <span class="stringliteral">&quot;m=m,50,100,50,100;ls=green,1&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a4bdc4f15ad57b31d9045a408f5e40478"></a><!-- doxytag: member="BasePastry::PastryLeafSet" ref="a4bdc4f15ad57b31d9045a408f5e40478" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classPastryLeafSet.html">PastryLeafSet</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00325">325</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a22e76d53e4ba89d63eca403923a46da8"></a><!-- doxytag: member="BasePastry::aliveTable" ref="a22e76d53e4ba89d63eca403923a46da8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPastryStateMsgProximity.html">PastryStateMsgProximity</a> <a class="el" href="classBasePastry.html#a22e76d53e4ba89d63eca403923a46da8">BasePastry::aliveTable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Early update of leaf set: helper structure for marking known-dead nodes. </p>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00227">227</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00438">determineAliveTable()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, and <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a26f8166e84753ec35921c7cff3ff10d9"></a><!-- doxytag: member="BasePastry::alwaysSendUpdate" ref="a26f8166e84753ec35921c7cff3ff10d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#a26f8166e84753ec35921c7cff3ff10d9">BasePastry::alwaysSendUpdate</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00197">197</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>.</p>

</div>
</div>
<a class="anchor" id="a80645aaa29443c4b7dc919d67fb7af81"></a><!-- doxytag: member="BasePastry::bitsPerDigit" ref="a80645aaa29443c4b7dc919d67fb7af81" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBasePastry.html#a80645aaa29443c4b7dc919d67fb7af81">BasePastry::bitsPerDigit</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00189">189</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="Bamboo_8cc_source.html#l00275">Bamboo::doGlobalTuning()</a>.</p>

</div>
</div>
<a class="anchor" id="af534020c5663e436cf28aa83a4a790c9"></a><!-- doxytag: member="BasePastry::bootstrapNode" ref="af534020c5663e436cf28aa83a4a790c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTransportAddress.html">TransportAddress</a> <a class="el" href="classBasePastry.html#af534020c5663e436cf28aa83a4a790c9">BasePastry::bootstrapNode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00209">209</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00072">Bamboo::joinOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00145">Pastry::joinOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f32c7f9ffc03f346052ac50321d1858"></a><!-- doxytag: member="BasePastry::closerNodeLookups" ref="a7f32c7f9ffc03f346052ac50321d1858" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a7f32c7f9ffc03f346052ac50321d1858">BasePastry::closerNodeLookups</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00128">128</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0deec6321f756622cacaba04d26cdbe"></a><!-- doxytag: member="BasePastry::closerNodeLookupsFromNeighborhood" ref="ad0deec6321f756622cacaba04d26cdbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#ad0deec6321f756622cacaba04d26cdbe">BasePastry::closerNodeLookupsFromNeighborhood</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00129">129</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8f4cd001646782d88dca94134ef0b20"></a><!-- doxytag: member="BasePastry::enableNewLeafs" ref="ab8f4cd001646782d88dca94134ef0b20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#ab8f4cd001646782d88dca94134ef0b20">BasePastry::enableNewLeafs</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00195">195</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00258">newLeafs()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2be7f6fc3c97b1d93f43f083cff6f6a"></a><!-- doxytag: member="BasePastry::joinBytesReceived" ref="ab2be7f6fc3c97b1d93f43f083cff6f6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#ab2be7f6fc3c97b1d93f43f083cff6f6a">BasePastry::joinBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00110">110</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a8fb058e1e4991c923faf29ae72832c05"></a><!-- doxytag: member="BasePastry::joinBytesSeen" ref="a8fb058e1e4991c923faf29ae72832c05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a8fb058e1e4991c923faf29ae72832c05">BasePastry::joinBytesSeen</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00108">108</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00696">Pastry::recursiveRoutingHook()</a>.</p>

</div>
</div>
<a class="anchor" id="a8bf579a017df30ccb1cf458a78a78f79"></a><!-- doxytag: member="BasePastry::joinBytesSent" ref="a8bf579a017df30ccb1cf458a78a78f79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a8bf579a017df30ccb1cf458a78a78f79">BasePastry::joinBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00112">112</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a96c4a089fd9c1b21d7eb9c34d93580"></a><!-- doxytag: member="BasePastry::joinHopCount" ref="a1a96c4a089fd9c1b21d7eb9c34d93580" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBasePastry.html#a1a96c4a089fd9c1b21d7eb9c34d93580">BasePastry::joinHopCount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00235">235</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>, and <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a805e366ae01f6857dcb0e4a78c7e79d6"></a><!-- doxytag: member="BasePastry::joinPartial" ref="a805e366ae01f6857dcb0e4a78c7e79d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a805e366ae01f6857dcb0e4a78c7e79d6">BasePastry::joinPartial</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00106">106</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d1f5f390900492fb714e0f420ded63a"></a><!-- doxytag: member="BasePastry::joinReceived" ref="a3d1f5f390900492fb714e0f420ded63a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a3d1f5f390900492fb714e0f420ded63a">BasePastry::joinReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00109">109</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>.</p>

</div>
</div>
<a class="anchor" id="acaa5d246e1e904b5196950d335673c94"></a><!-- doxytag: member="BasePastry::joins" ref="acaa5d246e1e904b5196950d335673c94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#acaa5d246e1e904b5196950d335673c94">BasePastry::joins</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00101">101</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="abfe72c7d75708d9e152375ecb708ce24"></a><!-- doxytag: member="BasePastry::joinSeen" ref="abfe72c7d75708d9e152375ecb708ce24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#abfe72c7d75708d9e152375ecb708ce24">BasePastry::joinSeen</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00107">107</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00729">Pastry::iterativeJoinHook()</a>, and <a class="el" href="Pastry_8cc_source.html#l00696">Pastry::recursiveRoutingHook()</a>.</p>

</div>
</div>
<a class="anchor" id="ae75ddd4630ea3004166c0283436af0e9"></a><!-- doxytag: member="BasePastry::joinSent" ref="ae75ddd4630ea3004166c0283436af0e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#ae75ddd4630ea3004166c0283436af0e9">BasePastry::joinSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00111">111</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a596fc6a02d7b78a6bf804d08cbf73844"></a><!-- doxytag: member="BasePastry::joinTimeoutAmount" ref="a596fc6a02d7b78a6bf804d08cbf73844" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classBasePastry.html#a596fc6a02d7b78a6bf804d08cbf73844">BasePastry::joinTimeoutAmount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00193">193</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a0adf4d1d02388eec7de8b4d0206f7f2e"></a><!-- doxytag: member="BasePastry::joinTries" ref="a0adf4d1d02388eec7de8b4d0206f7f2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a0adf4d1d02388eec7de8b4d0206f7f2e">BasePastry::joinTries</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00105">105</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a9375a2c0cdee0493f0ea7b4983825934"></a><!-- doxytag: member="BasePastry::joinUpdateWait" ref="a9375a2c0cdee0493f0ea7b4983825934" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classBasePastry.html#a9375a2c0cdee0493f0ea7b4983825934">BasePastry::joinUpdateWait</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00237">237</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00091">Pastry::initializeOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00039">Pastry::~Pastry()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c7b5c6e2d71db0c8233b80764e63dc6"></a><!-- doxytag: member="BasePastry::lastStateChange" ref="a6c7b5c6e2d71db0c8233b80764e63dc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classBasePastry.html#a6c7b5c6e2d71db0c8233b80764e63dc6">BasePastry::lastStateChange</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00212">212</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, and <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>.</p>

</div>
</div>
<a class="anchor" id="a5216e2031a761a9aeaae0d330b00b741"></a><!-- doxytag: member="BasePastry::leaf2ask" ref="a5216e2031a761a9aeaae0d330b00b741" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTransportAddress.html">TransportAddress</a>* <a class="el" href="classBasePastry.html#a5216e2031a761a9aeaae0d330b00b741">BasePastry::leaf2ask</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00207">207</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

</div>
</div>
<a class="anchor" id="a72c95d72afcded1185c628646e4f819c"></a><!-- doxytag: member="BasePastry::leafSet" ref="a72c95d72afcded1185c628646e4f819c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPastryLeafSet.html">PastryLeafSet</a>* <a class="el" href="classBasePastry.html#a72c95d72afcded1185c628646e4f819c">BasePastry::leafSet</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00240">240</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00664">createStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00202">Bamboo::doLeafsetMaintenance()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="BasePastry_8cc_source.html#l01103">estimateMeanDistance()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, <a class="el" href="BasePastry_8cc_source.html#l01068">getLeafSet()</a>, <a class="el" href="Bamboo_8cc_source.html#l00299">Bamboo::handleFailedNode()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, <a class="el" href="BasePastry_8cc_source.html#l00742">isSiblingFor()</a>, <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00258">newLeafs()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00785">updateTooltip()</a>.</p>

</div>
</div>
<a class="anchor" id="a9bdc81ede316e30996bbee5c73f6b472"></a><!-- doxytag: member="BasePastry::leafsetBytesReceived" ref="a9bdc81ede316e30996bbee5c73f6b472" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a9bdc81ede316e30996bbee5c73f6b472">BasePastry::leafsetBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00138">138</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00634">handleRequestLeafSetResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ac5815eec47ea1ec62a25e19dbaf806"></a><!-- doxytag: member="BasePastry::leafsetBytesSent" ref="a4ac5815eec47ea1ec62a25e19dbaf806" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a4ac5815eec47ea1ec62a25e19dbaf806">BasePastry::leafsetBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00136">136</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00543">handleRequestLeafSetCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a966f88cf985632e3e28ff482c5e5d0a2"></a><!-- doxytag: member="BasePastry::leafsetReceived" ref="a966f88cf985632e3e28ff482c5e5d0a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a966f88cf985632e3e28ff482c5e5d0a2">BasePastry::leafsetReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00137">137</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00634">handleRequestLeafSetResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="aa22c5ed0a7bbaf3b2b3ffd2276496251"></a><!-- doxytag: member="BasePastry::leafsetReqBytesReceived" ref="aa22c5ed0a7bbaf3b2b3ffd2276496251" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#aa22c5ed0a7bbaf3b2b3ffd2276496251">BasePastry::leafsetReqBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00134">134</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00543">handleRequestLeafSetCall()</a>.</p>

</div>
</div>
<a class="anchor" id="ab200043644da860d9d8c260fb6735053"></a><!-- doxytag: member="BasePastry::leafsetReqBytesSent" ref="ab200043644da860d9d8c260fb6735053" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#ab200043644da860d9d8c260fb6735053">BasePastry::leafsetReqBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00132">132</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00202">Bamboo::doLeafsetMaintenance()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a65d0531f806241a4f400613b1dd67384"></a><!-- doxytag: member="BasePastry::leafsetReqReceived" ref="a65d0531f806241a4f400613b1dd67384" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a65d0531f806241a4f400613b1dd67384">BasePastry::leafsetReqReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00133">133</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00543">handleRequestLeafSetCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a26cf01f1f60f7c76ec071d551d2bc77e"></a><!-- doxytag: member="BasePastry::leafsetReqSent" ref="a26cf01f1f60f7c76ec071d551d2bc77e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a26cf01f1f60f7c76ec071d551d2bc77e">BasePastry::leafsetReqSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00131">131</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00202">Bamboo::doLeafsetMaintenance()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c18e956472b6109d8b7f6951af550b5"></a><!-- doxytag: member="BasePastry::leafsetSent" ref="a4c18e956472b6109d8b7f6951af550b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a4c18e956472b6109d8b7f6951af550b5">BasePastry::leafsetSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00135">135</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00543">handleRequestLeafSetCall()</a>.</p>

</div>
</div>
<a class="anchor" id="af28427241a54155e6f9bf8539286ec9a"></a><!-- doxytag: member="BasePastry::nearNode" ref="af28427241a54155e6f9bf8539286ec9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTransportAddress.html">TransportAddress</a> <a class="el" href="classBasePastry.html#af28427241a54155e6f9bf8539286ec9a">BasePastry::nearNode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00210">210</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00145">Pastry::joinOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00232">Pastry::pingResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ac33dcce9d9a383a740d1227cff76aa"></a><!-- doxytag: member="BasePastry::nearNodeImproved" ref="a4ac33dcce9d9a383a740d1227cff76aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#a4ac33dcce9d9a383a740d1227cff76aa">BasePastry::nearNodeImproved</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00203">203</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00654">Pastry::handleRequestRoutingRowResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, and <a class="el" href="Pastry_8cc_source.html#l00232">Pastry::pingResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a715b166d2b3b397e047908f52f354be7"></a><!-- doxytag: member="BasePastry::nearNodeRtt" ref="a715b166d2b3b397e047908f52f354be7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classBasePastry.html#a715b166d2b3b397e047908f52f354be7">BasePastry::nearNodeRtt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00201">201</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, and <a class="el" href="Pastry_8cc_source.html#l00232">Pastry::pingResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a66df35d5ace03485bf20db2d2899a98f"></a><!-- doxytag: member="BasePastry::neighborhoodSet" ref="a66df35d5ace03485bf20db2d2899a98f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPastryNeighborhoodSet.html">PastryNeighborhoodSet</a>* <a class="el" href="classBasePastry.html#a66df35d5ace03485bf20db2d2899a98f">BasePastry::neighborhoodSet</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00241">241</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="BasePastry_8cc_source.html#l00664">createStateMessage()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, <a class="el" href="Bamboo_8cc_source.html#l00299">Bamboo::handleFailedNode()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, and <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>.</p>

</div>
</div>
<a class="anchor" id="ac57a5211053260e898b18c252c293581"></a><!-- doxytag: member="BasePastry::numberOfLeaves" ref="ac57a5211053260e898b18c252c293581" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBasePastry.html#ac57a5211053260e898b18c252c293581">BasePastry::numberOfLeaves</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00190">190</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00900">getMaxNumRedundantNodes()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00894">getMaxNumSiblings()</a>.</p>

</div>
</div>
<a class="anchor" id="ace44a714008e5a5c1f373b7068396721"></a><!-- doxytag: member="BasePastry::numberOfNeighbors" ref="ace44a714008e5a5c1f373b7068396721" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBasePastry.html#ace44a714008e5a5c1f373b7068396721">BasePastry::numberOfNeighbors</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00191">191</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a12816a6716823ebb8d4bcfe4d4667051"></a><!-- doxytag: member="BasePastry::optimizeLookup" ref="a12816a6716823ebb8d4bcfe4d4667051" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#a12816a6716823ebb8d4bcfe4d4667051">BasePastry::optimizeLookup</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00198">198</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bc59be1790c50873fb64c0e20bd047a"></a><!-- doxytag: member="BasePastry::periodicMaintenance" ref="a3bc59be1790c50873fb64c0e20bd047a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#a3bc59be1790c50873fb64c0e20bd047a">BasePastry::periodicMaintenance</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00205">205</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

</div>
</div>
<a class="anchor" id="af6e8cefc3c62e666203cfedea1532f04"></a><!-- doxytag: member="BasePastry::proximityNeighborSelection" ref="af6e8cefc3c62e666203cfedea1532f04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#af6e8cefc3c62e666203cfedea1532f04">BasePastry::proximityNeighborSelection</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00199">199</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00455">Bamboo::lookupFinished()</a>, <a class="el" href="Pastry_8cc_source.html#l01410">Pastry::processState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00273">proxCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="a87b449a72607334387c2aa3a5d7673b2"></a><!-- doxytag: member="BasePastry::readyWait" ref="a87b449a72607334387c2aa3a5d7673b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classBasePastry.html#a87b449a72607334387c2aa3a5d7673b2">BasePastry::readyWait</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00236">236</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00091">Pastry::initializeOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00039">Pastry::~Pastry()</a>.</p>

</div>
</div>
<a class="anchor" id="a98b0c284102cd5f1fc78558937b9b19f"></a><!-- doxytag: member="BasePastry::readyWaitAmount" ref="a98b0c284102cd5f1fc78558937b9b19f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classBasePastry.html#a98b0c284102cd5f1fc78558937b9b19f">BasePastry::readyWaitAmount</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00192">192</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, and <a class="el" href="Pastry_8cc_source.html#l00091">Pastry::initializeOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="aee11180f103683fc2a55d4c8958078d0"></a><!-- doxytag: member="BasePastry::repairReqBytesReceived" ref="aee11180f103683fc2a55d4c8958078d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#aee11180f103683fc2a55d4c8958078d0">BasePastry::repairReqBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00120">120</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f02a29e59ff2af5c7af5b3a764e711a"></a><!-- doxytag: member="BasePastry::repairReqBytesSent" ref="a9f02a29e59ff2af5c7af5b3a764e711a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a9f02a29e59ff2af5c7af5b3a764e711a">BasePastry::repairReqBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00118">118</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, and <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a7dcde1eb4abe361da782106038325c04"></a><!-- doxytag: member="BasePastry::repairReqReceived" ref="a7dcde1eb4abe361da782106038325c04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a7dcde1eb4abe361da782106038325c04">BasePastry::repairReqReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00119">119</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f05d5cba3283f9b1dd421b036959aff"></a><!-- doxytag: member="BasePastry::repairReqSent" ref="a5f05d5cba3283f9b1dd421b036959aff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a5f05d5cba3283f9b1dd421b036959aff">BasePastry::repairReqSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00117">117</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, and <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6d47b84748ac654eb8777abea92c984"></a><!-- doxytag: member="BasePastry::repairTimeout" ref="aa6d47b84748ac654eb8777abea92c984" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classBasePastry.html#aa6d47b84748ac654eb8777abea92c984">BasePastry::repairTimeout</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00194">194</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ac765a923e7799daa443a1f4e1133bd01"></a><!-- doxytag: member="BasePastry::responsibleLookups" ref="ac765a923e7799daa443a1f4e1133bd01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#ac765a923e7799daa443a1f4e1133bd01">BasePastry::responsibleLookups</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00126">126</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a759c548b4bb1cb4f92b3a4b369cc8d02"></a><!-- doxytag: member="BasePastry::routingTable" ref="a759c548b4bb1cb4f92b3a4b369cc8d02" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPastryRoutingTable.html">PastryRoutingTable</a>* <a class="el" href="classBasePastry.html#a759c548b4bb1cb4f92b3a4b369cc8d02">BasePastry::routingTable</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00239">239</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="BasePastry_8cc_source.html#l00664">createStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00250">Bamboo::doLocalTuning()</a>, <a class="el" href="Pastry_8cc_source.html#l00859">Pastry::doRoutingTableMaintenance()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, <a class="el" href="Bamboo_8cc_source.html#l00224">Bamboo::getNextRowToMaintain()</a>, <a class="el" href="BasePastry_8cc_source.html#l01056">getRTLastRow()</a>, <a class="el" href="BasePastry_8cc_source.html#l01062">getRTRow()</a>, <a class="el" href="Bamboo_8cc_source.html#l00299">Bamboo::handleFailedNode()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, <a class="el" href="BasePastry_8cc_source.html#l00591">handleRequestRoutingRowCall()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00455">Bamboo::lookupFinished()</a>, <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00273">proxCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="a42d36fb42f20de058871d74b8acd7b4c"></a><!-- doxytag: member="BasePastry::routingTableLookups" ref="a42d36fb42f20de058871d74b8acd7b4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a42d36fb42f20de058871d74b8acd7b4c">BasePastry::routingTableLookups</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00127">127</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a3df3dfb8b7c88b1c8f9c932b07d5a2"></a><!-- doxytag: member="BasePastry::routingTableRowBytesReceived" ref="a7a3df3dfb8b7c88b1c8f9c932b07d5a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a7a3df3dfb8b7c88b1c8f9c932b07d5a2">BasePastry::routingTableRowBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00147">147</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00649">handleRequestRoutingRowResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a839babe908f65ab34cbf4ee20c336c9a"></a><!-- doxytag: member="BasePastry::routingTableRowBytesSent" ref="a839babe908f65ab34cbf4ee20c336c9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a839babe908f65ab34cbf4ee20c336c9a">BasePastry::routingTableRowBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00145">145</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00591">handleRequestRoutingRowCall()</a>.</p>

</div>
</div>
<a class="anchor" id="ad18d4e40c560e1b08c2c6c0742f68767"></a><!-- doxytag: member="BasePastry::routingTableRowReceived" ref="ad18d4e40c560e1b08c2c6c0742f68767" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#ad18d4e40c560e1b08c2c6c0742f68767">BasePastry::routingTableRowReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00146">146</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00649">handleRequestRoutingRowResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fbc52bcec92ed5021c9ae14cecafafc"></a><!-- doxytag: member="BasePastry::routingTableRowReqBytesReceived" ref="a2fbc52bcec92ed5021c9ae14cecafafc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a2fbc52bcec92ed5021c9ae14cecafafc">BasePastry::routingTableRowReqBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00143">143</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00591">handleRequestRoutingRowCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a836e8dcea673d81c8e2a68500becd084"></a><!-- doxytag: member="BasePastry::routingTableRowReqBytesSent" ref="a836e8dcea673d81c8e2a68500becd084" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a836e8dcea673d81c8e2a68500becd084">BasePastry::routingTableRowReqBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00141">141</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00250">Bamboo::doLocalTuning()</a>, <a class="el" href="Pastry_8cc_source.html#l00859">Pastry::doRoutingTableMaintenance()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a8056c04c21aae9fa4a4041edbdb19001"></a><!-- doxytag: member="BasePastry::routingTableRowReqReceived" ref="a8056c04c21aae9fa4a4041edbdb19001" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a8056c04c21aae9fa4a4041edbdb19001">BasePastry::routingTableRowReqReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00142">142</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00591">handleRequestRoutingRowCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a1785687d9560edfe30d6b4f8d5c31f"></a><!-- doxytag: member="BasePastry::routingTableRowReqSent" ref="a1a1785687d9560edfe30d6b4f8d5c31f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a1a1785687d9560edfe30d6b4f8d5c31f">BasePastry::routingTableRowReqSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00140">140</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00250">Bamboo::doLocalTuning()</a>, <a class="el" href="Pastry_8cc_source.html#l00859">Pastry::doRoutingTableMaintenance()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f02096e0a73b1f56dcdf8930b5404a8"></a><!-- doxytag: member="BasePastry::routingTableRowSent" ref="a5f02096e0a73b1f56dcdf8930b5404a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a5f02096e0a73b1f56dcdf8930b5404a8">BasePastry::routingTableRowSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00144">144</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00591">handleRequestRoutingRowCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a8783f5db146cf00be3a347e92c36505e"></a><!-- doxytag: member="BasePastry::stateBytesReceived" ref="a8783f5db146cf00be3a347e92c36505e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a8783f5db146cf00be3a347e92c36505e">BasePastry::stateBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00116">116</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00594">Pastry::handlePastryJoinResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00504">Pastry::handleRequestRepairResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00608">Pastry::handleRequestStateResponse()</a>, and <a class="el" href="Pastry_8cc_source.html#l00339">Pastry::handleUDPMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a43218c86ea28a36b14f76b54b2ccea07"></a><!-- doxytag: member="BasePastry::stateBytesSent" ref="a43218c86ea28a36b14f76b54b2ccea07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a43218c86ea28a36b14f76b54b2ccea07">BasePastry::stateBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00114">114</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00761">Pastry::doJoinUpdate()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00729">Pastry::iterativeJoinHook()</a>, and <a class="el" href="Pastry_8cc_source.html#l00696">Pastry::recursiveRoutingHook()</a>.</p>

</div>
</div>
<a class="anchor" id="a70d78d4ebef74ab2367fed00f77b2d65"></a><!-- doxytag: member="BasePastry::stateCache" ref="a70d78d4ebef74ab2367fed00f77b2d65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPastryStateMsgHandle.html">PastryStateMsgHandle</a> <a class="el" href="classBasePastry.html#a70d78d4ebef74ab2367fed00f77b2d65">BasePastry::stateCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle for processing a single state message. </p>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00217">217</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00052">Pastry::clearVectors()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00369">pingNodes()</a>, <a class="el" href="Pastry_8cc_source.html#l01410">Pastry::processState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00273">proxCallback()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00041">purgeVectors()</a>.</p>

</div>
</div>
<a class="anchor" id="a763ec48a49b047252ea3d758b335df70"></a><!-- doxytag: member="BasePastry::stateCacheQueue" ref="a763ec48a49b047252ea3d758b335df70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;<a class="el" href="structPastryStateMsgHandle.html">PastryStateMsgHandle</a>&gt; <a class="el" href="classBasePastry.html#a763ec48a49b047252ea3d758b335df70">BasePastry::stateCacheQueue</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queue of state messages waiting to be processed in READY state. </p>

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00222">222</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="Bamboo_8cc_source.html#l00323">Bamboo::checkProxCache()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, <a class="el" href="BasePastry_8cc_source.html#l00273">proxCallback()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00041">purgeVectors()</a>.</p>

</div>
</div>
<a class="anchor" id="a26fa765c1f23635923477bc300637c4f"></a><!-- doxytag: member="BasePastry::stateReceived" ref="a26fa765c1f23635923477bc300637c4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a26fa765c1f23635923477bc300637c4f">BasePastry::stateReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00115">115</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00594">Pastry::handlePastryJoinResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00504">Pastry::handleRequestRepairResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00608">Pastry::handleRequestStateResponse()</a>, and <a class="el" href="Pastry_8cc_source.html#l00339">Pastry::handleUDPMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="adca8e0ca12a6dbbaee7dc5884845ddce"></a><!-- doxytag: member="BasePastry::stateReqBytesReceived" ref="adca8e0ca12a6dbbaee7dc5884845ddce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#adca8e0ca12a6dbbaee7dc5884845ddce">BasePastry::stateReqBytesReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00124">124</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a79163b2c9ee6767a5844c10b3a273af2"></a><!-- doxytag: member="BasePastry::stateReqBytesSent" ref="a79163b2c9ee6767a5844c10b3a273af2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a79163b2c9ee6767a5844c10b3a273af2">BasePastry::stateReqBytesSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00122">122</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a727d8089dc7486f5f835ec427554c9b2"></a><!-- doxytag: member="BasePastry::stateReqReceived" ref="a727d8089dc7486f5f835ec427554c9b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a727d8089dc7486f5f835ec427554c9b2">BasePastry::stateReqReceived</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00123">123</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, and <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>.</p>

</div>
</div>
<a class="anchor" id="addc36312daa0ac4c85e4e8d77ee17ae5"></a><!-- doxytag: member="BasePastry::stateReqSent" ref="addc36312daa0ac4c85e4e8d77ee17ae5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#addc36312daa0ac4c85e4e8d77ee17ae5">BasePastry::stateReqSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00121">121</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="aadec419a4c2560717f1db3e36866b837"></a><!-- doxytag: member="BasePastry::stateSent" ref="aadec419a4c2560717f1db3e36866b837" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#aadec419a4c2560717f1db3e36866b837">BasePastry::stateSent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00113">113</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="Pastry_8cc_source.html#l00761">Pastry::doJoinUpdate()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>, <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00729">Pastry::iterativeJoinHook()</a>, and <a class="el" href="Pastry_8cc_source.html#l00696">Pastry::recursiveRoutingHook()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fc77f87e2df109185d47c249886f176"></a><!-- doxytag: member="BasePastry::totalLookups" ref="a9fc77f87e2df109185d47c249886f176" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBasePastry.html#a9fc77f87e2df109185d47c249886f176">BasePastry::totalLookups</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00125">125</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00813">finishOverlay()</a>.</p>

</div>
</div>
<a class="anchor" id="a893a9f746f708dc4c66b5195e04a2f56"></a><!-- doxytag: member="BasePastry::useRegularNextHop" ref="a893a9f746f708dc4c66b5195e04a2f56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBasePastry.html#a893a9f746f708dc4c66b5195e04a2f56">BasePastry::useRegularNextHop</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BasePastry_8h_source.html#l00196">196</a> of file <a class="el" href="BasePastry_8h_source.html">BasePastry.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">baseInit()</a>, and <a class="el" href="BasePastry_8cc_source.html#l00906">findNode()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BasePastry_8h_source.html">BasePastry.h</a></li>
<li><a class="el" href="BasePastry_8cc_source.html">BasePastry.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classBasePastry.html">BasePastry</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:39 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
