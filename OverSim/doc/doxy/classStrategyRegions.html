<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: StrategyRegions Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classStrategyRegions.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">StrategyRegions Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="StrategyRegions" --><!-- doxytag: inherits="AbstractSendStrategy" -->
<p><code>#include &lt;<a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for StrategyRegions:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classStrategyRegions.png" usemap="#StrategyRegions_map" alt=""/>
  <map id="StrategyRegions_map" name="StrategyRegions_map">
<area href="classAbstractSendStrategy.html" alt="AbstractSendStrategy" shape="rect" coords="0,0,135,24"/>
</map>
 </div></div>

<p><a href="classStrategyRegions-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a38bafe4e42c82161c6ec4b26467fa533">StrategyRegions</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">.cc  <a href="#a38bafe4e42c82161c6ec4b26467fa533"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a2fe9b5007170d534e53b4d031945c6df">~StrategyRegions</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classGlobalViewBuilderCall.html">GlobalViewBuilderCall</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#aa1a9dbe32752167c880aac701abc2255">getCoordinateMessage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a456edbd7da2b20e439389aec1d29353d">handleCoordinateRpcCall</a> (<a class="el" href="classGlobalViewBuilderCall.html">GlobalViewBuilderCall</a> *globalViewBuilderCall)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a217ab800128352bce127fc7ff4bcbbad">getStrategyDataStatus</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return a short status of the running send strategy  <a href="#a217ab800128352bce127fc7ff4bcbbad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector<br class="typebreak"/>
&lt; std::vector&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#aad00ac8941861a29165fe1298b185058">getGlobalViewData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return the decodes global View Data  <a href="#aad00ac8941861a29165fe1298b185058"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#ae7b167d1b3cbd355f75214aab408272a">setMyCoordinates</a> (const <a class="el" href="classAbstractNcsNodeInfo.html">AbstractNcsNodeInfo</a> &amp;ncsInfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#af730cc436bba74c64808030955ac48f1">cleanUpCoordData</a> (const <a class="el" href="TreeManagement_8h.html#ae5fdca572efd0610e98a2d32d96f6f73">treeNodeMap</a> &amp;currentTreeChildNodes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">cleanup the coordinate map and remove data of nodes which are not longer in the branch  <a href="#af730cc436bba74c64808030955ac48f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#aa6bb1b50d476f55a1fb490c4de951842">getStrategyCombinedParams</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return a string of the currently used strategy params  <a href="#aa6bb1b50d476f55a1fb490c4de951842"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a5c29edaa208153bebb13647e0bce751e">debugRegionData</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; long &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#ac2f52ce7989ffcc1bfd99c3950af0ca7">regionVector</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The regionVector is a vector of integer values, each value represents a coordinate vector.  <a href="#ac2f52ce7989ffcc1bfd99c3950af0ca7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::pair<br class="typebreak"/>
&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a>, <br class="typebreak"/>
<a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a743aa45d3806112f22b20590dc3c66c8">nodeRegionData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef UNORDERED_MAP<br class="typebreak"/>
&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a>, <br class="typebreak"/>
<a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a>, <br class="typebreak"/>
<a class="el" href="classTransportAddress_1_1hashFcn.html">TransportAddress::hashFcn</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a164f0f354a9c3e14f8aa95dc8d06db9e">branchRegionDataMap</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#ae2249b1670f18f7ef724e27ceb216980">convertCoordVectorToRegion</a> (std::vector&lt; double &gt; coordVector)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">convert a vector of doubles (=dimensions) to a single integer  <a href="#ae2249b1670f18f7ef724e27ceb216980"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a7e44c9ea822a2a8799fac4265e9452fc">convertRegionToCoordVector</a> (int region, int dimCount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">convert the region ID to a vector of doubles  <a href="#a7e44c9ea822a2a8799fac4265e9452fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#ad625a0c5ade8b70e95978b17f9cf05b9">getCombinedRegionsMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a066ee9e78fc99d6eba00e9944f238579">setBranchCoordinates</a> (const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;node, <a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a> countMap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set the regions delivered by a child to our regionCountMap  <a href="#a066ee9e78fc99d6eba00e9944f238579"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a2d99fb7c56c18ed4c73a1dc21850a71b">getSizePerDim</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a6effa104dfbab110172cc21d68f4dfc4">getMaxSpread</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#a0ae4eb25c611df36a4cee7c81ab12f04">checkMaxSpread</a> (double dimValue)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStrategyRegions.html#a164f0f354a9c3e14f8aa95dc8d06db9e">branchRegionDataMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="StrategyRegions_8h_source.html#l00037">37</a> of file <a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a164f0f354a9c3e14f8aa95dc8d06db9e"></a><!-- doxytag: member="StrategyRegions::branchRegionDataMap" ref="a164f0f354a9c3e14f8aa95dc8d06db9e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef UNORDERED_MAP&lt;<a class="el" href="classTransportAddress.html">TransportAddress</a>, <a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a>, <a class="el" href="classTransportAddress_1_1hashFcn.html">TransportAddress::hashFcn</a>&gt; <a class="el" href="classStrategyRegions.html#a164f0f354a9c3e14f8aa95dc8d06db9e">StrategyRegions::branchRegionDataMap</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8h_source.html#l00064">64</a> of file <a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a>.</p>

</div>
</div>
<a class="anchor" id="a743aa45d3806112f22b20590dc3c66c8"></a><!-- doxytag: member="StrategyRegions::nodeRegionData" ref="a743aa45d3806112f22b20590dc3c66c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;<a class="el" href="classTransportAddress.html">TransportAddress</a>, <a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a> &gt; <a class="el" href="classStrategyRegions.html#a743aa45d3806112f22b20590dc3c66c8">StrategyRegions::nodeRegionData</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8h_source.html#l00063">63</a> of file <a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2f52ce7989ffcc1bfd99c3950af0ca7"></a><!-- doxytag: member="StrategyRegions::regionVector" ref="ac2f52ce7989ffcc1bfd99c3950af0ca7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;long&gt; <a class="el" href="classStrategyRegions.html#ac2f52ce7989ffcc1bfd99c3950af0ca7">StrategyRegions::regionVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The regionVector is a vector of integer values, each value represents a coordinate vector. </p>

<p>Definition at line <a class="el" href="StrategyRegions_8h_source.html#l00061">61</a> of file <a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a38bafe4e42c82161c6ec4b26467fa533"></a><!-- doxytag: member="StrategyRegions::StrategyRegions" ref="a38bafe4e42c82161c6ec4b26467fa533" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StrategyRegions::StrategyRegions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>.cc </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Daniel Lienert </dd></dl>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00029">29</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; StrategyRegions::StrategyRegions (Using Send Strategy &#39;Regions&#39;) &lt;||&quot;</span> &lt;&lt; endl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2fe9b5007170d534e53b4d031945c6df"></a><!-- doxytag: member="StrategyRegions::~StrategyRegions" ref="a2fe9b5007170d534e53b4d031945c6df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StrategyRegions::~StrategyRegions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00035">35</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// TODO Auto-generated destructor stub</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0ae4eb25c611df36a4cee7c81ab12f04"></a><!-- doxytag: member="StrategyRegions::checkMaxSpread" ref="a0ae4eb25c611df36a4cee7c81ab12f04" args="(double dimValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double StrategyRegions::checkMaxSpread </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dimValue</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00172">172</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00193">convertCoordVectorToRegion()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">double</span> maxSpread = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code" href="classStrategyRegions.html#a6effa104dfbab110172cc21d68f4dfc4">getMaxSpread</a>());

    <span class="keywordflow">if</span>(dimValue &lt; 0.0) {
        <span class="keywordflow">if</span>(dimValue &gt; (maxSpread * -1.0)) {
            <span class="keywordflow">return</span> dimValue;
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">return</span> (maxSpread * -1.0);
        }

    } <span class="keywordflow">else</span> {
        <span class="keywordflow">if</span>(dimValue &lt; maxSpread) {
            <span class="keywordflow">return</span> dimValue;
        } <span class="keywordflow">else</span> {
            <span class="keywordflow">return</span> maxSpread;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af730cc436bba74c64808030955ac48f1"></a><!-- doxytag: member="StrategyRegions::cleanUpCoordData" ref="af730cc436bba74c64808030955ac48f1" args="(const treeNodeMap &amp;currentTreeChildNodes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StrategyRegions::cleanUpCoordData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="TreeManagement_8h.html#ae5fdca572efd0610e98a2d32d96f6f73">treeNodeMap</a> &amp;&#160;</td>
          <td class="paramname"><em>currentTreeChildNodes</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>cleanup the coordinate map and remove data of nodes which are not longer in the branch </p>

<p>Reimplemented from <a class="el" href="classAbstractSendStrategy.html#a085687ebc156f6c21a4346246a5e6780">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00290">290</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    branchRegionDataMap::const_iterator regionDataMapIterator =
        <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.begin();

    <span class="keywordflow">if</span> (regionDataMapIterator == <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.end()) <span class="keywordflow">return</span>;

    <span class="keywordflow">do</span> {
        <span class="keywordflow">if</span> (currentTreeChildNodes.find(regionDataMapIterator-&gt;first) ==
                currentTreeChildNodes.end() &amp;&amp;
            regionDataMapIterator-&gt;first != <a class="code" href="classAbstractSendStrategy.html#aadc1c96695f6e2fde6bd3f2a8903953c">thisNode</a>) {
            regionDataMapIterator = <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.erase(regionDataMapIterator);
            <span class="comment">//assert(regionDataMapIterator != regionData.end());</span>
        } <span class="keywordflow">else</span> ++regionDataMapIterator;
    } <span class="keywordflow">while</span> (regionDataMapIterator != <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.end());
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae2249b1670f18f7ef724e27ceb216980"></a><!-- doxytag: member="StrategyRegions::convertCoordVectorToRegion" ref="ae2249b1670f18f7ef724e27ceb216980" args="(std::vector&lt; double &gt; coordVector)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long StrategyRegions::convertCoordVectorToRegion </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>coordVector</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>convert a vector of doubles (=dimensions) to a single integer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">std::vector&lt;double&gt;</td><td>coordVector </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>long region ID </dd></dl>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00193">193</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00152">setMyCoordinates()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> sizePerDim = <a class="code" href="classStrategyRegions.html#a2d99fb7c56c18ed4c73a1dc21850a71b">getSizePerDim</a>();
    <span class="keywordtype">int</span> rangeShift = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span> (sizePerDim / 2);
    <span class="keywordtype">int</span> maxSpread = <a class="code" href="classStrategyRegions.html#a6effa104dfbab110172cc21d68f4dfc4">getMaxSpread</a>();

    <span class="keywordtype">long</span> region = 0;
    <span class="keywordtype">int</span> currentDimension = 0;

    <span class="keywordflow">for</span>(Coords::iterator coordIt = coordVector.begin();
        coordIt &lt; coordVector.end(); coordIt++) {
        <span class="comment">// normalize to coordSize</span>
        <span class="keywordtype">double</span> coordNormalized = ((<a class="code" href="classStrategyRegions.html#a0ae4eb25c611df36a4cee7c81ab12f04">checkMaxSpread</a>(*coordIt) /
                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(maxSpread)) *
                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(rangeShift));

        <span class="comment">// round normalized coords</span>
        <span class="keywordflow">if</span> (coordNormalized &gt; 0) coordNormalized += .5;
        <span class="keywordflow">else</span> coordNormalized -= .5;

        <span class="comment">// shift coords</span>
        <span class="keywordtype">int</span> coordNormAndShifted = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(coordNormalized) +
                                  rangeShift;

        <span class="comment">//std::cout &lt;&lt; coordNormalized &lt;&lt; &quot; &quot; &lt;&lt; coordNormAndShifted &lt;&lt; std::endl;</span>

        <span class="comment">// TODO special case (wrong rounding?)</span>
        <span class="keywordflow">if</span> (coordNormAndShifted == pow(sizePerDim , currentDimension))
            coordNormAndShifted -= 1;

        <span class="comment">// calc region number</span>
        region += coordNormAndShifted * pow(sizePerDim , currentDimension);

        currentDimension++;
    }

    <span class="comment">//test</span>
    <span class="comment">/*</span>
<span class="comment">    Coords tmpConvertBack = convertRegionToCoordVector(region, coordVector.size());</span>
<span class="comment">    std::cout &lt;&lt; coordVector &lt;&lt; &quot; &quot; &lt;&lt; tmpConvertBack &lt;&lt; std::endl;</span>
<span class="comment">     */</span>

    <span class="keywordflow">return</span> region;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7e44c9ea822a2a8799fac4265e9452fc"></a><!-- doxytag: member="StrategyRegions::convertRegionToCoordVector" ref="a7e44c9ea822a2a8799fac4265e9452fc" args="(int region, int dimCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; double &gt; StrategyRegions::convertRegionToCoordVector </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dimCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>convert the region ID to a vector of doubles </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>region </td></tr>
    <tr><td class="paramname">int</td><td>dimCount count of dimension of the original coordVector </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>std::vector&lt;double&gt; coordVector </dd></dl>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00239">239</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00120">getGlobalViewData()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> sizePerDim = <a class="code" href="classStrategyRegions.html#a2d99fb7c56c18ed4c73a1dc21850a71b">getSizePerDim</a>();
    <span class="keywordtype">int</span> maxSpread = <a class="code" href="classStrategyRegions.html#a6effa104dfbab110172cc21d68f4dfc4">getMaxSpread</a>();
    <span class="keywordtype">int</span> rangeShift = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span> (sizePerDim / 2);

    std::vector&lt;double&gt; rCoordVector; <span class="comment">// reverse Vector</span>
    std::vector&lt;double&gt; CoordVector;

    <span class="keywordtype">int</span> normDim = 0;
    <span class="keywordtype">int</span> dimShifted = 0;
    <span class="keywordtype">int</span> subRegionSize = 0;
    <span class="keywordtype">double</span> tmpDimension;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> curDim = dimCount; curDim &gt;= 1; curDim--) {
        subRegionSize = pow(sizePerDim, (curDim - 1));
        dimShifted = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(region / subRegionSize);
        normDim = dimShifted - rangeShift;
        region -= subRegionSize * dimShifted;
        tmpDimension = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(normDim) /
                        static_cast&lt;double&gt;(rangeShift)) *
                        static_cast&lt;double&gt;(maxSpread);
        rCoordVector.push_back(tmpDimension);
    }

    <span class="comment">// reverse vector</span>
    std::vector&lt;double&gt;::iterator vectorIterator;
    <span class="keywordflow">for</span>(vectorIterator = rCoordVector.end();
        vectorIterator &gt; rCoordVector.begin(); vectorIterator--) {
        CoordVector.push_back((*(vectorIterator-1)));
    }

    <span class="keywordflow">return</span> CoordVector;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5c29edaa208153bebb13647e0bce751e"></a><!-- doxytag: member="StrategyRegions::debugRegionData" ref="a5c29edaa208153bebb13647e0bce751e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StrategyRegions::debugRegionData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad625a0c5ade8b70e95978b17f9cf05b9"></a><!-- doxytag: member="StrategyRegions::getCombinedRegionsMap" ref="ad625a0c5ade8b70e95978b17f9cf05b9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a> StrategyRegions::getCombinedRegionsMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00065">65</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00041">getCoordinateMessage()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00120">getGlobalViewData()</a>, and <a class="el" href="StrategyRegions_8cc_source.html#l00102">getStrategyDataStatus()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c" title=".h">regionCountMap</a> combinedRegionMap;
    <a class="code" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c" title=".h">regionCountMap</a> branchRegionMap;

    branchRegionDataMap::const_iterator regionDataMapIterator = <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.begin();

    <span class="keywordflow">while</span>(regionDataMapIterator != <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.end()) {
        branchRegionMap = regionDataMapIterator-&gt;second;

        regionCountMap::iterator bRMapIterator = branchRegionMap.begin();

        <span class="keywordflow">while</span>(bRMapIterator != branchRegionMap.end()) {
            <span class="keywordflow">if</span>(combinedRegionMap.find(bRMapIterator-&gt;first) == combinedRegionMap.end()) {
                combinedRegionMap.insert(<a class="code" href="StrategyRegions_8h.html#ad12fddedef1ff1582b668f9eff20e742">regionCountPair</a>(bRMapIterator-&gt;first, bRMapIterator-&gt;second));
            } <span class="keywordflow">else</span> {
                combinedRegionMap.find(bRMapIterator-&gt;first)-&gt;second += bRMapIterator-&gt;second;
            }

            bRMapIterator++;
        }
        regionDataMapIterator++;
    }

    <span class="keywordflow">return</span> combinedRegionMap;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1a9dbe32752167c880aac701abc2255"></a><!-- doxytag: member="StrategyRegions::getCoordinateMessage" ref="aa1a9dbe32752167c880aac701abc2255" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalViewBuilderCall.html">GlobalViewBuilderCall</a> * StrategyRegions::getCoordinateMessage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classAbstractSendStrategy.html#a8d252d74a37bf5630c8e6d3f72e0ac06">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00041">41</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classRegionsStrategyCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">RegionsStrategyCall</a>* msg = <span class="keyword">new</span> <a class="code" href="classRegionsStrategyCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">RegionsStrategyCall</a>(<span class="stringliteral">&quot;RegionsStrategyCall&quot;</span>);
    <a class="code" href="classRegionDataContainer.html">RegionDataContainer</a> tmpRegionContainer;
    tmpRegionContainer.<a class="code" href="classRegionDataContainer.html#aeecd42e3855d4dfca30867de7c497a12">regionData</a> = <a class="code" href="classStrategyRegions.html#ad625a0c5ade8b70e95978b17f9cf05b9">getCombinedRegionsMap</a>();
    msg-&gt;<a class="code" href="classRegionsStrategyCall.html#a814ee09e6bc96f5aa2e276c912038383">setRegionData</a>(tmpRegionContainer);
    msg-&gt;setBitLength(<a class="code" href="TreeManagementMessage__m_8h.html#ab6da24f9ec5e6b631ffa40abf7e361d5">REGIONSSTRATEGYCALL_L</a>(msg));

    <span class="keywordflow">return</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aad00ac8941861a29165fe1298b185058"></a><!-- doxytag: member="StrategyRegions::getGlobalViewData" ref="aad00ac8941861a29165fe1298b185058" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; double &gt; &gt; StrategyRegions::getGlobalViewData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the decodes global View Data </p>

<p>Implements <a class="el" href="classAbstractSendStrategy.html#a819eb4902a780e0c126df67867eabd1c">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00120">120</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c" title=".h">regionCountMap</a> tmpRCMap = <a class="code" href="classStrategyRegions.html#ad625a0c5ade8b70e95978b17f9cf05b9">getCombinedRegionsMap</a>();

    <span class="comment">// measurement of CCD size</span>
    <span class="comment">/*</span>
<span class="comment">    std::fstream f;</span>
<span class="comment">    std::string name(&quot;CCD_&quot;);</span>
<span class="comment">    name += simTime().str();</span>
<span class="comment">    name += &quot;.bin&quot;;</span>
<span class="comment">    f.open(name.c_str(), std::ios::binary|std::ios::out);</span>
<span class="comment">    for (regionCountMap::const_iterator it = tmpRCMap.begin(); it != tmpRCMap.end(); ++it) {</span>
<span class="comment">        f.write((char*)&amp;(it-&gt;first), sizeof(it-&gt;first));</span>
<span class="comment">        f.write((char*)&amp;(it-&gt;second), sizeof(it-&gt;second));</span>
<span class="comment">    }</span>
<span class="comment">    f.close();</span>
<span class="comment">     */</span>

    regionCountMap::iterator rcmIterator = tmpRCMap.begin();

    std::vector&lt;std::vector&lt;double&gt; &gt; globalViewData;

    <span class="keywordflow">while</span>(rcmIterator != tmpRCMap.end()) {
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; rcmIterator-&gt;second; i++) {
            globalViewData.push_back(<a class="code" href="classStrategyRegions.html#a7e44c9ea822a2a8799fac4265e9452fc" title="convert the region ID to a vector of doubles">convertRegionToCoordVector</a>(rcmIterator-&gt;first, 2));
            <span class="comment">// TODO get the source dimension (2) dynamic from configuration</span>
        }
        rcmIterator++;
    }
    <span class="keywordflow">return</span> globalViewData;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6effa104dfbab110172cc21d68f4dfc4"></a><!-- doxytag: member="StrategyRegions::getMaxSpread" ref="a6effa104dfbab110172cc21d68f4dfc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int StrategyRegions::getMaxSpread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00283">283</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00172">checkMaxSpread()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00193">convertCoordVectorToRegion()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00239">convertRegionToCoordVector()</a>, and <a class="el" href="StrategyRegions_8cc_source.html#l00053">getStrategyCombinedParams()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> maxSpread = <a class="code" href="classAbstractSendStrategy.html#afb20c7feef11694f4e31780932fc408e">globalViewBuilder</a>-&gt;<a class="code" href="classGlobalViewBuilder.html#afbeb3567a6c453e697865dd99b76dd90">parProxy</a>(<span class="stringliteral">&quot;gvbStrategyRegionsMaxSpread&quot;</span>);
    <span class="keywordflow">return</span> maxSpread;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2d99fb7c56c18ed4c73a1dc21850a71b"></a><!-- doxytag: member="StrategyRegions::getSizePerDim" ref="a2d99fb7c56c18ed4c73a1dc21850a71b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int StrategyRegions::getSizePerDim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00275">275</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00193">convertCoordVectorToRegion()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00239">convertRegionToCoordVector()</a>, and <a class="el" href="StrategyRegions_8cc_source.html#l00053">getStrategyCombinedParams()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> sizePerDim =
        <a class="code" href="classAbstractSendStrategy.html#afb20c7feef11694f4e31780932fc408e">globalViewBuilder</a>-&gt;<a class="code" href="classGlobalViewBuilder.html#afbeb3567a6c453e697865dd99b76dd90">parProxy</a>(<span class="stringliteral">&quot;gvbStrategyRegionsSizePerDimension&quot;</span>);
    <span class="keywordflow">return</span> sizePerDim;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa6bb1b50d476f55a1fb490c4de951842"></a><!-- doxytag: member="StrategyRegions::getStrategyCombinedParams" ref="aa6bb1b50d476f55a1fb490c4de951842" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string StrategyRegions::getStrategyCombinedParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return a string of the currently used strategy params </p>

<p>Implements <a class="el" href="classAbstractSendStrategy.html#aded7b5ee8225ed995b4605d359b332cd">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00053">53</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::stringstream tempStr;
    tempStr &lt;&lt; <a class="code" href="classAbstractSendStrategy.html#afb20c7feef11694f4e31780932fc408e">globalViewBuilder</a>-&gt;<a class="code" href="classGlobalViewBuilder.html#afbeb3567a6c453e697865dd99b76dd90">parProxy</a>(<span class="stringliteral">&quot;gvbSendStrategy&quot;</span>).stdstringValue();
    tempStr &lt;&lt; <span class="stringliteral">&quot;/&quot;</span>;
    tempStr &lt;&lt; <a class="code" href="classStrategyRegions.html#a6effa104dfbab110172cc21d68f4dfc4">getMaxSpread</a>();
    tempStr &lt;&lt; <span class="stringliteral">&quot;/&quot;</span>;
    tempStr &lt;&lt; <a class="code" href="classStrategyRegions.html#a2d99fb7c56c18ed4c73a1dc21850a71b">getSizePerDim</a>();
    <span class="keywordflow">return</span> tempStr.str();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a217ab800128352bce127fc7ff4bcbbad"></a><!-- doxytag: member="StrategyRegions::getStrategyDataStatus" ref="a217ab800128352bce127fc7ff4bcbbad" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string StrategyRegions::getStrategyDataStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return a short status of the running send strategy </p>

<p>Reimplemented from <a class="el" href="classAbstractSendStrategy.html#a82409fcac368729fe914dfccacbcaf8e">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00102">102</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::stringstream tempStr;

    <a class="code" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c" title=".h">regionCountMap</a> tmpRCMap = <a class="code" href="classStrategyRegions.html#ad625a0c5ade8b70e95978b17f9cf05b9">getCombinedRegionsMap</a>();
    regionCountMap::iterator rcmIterator = tmpRCMap.begin();

    <span class="keywordflow">while</span> (rcmIterator != tmpRCMap.end()) {
        tempStr &lt;&lt; rcmIterator-&gt;first &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; rcmIterator-&gt;second &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;
        rcmIterator++;
    }

    tempStr &lt;&lt; <span class="stringliteral">&quot; CRM:&quot;</span> &lt;&lt; tmpRCMap.size() &lt;&lt; <span class="stringliteral">&quot; BC:&quot;</span> &lt;&lt; <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.size();

    <span class="keywordflow">return</span> tempStr.str();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a456edbd7da2b20e439389aec1d29353d"></a><!-- doxytag: member="StrategyRegions::handleCoordinateRpcCall" ref="a456edbd7da2b20e439389aec1d29353d" args="(GlobalViewBuilderCall *globalViewBuilderCall)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StrategyRegions::handleCoordinateRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGlobalViewBuilderCall.html">GlobalViewBuilderCall</a> *&#160;</td>
          <td class="paramname"><em>globalViewBuilderCall</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classAbstractSendStrategy.html#a5bea7ce5c4d7b5dbb986fe9fbcad1341">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00093">93</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classRegionsStrategyCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">RegionsStrategyCall</a>* regionsStrategyCall =
        <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classRegionsStrategyCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">RegionsStrategyCall</a>*<span class="keyword">&gt;</span>(globalViewBuilderCall);
    <a class="code" href="classStrategyRegions.html#a066ee9e78fc99d6eba00e9944f238579" title="set the regions delivered by a child to our regionCountMap">setBranchCoordinates</a>(regionsStrategyCall-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>(),
                         regionsStrategyCall-&gt;<a class="code" href="classRegionsStrategyCall.html#a79039e62155c2b27e95f67d85a784a03">getRegionData</a>().<a class="code" href="classRegionDataContainer.html#aeecd42e3855d4dfca30867de7c497a12">regionData</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a066ee9e78fc99d6eba00e9944f238579"></a><!-- doxytag: member="StrategyRegions::setBranchCoordinates" ref="a066ee9e78fc99d6eba00e9944f238579" args="(const NodeHandle &amp;node, regionCountMap countMap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StrategyRegions::setBranchCoordinates </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c">regionCountMap</a>&#160;</td>
          <td class="paramname"><em>countMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set the regions delivered by a child to our regionCountMap </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td><a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> assign the map to this node </td></tr>
    <tr><td class="paramname">countMap</td><td>regionCountMap the map of the node </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00162">162</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, and <a class="el" href="StrategyRegions_8cc_source.html#l00152">setMyCoordinates()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span>(<a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.find(node) != <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.end()) {
        <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.find(node)-&gt;second = countMap;
    } <span class="keywordflow">else</span> {
        <a class="code" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">regionData</a>.insert(<a class="code" href="classStrategyRegions.html#a743aa45d3806112f22b20590dc3c66c8">nodeRegionData</a>(node, countMap));
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae7b167d1b3cbd355f75214aab408272a"></a><!-- doxytag: member="StrategyRegions::setMyCoordinates" ref="ae7b167d1b3cbd355f75214aab408272a" args="(const AbstractNcsNodeInfo &amp;ncsInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StrategyRegions::setMyCoordinates </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAbstractNcsNodeInfo.html">AbstractNcsNodeInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>ncsInfo</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classAbstractSendStrategy.html#a22655321f1a44801b516eb5e31cc45aa">AbstractSendStrategy</a>.</p>

<p>Definition at line <a class="el" href="StrategyRegions_8cc_source.html#l00152">152</a> of file <a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::vector&lt;double&gt; tmpDimVector = ncsInfo.<a class="code" href="classAbstractNcsNodeInfo.html#abf74d96cce7b22eb017f382b2394936f">getCoords</a>();
    <a class="code" href="RegionDataContainer_8h.html#ae5727ff6ea79e5b3c0b35b6de24cfc5c" title=".h">regionCountMap</a> tmpCountMap;
    tmpCountMap.insert(<a class="code" href="StrategyRegions_8h.html#ad12fddedef1ff1582b668f9eff20e742">regionCountPair</a>(<a class="code" href="classStrategyRegions.html#ae2249b1670f18f7ef724e27ceb216980" title="convert a vector of doubles (=dimensions) to a single integer">convertCoordVectorToRegion</a>(tmpDimVector),1));

    <a class="code" href="classStrategyRegions.html#a066ee9e78fc99d6eba00e9944f238579" title="set the regions delivered by a child to our regionCountMap">setBranchCoordinates</a>(<a class="code" href="classAbstractSendStrategy.html#aadc1c96695f6e2fde6bd3f2a8903953c">thisNode</a>, tmpCountMap);        <span class="comment">// i am my own branch here ...</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="adee74dee03caa8fa3d8047a9f6f680c0"></a><!-- doxytag: member="StrategyRegions::regionData" ref="adee74dee03caa8fa3d8047a9f6f680c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStrategyRegions.html#a164f0f354a9c3e14f8aa95dc8d06db9e">branchRegionDataMap</a> <a class="el" href="classStrategyRegions.html#adee74dee03caa8fa3d8047a9f6f680c0">StrategyRegions::regionData</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="StrategyRegions_8h_source.html#l00066">66</a> of file <a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a>.</p>

<p>Referenced by <a class="el" href="StrategyRegions_8cc_source.html#l00290">cleanUpCoordData()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00065">getCombinedRegionsMap()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00102">getStrategyDataStatus()</a>, and <a class="el" href="StrategyRegions_8cc_source.html#l00162">setBranchCoordinates()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="StrategyRegions_8h_source.html">StrategyRegions.h</a></li>
<li><a class="el" href="StrategyRegions_8cc_source.html">StrategyRegions.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classStrategyRegions.html">StrategyRegions</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:07:03 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
