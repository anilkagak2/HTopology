<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: BaseRpc Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classBaseRpc.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">BaseRpc Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="BaseRpc" --><!-- doxytag: inherits="RpcListener" -->
<p>Base class for RPCs.  
 <a href="classBaseRpc.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BaseRpc:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBaseRpc.png" usemap="#BaseRpc_map" alt=""/>
  <map id="BaseRpc_map" name="BaseRpc_map">
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="126,0,242,24"/>
<area href="classBaseApp.html" title="Base class for applications." alt="BaseApp" shape="rect" coords="0,112,116,136"/>
<area href="classBaseOverlay.html" title="Base class for overlays." alt="BaseOverlay" shape="rect" coords="252,112,368,136"/>
<area href="classALMTest.html" alt="ALMTest" shape="rect" coords="126,168,242,192"/>
<area href="classBootstrapList.html" title="The BootstrapList module maintains a list of bootstrap node candidates." alt="BootstrapList" shape="rect" coords="126,224,242,248"/>
<area href="classCBRDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols." alt="CBRDHT" shape="rect" coords="126,280,242,304"/>
<area href="classDHT.html" title="A Distributed Hash Table (DHT) for KBR protocols." alt="DHT" shape="rect" coords="126,336,242,360"/>
<area href="classDHTTestApp.html" title="A simple test application for the DHT layer." alt="DHTTestApp" shape="rect" coords="126,392,242,416"/>
<area href="classGIASearchApp.html" title="Gia search test application." alt="GIASearchApp" shape="rect" coords="126,448,242,472"/>
<area href="classHStreaming.html" title="Streaming Application: uses HTopology as the overlay." alt="HStreaming" shape="rect" coords="126,504,242,528"/>
<area href="classI3.html" title="Main Omnet module for the implementation of Internet Indirection Infrastructure." alt="I3" shape="rect" coords="126,560,242,584"/>
<area href="classKBRTestApp.html" title="Test application for KBR interface." alt="KBRTestApp" shape="rect" coords="126,616,242,640"/>
<area href="classLandmark.html" alt="Landmark" shape="rect" coords="126,672,242,696"/>
<area href="classMyApplication.html" alt="MyApplication" shape="rect" coords="126,728,242,752"/>
<area href="classNeighborCache.html" alt="NeighborCache" shape="rect" coords="126,784,242,808"/>
<area href="classP2pns.html" title="Implementation of &quot;P2PNS: A distributed name service for P2PSIP&quot;." alt="P2pns" shape="rect" coords="126,840,242,864"/>
<area href="classRealWorldTestApp.html" alt="RealWorldTestApp" shape="rect" coords="126,896,242,920"/>
<area href="classScribe.html" alt="Scribe" shape="rect" coords="126,952,242,976"/>
<area href="classSimMud.html" alt="SimMud" shape="rect" coords="126,1008,242,1032"/>
<area href="classSimpleGameClient.html" title="SimpleGameClient class." alt="SimpleGameClient" shape="rect" coords="126,1064,242,1088"/>
<area href="classTCPExampleApp.html" title="A simple TCP example application." alt="TCPExampleApp" shape="rect" coords="126,1120,242,1144"/>
<area href="classTierDummy.html" alt="TierDummy" shape="rect" coords="126,1176,242,1200"/>
<area href="classXmlRpcInterface.html" title="Applicaton that communicates with a realword application via a socket." alt="XmlRpcInterface" shape="rect" coords="126,1232,242,1256"/>
<area href="classBasePastry.html" alt="BasePastry" shape="rect" coords="378,168,494,192"/>
<area href="classBroose.html" title="Broose overlay module." alt="Broose" shape="rect" coords="378,224,494,248"/>
<area href="classGia.html" title="Gia overlay module." alt="Gia" shape="rect" coords="378,280,494,304"/>
<area href="classHTopology.html" title="TODO - Generated class." alt="HTopology" shape="rect" coords="378,336,494,360"/>
<area href="classKademlia.html" title="Kademlia overlay module." alt="Kademlia" shape="rect" coords="378,392,494,416"/>
<area href="classMyOverlay.html" alt="MyOverlay" shape="rect" coords="378,448,494,472"/>
<area href="classNTree.html" title="A p2p protocol for MMOGs and virtual worlds." alt="NTree" shape="rect" coords="378,504,494,528"/>
<area href="classOverlayDummy.html" alt="OverlayDummy" shape="rect" coords="378,560,494,584"/>
<area href="classoversim_1_1Chord.html" title="Chord overlay module." alt="oversim::Chord" shape="rect" coords="378,616,494,640"/>
<area href="classoversim_1_1Nice.html" title="NICE overlay module." alt="oversim::Nice" shape="rect" coords="378,672,494,696"/>
<area href="classPubSubLobby.html" alt="PubSubLobby" shape="rect" coords="378,728,494,752"/>
<area href="classPubSubMMOG.html" alt="PubSubMMOG" shape="rect" coords="378,784,494,808"/>
<area href="classQuon.html" title="QuON: An overlay network based on quadtrees." alt="Quon" shape="rect" coords="378,840,494,864"/>
<area href="classVast.html" title="Voronoi class." alt="Vast" shape="rect" coords="378,896,494,920"/>
</map>
 </div></div>

<p><a href="classBaseRpc-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a93a93b4bf743699f18284a8069813b23">BaseRpc</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classNodeHandle.html">NodeHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da">getThisNode</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> of this node.  <a href="#ac3f420630d5618e81709c078b06fd9da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a83a09d0c12d158ef2e10cc8bf256f254">getUdpTimeout</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a45b60cfeaa59a7efafeb5bcbb56f50a5">internalHandleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles internal rpc requests.  <a href="#a45b60cfeaa59a7efafeb5bcbb56f50a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ad25a2ad1fb68d2da5d1fab8b577592a4">internalHandleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles rpc responses internal in base classes<br/>
  <a href="#ad25a2ad1fb68d2da5d1fab8b577592a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ae4b1dfdb39322697542e02d3be48a848">internalHandleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles rpc timeouts internal in base classes<br/>
  <a href="#ae4b1dfdb39322697542e02d3be48a848"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a270e68f0d93dfcf9c5f26dbafd0fba54">initRpcs</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes Remote-Procedure state.  <a href="#a270e68f0d93dfcf9c5f26dbafd0fba54"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a02b90067d0a0b630baca5808d7f82b5a">finishRpcs</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes Remote-Procedure state.  <a href="#a02b90067d0a0b630baca5808d7f82b5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a26c06fa9558c497e6dfe1ba6c5153042">internalHandleRpcMessage</a> (<a class="el" href="classBaseRpcMessage.html">BaseRpcMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles incoming rpc messages and delegates them to the corresponding listeners or handlers.  <a href="#a26c06fa9558c497e6dfe1ba6c5153042"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2">sendRouteRpcCall</a> (<a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, cPolymorphic *context=NULL, <a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType=DEFAULT_ROUTING, simtime_t timeout=-1, int retries=0, int rpcId=-1, <a class="el" href="classRpcListener.html">RpcListener</a> *rpcListener=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Routes a Remote-Procedure-Call message to an <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>.  <a href="#a816918e82652f724c291923e018eabe2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#abfb0486832f6f42f6b4e35059bae5d21">sendRouteRpcCall</a> (<a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, cPolymorphic *context=NULL, <a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType=DEFAULT_ROUTING, simtime_t timeout=-1, int retries=0, int rpcId=-1, <a class="el" href="classRpcListener.html">RpcListener</a> *rpcListener=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Routes a Remote-Procedure-Call message to an <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>.  <a href="#abfb0486832f6f42f6b4e35059bae5d21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a6da40906ead3bb7faa0782f47385435e">sendRouteRpcCall</a> (<a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, cPolymorphic *context=NULL, <a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType=DEFAULT_ROUTING, simtime_t timeout=-1, int retries=0, int rpcId=-1, <a class="el" href="classRpcListener.html">RpcListener</a> *rpcListener=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Remote-Procedure-Call message using the overlay's UDP port<br/>
 This replaces ROUTE_DIRECT calls!  <a href="#a6da40906ead3bb7faa0782f47385435e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ac128e0ff0d09f81b652f7d3e00ce9441">sendUdpRpcCall</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, cPolymorphic *context=NULL, simtime_t timeout=-1, int retries=0, int rpcId=-1, <a class="el" href="classRpcListener.html">RpcListener</a> *rpcListener=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Remote-Procedure-Call message to the underlay<br/>
  <a href="#ac128e0ff0d09f81b652f7d3e00ce9441"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa">sendInternalRpcCall</a> (<a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, cPolymorphic *context=NULL, simtime_t timeout=-1, int retries=0, int rpcId=-1, <a class="el" href="classRpcListener.html">RpcListener</a> *rpcListener=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an internal Remote-Procedure-Call between two tiers<br/>
  <a href="#a0dea7eed103c0e97176576d6642f7bfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#aea89bf4704b3859432879853c27fa3e3">cancelRpcMessage</a> (uint32_t nonce)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels a Remote-Procedure-Call.  <a href="#aea89bf4704b3859432879853c27fa3e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a77fe0a21bb12ab2fb8e27eb719b2d2fe">cancelAllRpcs</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels all RPCs.  <a href="#a77fe0a21bb12ab2fb8e27eb719b2d2fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747">sendRpcResponse</a> (<a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a> transportType, <a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *call, <a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *response)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Remote-Procedure response message and deletes call message.  <a href="#adc06091d348c98a5efbf54fe0afe8747"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#af946a132d30ff367e9051f2b62b7bc92">sendRpcResponse</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *call, <a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *response)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Remote-Procedure response message to UDP and deletes call message.  <a href="#af946a132d30ff367e9051f2b62b7bc92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a421904b1b501580efed12e6490d3324a">pingNode</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, simtime_t timeout=-1, int retries=0, cPolymorphic *context=NULL, const char *caption=&quot;PING&quot;, RpcListener *rpcListener=NULL, int rpcId=-1, <a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a> transportType=INVALID_TRANSPORT)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ping a node by its <a class="el" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>  <a href="#a421904b1b501580efed12e6490d3324a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a20e77c3e0c203762a5b582ffebe3ba4b">handleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes Remote-Procedure-Call invocation messages.  <a href="#a20e77c3e0c203762a5b582ffebe3ba4b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#aa76a787b8fbbc33de93646edc67f0e23">getThisCompType</a> ()=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the component type of this module.  <a href="#aa76a787b8fbbc33de93646edc67f0e23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#abaae7e20b0960e9a90cadd216a2a6126">sendMessageToUDP</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;addr, cPacket *message, simtime_t delay=SIMTIME_ZERO)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#afdf8ba10dc92ed3d351c8a7472c2093e">pingResponse</a> (<a class="el" href="classPingResponse.html">PingResponse</a> *pingResponse, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#afd90e156e9aa1dff7e4e99f50b2c9b51">pingTimeout</a> (<a class="el" href="classPingCall.html">PingCall</a> *pingCall, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ad68b7208473ba1301deb59d51f0bba6c">internalHandleMessage</a> (cMessage *msg)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNodeHandle.html">NodeHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8">thisNode</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> to this node.  <a href="#a88eb68c06450fd12ea072f471bf1c1b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseOverlay.html">BaseOverlay</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#aff648eca9051b1f37ea42335b021d672">debugOutput</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">debug output ?  <a href="#aff648eca9051b1f37ea42335b021d672"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d">globalStatistics</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to <a class="el" href="classGlobalStatistics.html" title="Module to record global statistics.">GlobalStatistics</a> module in this node  <a href="#a9552ba3a2b09c83b3c561e65dab9f23d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a3edfa69071548f98e78b8669f564953a">thisCompType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNeighborCache.html">NeighborCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f">neighborCache</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the neighbor cache  <a href="#ad80237130dc2316d0d76ac6757c50f4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCryptoModule.html">CryptoModule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a394dcba6b6307c746927bf74fbea33a5">cryptoModule</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to <a class="el" href="classCryptoModule.html" title="The CryptoModule contains several method needed for message authentication.">CryptoModule</a>  <a href="#a394dcba6b6307c746927bf74fbea33a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a16d5d34610391c442e9f9cde71b2518a">numPingSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a5653805d9dcb9a53bc240b388e735389">bytesPingSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a5f194baa9787f523bdbf6f8639356a62">numPingResponseSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a8525bc500487a2641a2a947b0d5e1946">bytesPingResponseSent</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef UNORDERED_MAP&lt; int, <br class="typebreak"/>
<a class="el" href="classRpcState.html">RpcState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ab1d2746aee1698173f6c27155c1e0dff">RpcStates</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#ab893c156412e38caa62fe058b229899b">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#abf8bd682bf17131b4bc58708b2e7ced2">sendRpcCall</a> (<a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a> transportType, <a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, <a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, cPolymorphic *context, <a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType, simtime_t timeout, int retries, int rpcId, <a class="el" href="classRpcListener.html">RpcListener</a> *rpcListener)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Remote-Procedure-Call message to the underlay.  <a href="#abf8bd682bf17131b4bc58708b2e7ced2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#adb13716a0ebdfa359f7498f6ba1b8508">sendRpcMessageWithTransport</a> (<a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a> transportType, <a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> destComp, <a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType, const std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; &amp;sourceRoute, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, <a class="el" href="classBaseRpcMessage.html">BaseRpcMessage</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a2c7d2b7bc0e2b9eef6481c654d57d877">internalSendRouteRpc</a> (<a class="el" href="classBaseRpcMessage.html">BaseRpcMessage</a> *message, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey, const std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; &amp;sourceRoute, <a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a> routingType)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a8e96c8787fba93dc24c673507152cff3">internalSendRpcResponse</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *call, <a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *response)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#aa398208e1cab8ddbb8df60b73af58597">pingRpcCall</a> (<a class="el" href="classPingCall.html">PingCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a2042b62345b9f494d01b55ab946eaf48">pingRpcResponse</a> (<a class="el" href="classPingResponse.html">PingResponse</a> *response, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a2789009bedea79d85900252a19b23927">pingRpcTimeout</a> (<a class="el" href="classPingCall.html">PingCall</a> *pingCall, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#af109c565dddd82caff9f4230a8b87e32">rpcsPending</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseRpc.html#ab1d2746aee1698173f6c27155c1e0dff">RpcStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">rpcUdpTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a0e3d1dc5889337099be6ff9e28b73240">rpcKeyTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a1ac45c35436f95f0717a202b3d0ac9a2">optimizeTimeouts</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseRpc.html#a0dc0c1443bf9b23da0c0e7d4fc9af41c">rpcExponentialBackoff</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for RPCs. </p>
<p>Base class for RPCs.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Sebastian Mies </dd>
<dd>
Ingmar Baumgart </dd>
<dd>
Bernhard Heep </dd>
<dd>
Gregoire Menuel </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00059">59</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ab1d2746aee1698173f6c27155c1e0dff"></a><!-- doxytag: member="BaseRpc::RpcStates" ref="ab1d2746aee1698173f6c27155c1e0dff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef UNORDERED_MAP&lt;int,<a class="el" href="classRpcState.html">RpcState</a>&gt; <a class="el" href="classBaseRpc.html#ab1d2746aee1698173f6c27155c1e0dff">BaseRpc::RpcStates</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00520">520</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a93a93b4bf743699f18284a8069813b23"></a><!-- doxytag: member="BaseRpc::BaseRpc" ref="a93a93b4bf743699f18284a8069813b23" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BaseRpc::BaseRpc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00052">52</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a> = NULL;
    <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a> = NULL;
    <a class="code" href="classBaseRpc.html#a394dcba6b6307c746927bf74fbea33a5" title="pointer to CryptoModule">cryptoModule</a> = NULL;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a77fe0a21bb12ab2fb8e27eb719b2d2fe"></a><!-- doxytag: member="BaseRpc::cancelAllRpcs" ref="a77fe0a21bb12ab2fb8e27eb719b2d2fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::cancelAllRpcs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancels all RPCs. </p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00158">158</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00187">BasePastry::baseChangeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00147">finishRpcs()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// stop all rpcs</span>
    <span class="keywordflow">for</span> (RpcStates::iterator i = <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.begin();
        i != <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.end(); i++) {
        cancelAndDelete(i-&gt;second.callMsg);
        cancelAndDelete(i-&gt;second.timeoutMsg);
        <span class="keyword">delete</span> i-&gt;second.dest;
        i-&gt;second.dest = NULL;
        <span class="keyword">delete</span> i-&gt;second.context;
        i-&gt;second.context = NULL;
    }
    <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.clear();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aea89bf4704b3859432879853c27fa3e3"></a><!-- doxytag: member="BaseRpc::cancelRpcMessage" ref="aea89bf4704b3859432879853c27fa3e3" args="(uint32_t nonce)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::cancelRpcMessage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nonce</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancels a Remote-Procedure-Call. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nonce</td><td>The nonce of the RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00278">278</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="RecursiveLookup_8cc_source.html#l00082">RecursiveLookup::abortLookup()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00118">IterativeLookup::abortLookup()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00289">IterativeLookup::checkStop()</a>, and <a class="el" href="IterativeLookup_8cc_source.html#l00240">IterativeLookup::stop()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.count(nonce)==0)
        <span class="keywordflow">return</span>;
    <a class="code" href="classRpcState.html">RpcState</a> state = <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>[nonce];
    <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.erase(nonce);
    cancelAndDelete(state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a>);
    cancelAndDelete(state.<a class="code" href="classRpcState.html#a2709b29880ed2e6e03cf8b42a0db89d5">timeoutMsg</a>);
    <span class="keyword">delete</span> state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>;
    state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a> = NULL;
    <span class="keyword">delete</span> state.<a class="code" href="classRpcState.html#a54ba0c872daf45da9c05a6fea7a97f10">context</a>;
    state.<a class="code" href="classRpcState.html#a54ba0c872daf45da9c05a6fea7a97f10">context</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a02b90067d0a0b630baca5808d7f82b5a"></a><!-- doxytag: member="BaseRpc::finishRpcs" ref="a02b90067d0a0b630baca5808d7f82b5a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::finishRpcs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deinitializes Remote-Procedure state. </p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00147">147</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBaseRpc.html#a77fe0a21bb12ab2fb8e27eb719b2d2fe" title="Cancels all RPCs.">cancelAllRpcs</a>();

    <span class="comment">// delete default rpc listener</span>
    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a> != NULL) {
        <span class="keyword">delete</span> <a class="code" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a>;
        <a class="code" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a> = NULL;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa76a787b8fbbc33de93646edc67f0e23"></a><!-- doxytag: member="BaseRpc::getThisCompType" ref="aa76a787b8fbbc33de93646edc67f0e23" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> BaseRpc::getThisCompType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the component type of this module. </p>
<p>This method is overloaded by BaseOverlay/BaseApp and returns the appropriate component type of this module.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the component type of this module </dd></dl>

<p>Implemented in <a class="el" href="classBaseOverlay.html#a92e0d3f96a5716245465e05da60ef487">BaseOverlay</a>, <a class="el" href="classBaseApp.html#a5125ad4468014966598aeb9630242a45">BaseApp</a>, <a class="el" href="classNeighborCache.html#aa6aafdbff910a02b3dc631a57f2b3ac4">NeighborCache</a>, and <a class="el" href="classBootstrapList.html#afc728864c09b313a7386620c7a93e8fd">BootstrapList</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00702">pingNode()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00620">sendRpcMessageWithTransport()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3f420630d5618e81709c078b06fd9da"></a><!-- doxytag: member="BaseRpc::getThisNode" ref="ac3f420630d5618e81709c078b06fd9da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNodeHandle.html">NodeHandle</a>&amp; BaseRpc::getThisNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the <a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> of this node. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> of this node. </dd></dl>

<p>Reimplemented in <a class="el" href="classSimpleGameClient.html#a4997c30121620d671833eecfc0ed6e89">SimpleGameClient</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00071">71</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="TreeManagement_8cc_source.html#l00545">TreeManagement::addChildNode()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00416">IterativeLookup::addSibling()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00332">TreeManagement::checkParentValid()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">GlobalViewBuilder::cleanup()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00240">TreeManagement::connectToParent()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00565">TreeManagement::debugChildren()</a>, <a class="el" href="RealWorldTestApp_8cc_source.html#l00048">RealWorldTestApp::deliver()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00475">KBRTestApp::deliver()</a>, <a class="el" href="PastryLeafSet_8cc_source.html#l00521">PastryLeafSet::failedNode()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00530">KBRTestApp::forward()</a>, <a class="el" href="PastryLeafSet_8cc_source.html#l00466">PastryLeafSet::getBiggestNode()</a>, <a class="el" href="NeighborCache_8h_source.html#l00269">NeighborCache::getOverlayThisNode()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00853">NeighborCache::getProx()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00587">TreeManagement::getResponsibleDomainKey()</a>, <a class="el" href="PastryLeafSet_8cc_source.html#l00451">PastryLeafSet::getSmallestNode()</a>, <a class="el" href="Nice_8cc_source.html#l03300">oversim::Nice::handleAppMessage()</a>, <a class="el" href="Kademlia_8cc_source.html#l01323">Kademlia::handleBucketRefreshTimerExpired()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">GlobalViewBuilder::handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00426">KBRTestApp::handleLookupResponse()</a>, <a class="el" href="GIASearchApp_8cc_source.html#l00154">GIASearchApp::handleLowerMessage()</a>, <a class="el" href="Kademlia_8cc_source.html#l00831">Kademlia::handleNodeGracefulLeaveNotification()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00484">TreeManagement::handleParentRequestRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00511">TreeManagement::handleParentRequestRpcResponse()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00658">NeighborCache::handleReadyMessage()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00776">IterativePathLookup::handleResponse()</a>, <a class="el" href="DiscoveryMode_8cc_source.html#l00140">DiscoveryMode::handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">KBRTestApp::handleRpcResponse()</a>, <a class="el" href="Kademlia_8cc_source.html#l01183">Kademlia::handleRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">TreeManagement::handleRpcTimeout()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">KBRTestApp::handleRpcTimeout()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00157">SimpleGameClient::handleTimerEvent()</a>, <a class="el" href="GIASearchApp_8cc_source.html#l00083">GIASearchApp::handleTimerEvent()</a>, <a class="el" href="Landmark_8cc_source.html#l00039">Landmark::initializeApp()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00029">SimpleGameClient::initializeApp()</a>, <a class="el" href="BrooseBucket_8cc_source.html#l00049">BrooseBucket::initializeBucket()</a>, <a class="el" href="PastryLeafSet_8cc_source.html#l00323">PastryLeafSet::insertLeaf()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00394">TreeManagement::isRoot()</a>, <a class="el" href="BrooseBucket_8cc_source.html#l00239">BrooseBucket::keyInRange()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00689">IterativeLookup::lookup()</a>, <a class="el" href="PastryLeafSet_8cc_source.html#l00254">PastryLeafSet::mergeNode()</a>, <a class="el" href="BrooseBucket_8cc_source.html#l00211">BrooseBucket::output()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00255">TreeManagement::removeParentConnection()</a>, <a class="el" href="Kademlia_8cc_source.html#l00320">Kademlia::routingAdd()</a>, <a class="el" href="Kademlia_8cc_source.html#l00285">Kademlia::routingBucketIndex()</a>, <a class="el" href="DiscoveryMode_8cc_source.html#l00233">DiscoveryMode::sendNewRequest()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l01036">IterativePathLookup::sendRpc()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00532">sendRpcResponse()</a>, <a class="el" href="Nps_8cc_source.html#l00447">Nps::setOwnLayer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">GlobalViewBuilder::spreadGlobalView()</a>, <a class="el" href="DiscoveryMode_8cc_source.html#l00034">DiscoveryMode::start()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00131">IterativeLookup::start()</a>, <a class="el" href="DiscoveryMode_8cc_source.html#l00066">DiscoveryMode::stop()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00240">IterativeLookup::stop()</a>, and <a class="el" href="NeighborCache_8cc_source.html#l00326">NeighborCache::updateNode()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="a83a09d0c12d158ef2e10cc8bf256f254"></a><!-- doxytag: member="BaseRpc::getUdpTimeout" ref="a83a09d0c12d158ef2e10cc8bf256f254" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t BaseRpc::getUdpTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00073">73</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">rpcUdpTimeout</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="a20e77c3e0c203762a5b582ffebe3ba4b"></a><!-- doxytag: member="BaseRpc::handleRpcCall" ref="a20e77c3e0c203762a5b582ffebe3ba4b" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BaseRpc::handleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes Remote-Procedure-Call invocation messages. </p>
<p><br/>
</p>
<p>This method should be overloaded when the overlay provides RPC functionality.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true, if rpc has been handled </dd></dl>

<p>Reimplemented in <a class="el" href="classNeighborCache.html#a0b7a352cb7d5eb83c9a04b1e0f52a5d0">NeighborCache</a>, <a class="el" href="classoversim_1_1Chord.html#aa5c60718325e0857581b1fa9773a8bd9">oversim::Chord</a>, <a class="el" href="classHTopology.html#a36a733934b955ececf3148ce124707e2">HTopology</a>, <a class="el" href="classBasePastry.html#a64c0f2b97d1dd7b07c30f70b5ddc1496">BasePastry</a>, <a class="el" href="classoversim_1_1Koorde.html#a604ffcffd116be18c44e7bc42e6bf7f8">oversim::Koorde</a>, <a class="el" href="classKademlia.html#a82d872d3d7797e94985557d04f7c9ed5">Kademlia</a>, <a class="el" href="classKBRTestApp.html#acffbd277d53a7b3e9c854395563b37d0">KBRTestApp</a>, <a class="el" href="classScribe.html#a4ca0219335485804bb7b1edd76bbcc11">Scribe</a>, <a class="el" href="classDHT.html#a1be3042a36d8f9bd6986effd9599da70">DHT</a>, <a class="el" href="classMyOverlay.html#af4b0a674e6403aff467c6d94a03fce95">MyOverlay</a>, <a class="el" href="classCBRDHT.html#a23a206659056d25bc06bdb6a4655fc6a">CBRDHT</a>, <a class="el" href="classP2pns.html#af003aadc765265213568a560bc7a504d">P2pns</a>, <a class="el" href="classBroose.html#a9ff73fadcd26b7b793020517d5d248c0">Broose</a>, <a class="el" href="classPastry.html#a14a0a29c8c62c586425b174b9a1504d8">Pastry</a>, <a class="el" href="classSimMud.html#a126366e2f9b49eba9ab55151bb6d607a">SimMud</a>, <a class="el" href="classNTree.html#afab904983c5e838f3c1993112456d904">NTree</a>, <a class="el" href="classPubSubLobby.html#a51b8bc62e387b0a7c6bda5dbaa0127b3">PubSubLobby</a>, and <a class="el" href="classPubSubMMOG.html#a4f2a87f7e95bbb17819f04261585236d">PubSubMMOG</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00527">527</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab893c156412e38caa62fe058b229899b"></a><!-- doxytag: member="BaseRpc::handleTimerEvent" ref="ab893c156412e38caa62fe058b229899b" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classNeighborCache.html#a54e488bca853c3d1b4ea1480fefc81e8">NeighborCache</a>, <a class="el" href="classHTopology.html#a840e3f0f71ff56e9e66d95f705aa0de9">HTopology</a>, <a class="el" href="classBootstrapList.html#a465386a586f06798cf30460d1c8b89cd">BootstrapList</a>, <a class="el" href="classDHTTestApp.html#a57c136fb3debefcaff6be79875ac5839">DHTTestApp</a>, <a class="el" href="classKademlia.html#a27b31a4a713eadd2c8f1a83d66dc69a7">Kademlia</a>, <a class="el" href="classGia.html#a68d9264a840ca0b77f240d25372a65d2">Gia</a>, <a class="el" href="classScribe.html#a874c4fa77fa27d84de72532ee427918b">Scribe</a>, <a class="el" href="classDHT.html#a6ae0227d1adcc58e0cc6a8a08222d39f">DHT</a>, <a class="el" href="classI3.html#a8feed795f7a5a6c796a3e54ffff9ea9c">I3</a>, <a class="el" href="classBroose.html#ac0e5eb20a2e995afeccc2b35a8e97967">Broose</a>, <a class="el" href="classoversim_1_1Nice.html#aebd1289938fa0c32bceda56deafaf302">oversim::Nice</a>, <a class="el" href="classCBRDHT.html#a9687f217efef7be22f63f89eb98316c9">CBRDHT</a>, <a class="el" href="classKBRTestApp.html#a544559c72c244032558522e8345bf6a1">KBRTestApp</a>, <a class="el" href="classP2pns.html#a0df65171d255c1ccc29b7f012e9898f2">P2pns</a>, <a class="el" href="classSimMud.html#aca84bd1a6d622f511efc69efdcc87782">SimMud</a>, <a class="el" href="classGIASearchApp.html#afa0920c5aeca3cb9e0c949fed5d8833c">GIASearchApp</a>, <a class="el" href="classBamboo.html#a6d3f0705b1495c225432238094a38cea">Bamboo</a>, <a class="el" href="classPastry.html#aabc1a8eaab8eea9ec5e4830ee60499f8">Pastry</a>, <a class="el" href="classSimpleGameClient.html#a8558f15f8e978861562e7fa7d2c59d04">SimpleGameClient</a>, <a class="el" href="classoversim_1_1Koorde.html#ad57f65c954b86e89a31166764f616a87">oversim::Koorde</a>, <a class="el" href="classoversim_1_1Chord.html#a0eb314d0fed6ee1d57ab2fa0f1f15d36">oversim::Chord</a>, <a class="el" href="classTCPExampleApp.html#afee6e1160c3a7e839fa0435048d01d20">TCPExampleApp</a>, <a class="el" href="classNTree.html#ab9a8563095fe0b7cbd95eb98a166d0b4">NTree</a>, <a class="el" href="classALMTest.html#a342be0b9131b4b028cb1cdeb98d39512">ALMTest</a>, <a class="el" href="classQuon.html#a77a76cd536634a9d90b208cb3f662bd4">Quon</a>, <a class="el" href="classVast.html#a8b0fcea2fc373e49bb5b496fe8049f10">Vast</a>, <a class="el" href="classMyApplication.html#a9b075bf0301762be15b63a1e3b69f06a">MyApplication</a>, <a class="el" href="classRealWorldTestApp.html#ad04fadea31c527057c1e81ceb40bd0b8">RealWorldTestApp</a>, <a class="el" href="classMyOverlay.html#a9fa3f3705a1825911d534892d6846237">MyOverlay</a>, <a class="el" href="classPubSubLobby.html#a1e372f6bf585a978a0f5cdc2d9f95fde">PubSubLobby</a>, <a class="el" href="classPubSubMMOG.html#a3df1116194918ab1768c1afbdef4fb00">PubSubMMOG</a>, and <a class="el" href="classHStreaming.html#a3b131aea23e3de1350ebe84fa683a6a5">HStreaming</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00086">86</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00059">internalHandleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// ...</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a270e68f0d93dfcf9c5f26dbafd0fba54"></a><!-- doxytag: member="BaseRpc::initRpcs" ref="a270e68f0d93dfcf9c5f26dbafd0fba54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::initRpcs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes Remote-Procedure state. </p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00092">92</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// set friend modules</span>
    <a class="code" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d" title="pointer to GlobalStatistics module in this node">globalStatistics</a> = <a class="code" href="classGlobalStatisticsAccess.html" title="Gives access to the GlobalStatistics module.">GlobalStatisticsAccess</a>().<a class="code" href="classGlobalStatisticsAccess.html#ac00f1d00c91c814f250788d315bde4fe" title="returns the GlobalStatistics module">get</a>();

    <a class="code" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">rpcUdpTimeout</a> = par(<span class="stringliteral">&quot;rpcUdpTimeout&quot;</span>);
    <a class="code" href="classBaseRpc.html#a0e3d1dc5889337099be6ff9e28b73240">rpcKeyTimeout</a> = par(<span class="stringliteral">&quot;rpcKeyTimeout&quot;</span>);
    <a class="code" href="classBaseRpc.html#a1ac45c35436f95f0717a202b3d0ac9a2">optimizeTimeouts</a> = par(<span class="stringliteral">&quot;optimizeTimeouts&quot;</span>);
    <a class="code" href="classBaseRpc.html#a0dc0c1443bf9b23da0c0e7d4fc9af41c">rpcExponentialBackoff</a> = par(<span class="stringliteral">&quot;rpcExponentialBackoff&quot;</span>);

    <a class="code" href="classBaseRpc.html#af109c565dddd82caff9f4230a8b87e32">rpcsPending</a> = 0;
    <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.clear();

    <a class="code" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a> = <span class="keyword">new</span> <a class="code" href="classRpcListener.html" title="A Remote-Procedure-Call listener class.">RpcListener</a>();

    <span class="comment">//set ping cache</span>
    <a class="code" href="classBaseRpc.html#a16d5d34610391c442e9f9cde71b2518a">numPingSent</a> = 0;
    <a class="code" href="classBaseRpc.html#a5653805d9dcb9a53bc240b388e735389">bytesPingSent</a> = 0;
    <a class="code" href="classBaseRpc.html#a5f194baa9787f523bdbf6f8639356a62">numPingResponseSent</a> = 0;
    <a class="code" href="classBaseRpc.html#a8525bc500487a2641a2a947b0d5e1946">bytesPingResponseSent</a> = 0;

    WATCH(<a class="code" href="classBaseRpc.html#a16d5d34610391c442e9f9cde71b2518a">numPingSent</a>);
    WATCH(<a class="code" href="classBaseRpc.html#a5653805d9dcb9a53bc240b388e735389">bytesPingSent</a>);
    WATCH(<a class="code" href="classBaseRpc.html#a5f194baa9787f523bdbf6f8639356a62">numPingResponseSent</a>);
    WATCH(<a class="code" href="classBaseRpc.html#a8525bc500487a2641a2a947b0d5e1946">bytesPingResponseSent</a>);

    <span class="comment">// set overlay pointer</span>
    <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a> = <a class="code" href="classOverlayAccess.html" title="Gives access to the overlay.">OverlayAccess</a>().<a class="code" href="classOverlayAccess.html#a121dd3e5c500294f55ed89dec818bccc">get</a>(<span class="keyword">this</span>);

    <span class="comment">// register component</span>
    <a class="code" href="classBaseRpc.html#a3edfa69071548f98e78b8669f564953a">thisCompType</a> = <a class="code" href="classBaseRpc.html#aa76a787b8fbbc33de93646edc67f0e23" title="Return the component type of this module.">getThisCompType</a>();
    <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a2096f89814b5740257cee106b60dda15">registerComp</a>(<a class="code" href="classBaseRpc.html#a3edfa69071548f98e78b8669f564953a">thisCompType</a>, <span class="keyword">this</span>);

    <span class="comment">// get pointer to the neighborCache</span>
    cModule *mod = getParentModule();
    <span class="keywordflow">while</span> (<a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a> == NULL) {
        <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a> = (<a class="code" href="classNeighborCache.html">NeighborCache</a>*)mod-&gt;getSubmodule(<span class="stringliteral">&quot;neighborCache&quot;</span>);
        mod = mod-&gt;getParentModule();
        <span class="keywordflow">if</span> (!mod)
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;BaseRpc::initRpc: &quot;</span>
                                <span class="stringliteral">&quot;Module type contains no NeighborCache!&quot;</span>);
    }

    <span class="comment">// get pointer to the cryptoModule</span>
    mod = getParentModule();
    <a class="code" href="classBaseRpc.html#a394dcba6b6307c746927bf74fbea33a5" title="pointer to CryptoModule">cryptoModule</a> = NULL;
    <span class="keywordflow">while</span> (<a class="code" href="classBaseRpc.html#a394dcba6b6307c746927bf74fbea33a5" title="pointer to CryptoModule">cryptoModule</a> == NULL) {
        <a class="code" href="classBaseRpc.html#a394dcba6b6307c746927bf74fbea33a5" title="pointer to CryptoModule">cryptoModule</a> = (<a class="code" href="classCryptoModule.html" title="The CryptoModule contains several method needed for message authentication.">CryptoModule</a>*)mod-&gt;getSubmodule(<span class="stringliteral">&quot;cryptoModule&quot;</span>);
        mod = mod-&gt;getParentModule();
        <span class="keywordflow">if</span> (!mod)
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;BaseRpc::initRpc: CryptoModule not found!&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad68b7208473ba1301deb59d51f0bba6c"></a><!-- doxytag: member="BaseRpc::internalHandleMessage" ref="ad68b7208473ba1301deb59d51f0bba6c" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BaseRpc::internalHandleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00059">59</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// process self-messages and RPC-timeouts</span>
    <span class="keywordflow">if</span> (msg-&gt;isSelfMessage()) {
        <span class="comment">// process rpc self-messages</span>
        <a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>* rpcMessage = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>*<span class="keyword">&gt;</span>(msg);
        <span class="keywordflow">if</span> (rpcMessage != NULL) {
            <a class="code" href="classBaseRpc.html#a26c06fa9558c497e6dfe1ba6c5153042" title="Handles incoming rpc messages and delegates them to the corresponding listeners or handlers...">internalHandleRpcMessage</a>(rpcMessage);
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        <span class="comment">// process all other self-messages</span>
        <a class="code" href="classBaseRpc.html#ab893c156412e38caa62fe058b229899b">handleTimerEvent</a>(msg);
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }

    <span class="comment">// process RPC messages</span>
    <a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>* rpcMessage = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseRpcMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseRpcMessage</a>*<span class="keyword">&gt;</span>(msg);
    <span class="keywordflow">if</span> (rpcMessage != NULL) {
        <a class="code" href="classBaseRpc.html#a26c06fa9558c497e6dfe1ba6c5153042" title="Handles incoming rpc messages and delegates them to the corresponding listeners or handlers...">internalHandleRpcMessage</a>(rpcMessage);
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }

    <span class="comment">// other messages are processed by derived classes</span>
    <span class="comment">// (e.g. BaseOverlay / BaseApp)</span>
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a45b60cfeaa59a7efafeb5bcbb56f50a5"></a><!-- doxytag: member="BaseRpc::internalHandleRpcCall" ref="a45b60cfeaa59a7efafeb5bcbb56f50a5" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BaseRpc::internalHandleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles internal rpc requests. </p>
<p><br/>
</p>
<p>This method is used to implement basic functionality in the <a class="el" href="classBaseRpc.html" title="Base class for RPCs.">BaseRpc</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The call message </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool true, if call has been handled. </dd></dl>

<p>Reimplemented in <a class="el" href="classBaseOverlay.html#a03a24a5876504b36177a0ee041d5822e">BaseOverlay</a>, and <a class="el" href="classBaseApp.html#a2d827aeca70a404e673e8be9268659c0">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00492">492</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseApp_8cc_source.html#l00559">BaseApp::internalHandleRpcCall()</a>, <a class="el" href="BaseOverlay_8cc_source.html#l01723">BaseOverlay::internalHandleRpcCall()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg );
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( Ping, <a class="code" href="classBaseRpc.html#aa398208e1cab8ddbb8df60b73af58597">pingRpcCall</a> );
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( );

    <span class="keywordflow">return</span> <a class="code" href="RpcMacros_8h.html#aa5e964b7c7129c0943237a786e455e9a">RPC_HANDLED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a26c06fa9558c497e6dfe1ba6c5153042"></a><!-- doxytag: member="BaseRpc::internalHandleRpcMessage" ref="a26c06fa9558c497e6dfe1ba6c5153042" args="(BaseRpcMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::internalHandleRpcMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseRpcMessage.html">BaseRpcMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles incoming rpc messages and delegates them to the corresponding listeners or handlers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to handle. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00293">293</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00059">internalHandleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// check if this is a rpc call message</span>
    <a class="code" href="classBaseCallMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseCallMessage</a>* rpCall = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseCallMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseCallMessage</a>*<span class="keyword">&gt;</span>(msg);
    <span class="keywordflow">if</span> (rpCall != NULL) {
        <span class="comment">// verify the message signature</span>
        <span class="comment">//cryptoModule-&gt;verifyMessage(msg);</span>

        <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* overlayCtrlInfo =
            <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*<span class="keyword">&gt;</span>(msg-&gt;getControlInfo());

        <span class="keywordflow">if</span> (overlayCtrlInfo &amp;&amp; overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad1a712f1757d7441e1a74ad98bfd71f4">getSrcRoute</a>().<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() &amp;&amp;
            (!overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad12b7ac74244fb7ab79ebf41e05fe79c">getLastHop</a>().<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>())) {
            overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a5a7c2dbadb3b6878d0d34a8fe65590d1">setSrcRoute</a>(<a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>(msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                               overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad12b7ac74244fb7ab79ebf41e05fe79c">getLastHop</a>()));
        }

        <span class="keywordtype">bool</span> rpcHandled = <span class="keyword">true</span>;
        <span class="keywordflow">if</span> (!<a class="code" href="classBaseRpc.html#a20e77c3e0c203762a5b582ffebe3ba4b" title="Processes Remote-Procedure-Call invocation messages.">handleRpcCall</a>(rpCall)) rpcHandled = <a class="code" href="classBaseRpc.html#a45b60cfeaa59a7efafeb5bcbb56f50a5" title="Handles internal rpc requests.">internalHandleRpcCall</a>(rpCall);
        <span class="keywordflow">if</span> (!rpcHandled) {
            EV &lt;&lt; <span class="stringliteral">&quot;[BaseRpc::internalHandleRpcMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
               &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    Error: RPC &#39;&quot;</span> &lt;&lt; msg-&gt;getFullName()&lt;&lt; <span class="stringliteral">&quot;&#39; was not handled&quot;</span>
               &lt;&lt; endl;
            <span class="keyword">delete</span> msg;
        }
        <span class="keywordflow">return</span>;
    }

    <span class="comment">// get nonce</span>
    <span class="keywordtype">int</span> nonce = msg-&gt;<a class="code" href="classBaseRpcMessage.html#a79f78c32aa4461025a89e8de3bc35702">getNonce</a>();

    <span class="comment">// nonce known? no -&gt; delete message and return</span>
    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.count(nonce)==0) {
        EV &lt;&lt; <span class="stringliteral">&quot;[BaseRpc::internalHandleRpcMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    RPC: Nonce Unknown&quot;</span>
           &lt;&lt; endl;
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }

    <span class="comment">// get state and remove from map</span>
    <a class="code" href="classRpcState.html">RpcState</a> state = <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>[nonce];
    <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.erase(nonce);

    <span class="comment">// is timeout message?</span>
    <span class="keywordflow">if</span> (msg-&gt;isSelfMessage() &amp;&amp;
        (<span class="keyword">dynamic_cast&lt;</span><a class="code" href="classRpcTimeoutMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">RpcTimeoutMessage</a>*<span class="keyword">&gt;</span>(msg) != NULL)) {
        <span class="comment">// yes-&gt; inform listener</span>

        <span class="comment">// retry?</span>
        state.<a class="code" href="classRpcState.html#a9d8de7ffa3ada360063e97c00cf5fa13">retries</a>--;
        <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a9d8de7ffa3ada360063e97c00cf5fa13">retries</a>&gt;=0) {
            <span class="comment">// TODO: cleanup code to have only one type for source routes</span>
            std::vector&lt;TransportAddress&gt; sourceRoute;
            sourceRoute.push_back(*state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>);
            <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>-&gt;<a class="code" href="classTransportAddress.html#a77e5ef053f35c57a510063ed01a82d8b" title="Returns the length of the source route to reach this node.">getSourceRouteSize</a>() &gt; 0) {
                sourceRoute.insert(sourceRoute.begin(),
                                   state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>-&gt;<a class="code" href="classTransportAddress.html#a4481a01d6223b5f052c9302205c9a078" title="Returns source route used to reach this node.">getSourceRoute</a>().rend(),
                                   state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>-&gt;<a class="code" href="classTransportAddress.html#a4481a01d6223b5f052c9302205c9a078" title="Returns source route used to reach this node.">getSourceRoute</a>().rbegin());
                <span class="comment">// remove the original source route from the destination</span>
                sourceRoute.back().clearSourceRoute();
            }

            <a class="code" href="classBaseRpc.html#adb13716a0ebdfa359f7498f6ba1b8508">sendRpcMessageWithTransport</a>(state.<a class="code" href="classRpcState.html#a84bbe60e7474627bd5ee0d37a19d76d8">transportType</a>, state.<a class="code" href="classRpcState.html#a83c440f3ea8f8412c606722c4e5b9343">destComp</a>,
                                        state.<a class="code" href="classRpcState.html#a267a75cf58f42204f3e793c2b7298e95">routingType</a>,
                                        sourceRoute,
                                        state.<a class="code" href="classRpcState.html#a7da91029796444bf8ef490710adeacec">destKey</a>,
                                        dynamic_cast&lt;BaseCallMessage*&gt;
                                        (state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a>-&gt;<a class="code" href="classBaseCallMessage.html#a2e1b28efce2f3b0b45c6b101b9515704">dup</a>()));

            <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a0dc0c1443bf9b23da0c0e7d4fc9af41c">rpcExponentialBackoff</a>) {
                state.<a class="code" href="classRpcState.html#ade382a69df3a34d8e7ee83eb5ab4d1fd">rto</a> *= 2;
            }

            <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#ade382a69df3a34d8e7ee83eb5ab4d1fd">rto</a>!=0)
                scheduleAt(simTime() + state.<a class="code" href="classRpcState.html#ade382a69df3a34d8e7ee83eb5ab4d1fd">rto</a>, msg);

            state.<a class="code" href="classRpcState.html#a97fd14be15108343e25a4a248efb3a62">timeSent</a> = simTime();
            <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>[nonce] = state;
            <span class="keywordflow">return</span>;
        }
        EV &lt;&lt; <span class="stringliteral">&quot;[BaseRpc::internalHandleRpcMessage() @ &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    RPC to &quot;</span> &lt;&lt; state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>-&gt;<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; timeout (&quot;</span> &lt;&lt; state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>
           &lt;&lt; endl;

        <span class="comment">// inform neighborcache</span>
        <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a84bbe60e7474627bd5ee0d37a19d76d8">transportType</a> == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a> ||
            (!state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>-&gt;<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>() &amp;&amp; state.<a class="code" href="classRpcState.html#a7da91029796444bf8ef490710adeacec">destKey</a>.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())) {
            <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a93099fadb692a42cbe4c0757f28cf0c3">setNodeTimeout</a>(*state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>);
        }

        <span class="comment">// inform listener</span>
        <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a06c6fc1f6dc38ac4e370d35ca1e9488d">listener</a> != NULL)
            state.<a class="code" href="classRpcState.html#a06c6fc1f6dc38ac4e370d35ca1e9488d">listener</a>-&gt;<a class="code" href="classRpcListener.html#aaaf9cd362481527ed995dd159aa96b73" title="This method is called if an RPC timeout has been reached.">handleRpcTimeout</a>(state);

        <span class="comment">// inform overlay</span>
        <a class="code" href="classBaseRpc.html#ae4b1dfdb39322697542e02d3be48a848" title="Handles rpc timeouts internal in base classes ">internalHandleRpcTimeout</a>(state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a>, *state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>, state.<a class="code" href="classRpcState.html#a54ba0c872daf45da9c05a6fea7a97f10">context</a>,
                                 state.<a class="code" href="classRpcState.html#ae2280f03e7a177053f89a93b24fe3297">id</a>, state.<a class="code" href="classRpcState.html#a7da91029796444bf8ef490710adeacec">destKey</a>);
        <a class="code" href="classRpcListener.html#aaaf9cd362481527ed995dd159aa96b73" title="This method is called if an RPC timeout has been reached.">handleRpcTimeout</a>(state);

    } <span class="keywordflow">else</span> { <span class="comment">// no-&gt; handle rpc response</span>

        <span class="comment">// verify the message signature</span>
        <span class="comment">//cryptoModule-&gt;verifyMessage(msg);</span>

        <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* overlayCtrlInfo =
            <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*<span class="keyword">&gt;</span>(msg-&gt;getControlInfo());

        <span class="keywordflow">if</span> (overlayCtrlInfo &amp;&amp; overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad1a712f1757d7441e1a74ad98bfd71f4">getSrcRoute</a>().<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() &amp;&amp;
                 (!overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad12b7ac74244fb7ab79ebf41e05fe79c">getLastHop</a>().<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>())) {
             overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a5a7c2dbadb3b6878d0d34a8fe65590d1">setSrcRoute</a>(<a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>(msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>(),
                                                overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad12b7ac74244fb7ab79ebf41e05fe79c">getLastHop</a>()));
        }

        <span class="comment">// drop responses with wrong source key</span>
        <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a7da91029796444bf8ef490710adeacec">destKey</a>.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>()) {
            <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>* stateHandle =
                <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>*<span class="keyword">&gt;</span>(state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>);
                <span class="keywordflow">if</span> (stateHandle != NULL &amp;&amp;
                    stateHandle-&gt;<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>() != msg-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>()) {

                    EV &lt;&lt; <span class="stringliteral">&quot;[BaseRpc::internalHandleRpcMessage() @ &quot;</span>
                       &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                       &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>.<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                       &lt;&lt; <span class="stringliteral">&quot;    Dropping RPC: Invalid source key&quot;</span>
                       &lt;&lt; endl;

                    <span class="comment">// restore state to trigger timeout message</span>
                    <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>[nonce] = state;
                    <span class="keyword">delete</span> msg;
                    <span class="keywordflow">return</span>;
                }
        }

        <span class="comment">// get parameters</span>
        simtime_t rtt = simTime() - state.<a class="code" href="classRpcState.html#a97fd14be15108343e25a4a248efb3a62">timeSent</a>;
        <a class="code" href="classBaseResponseMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseResponseMessage</a>* response
            = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseResponseMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseResponseMessage</a>*<span class="keyword">&gt;</span>(msg);

        <span class="comment">//if (state.transportType == UDP_TRANSPORT)</span>
        <span class="comment">//    globalStatistics-&gt;recordOutVector(&quot;BaseRpc: UDP Round Trip Time&quot;,</span>
        <span class="comment">//                                      rtt);</span>

        <span class="comment">// neighborCache/ncs stuff</span>
        <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a84bbe60e7474627bd5ee0d37a19d76d8">transportType</a> == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a> ||
            (state.<a class="code" href="classRpcState.html#a84bbe60e7474627bd5ee0d37a19d76d8">transportType</a> != <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a> &amp;&amp;
             response-&gt;<a class="code" href="classBaseResponseMessage.html#a37417381f7d44bcdf98f9ac8fea75751">getCallHopCount</a>() == 1)) {
            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ncsArraySize = response-&gt;<a class="code" href="classBaseResponseMessage.html#a1a793c9078236fc7a397dd0688994c62">getNcsInfoArraySize</a>();
            <span class="keywordflow">if</span> (ncsArraySize &gt; 0) {
                std::vector&lt;double&gt; tempCoords(ncsArraySize);
                <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; ncsArraySize; i++) {
                    tempCoords[i] = response-&gt;<a class="code" href="classBaseResponseMessage.html#a19f5158a6c4cf04297ad95ed754bdff8">getNcsInfo</a>(i);
                }
                <a class="code" href="classAbstractNcsNodeInfo.html">AbstractNcsNodeInfo</a>* coords =
                    <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#affdf04759fd1df8315954b8789d91eab">getNcsAccess</a>().<a class="code" href="classAbstractNcs.html#a5e4016ca69bef7e7faf03e91a46b458c">createNcsInfo</a>(tempCoords);

                <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* ctrlInfo =
                    <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*<span class="keyword">&gt;</span>(response-&gt;getControlInfo());

                <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a057e94a37705dfab0ab1f91417603450">updateNode</a>(response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>(), rtt,
                                          (ctrlInfo ?
                                           ctrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad1a712f1757d7441e1a74ad98bfd71f4">getSrcRoute</a>() :
                                           <a class="code" href="classNodeHandle.html#a79bf2c5e29c969cbd0b2581cb188d8a6" title="the unspecified NodeHandle">NodeHandle::UNSPECIFIED_NODE</a>),
                                           coords);
            } <span class="keywordflow">else</span> {
                <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a057e94a37705dfab0ab1f91417603450">updateNode</a>(response-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>(), rtt);
            }
        }

        <span class="comment">// inform listener</span>
        <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#a06c6fc1f6dc38ac4e370d35ca1e9488d">listener</a> != NULL)
            state.<a class="code" href="classRpcState.html#a06c6fc1f6dc38ac4e370d35ca1e9488d">listener</a>-&gt;<a class="code" href="classRpcListener.html#a6229090a446fb649cfec3c1fb61e7167" title="This method is called if an RPC response has been received.">handleRpcResponse</a>(response, state, rtt);

        <span class="comment">// inform overlay</span>
        <a class="code" href="classBaseRpc.html#ad25a2ad1fb68d2da5d1fab8b577592a4" title="Handles rpc responses internal in base classes ">internalHandleRpcResponse</a>(response, state.<a class="code" href="classRpcState.html#a54ba0c872daf45da9c05a6fea7a97f10">context</a>, state.<a class="code" href="classRpcState.html#ae2280f03e7a177053f89a93b24fe3297">id</a>, rtt);
        <a class="code" href="classRpcListener.html#a6229090a446fb649cfec3c1fb61e7167" title="This method is called if an RPC response has been received.">handleRpcResponse</a>(response, state, rtt);

        <span class="comment">// delete response</span>
        <span class="keyword">delete</span> response-&gt;removeControlInfo();
        <span class="keyword">delete</span> response;
    }

    <span class="comment">// delete messages</span>
    <span class="keyword">delete</span> state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a>;
    cancelAndDelete(state.<a class="code" href="classRpcState.html#a2709b29880ed2e6e03cf8b42a0db89d5">timeoutMsg</a>);
    <span class="keyword">delete</span> state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a>;

    <span class="comment">// clean up pointers</span>
    state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a> = NULL;
    state.<a class="code" href="classRpcState.html#a54ba0c872daf45da9c05a6fea7a97f10">context</a> = NULL;
    state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a> = NULL;
    state.<a class="code" href="classRpcState.html#a2709b29880ed2e6e03cf8b42a0db89d5">timeoutMsg</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad25a2ad1fb68d2da5d1fab8b577592a4"></a><!-- doxytag: member="BaseRpc::internalHandleRpcResponse" ref="ad25a2ad1fb68d2da5d1fab8b577592a4" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::internalHandleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles rpc responses internal in base classes<br/>
 </p>
<p>This method is used to implement basic functionality in the <a class="el" href="classBaseRpc.html" title="Base class for RPCs.">BaseRpc</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The call message </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classBaseRpc.html#ad25a2ad1fb68d2da5d1fab8b577592a4" title="Handles rpc responses internal in base classes ">internalHandleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The ID of the call </td></tr>
    <tr><td class="paramname">rtt</td><td>the time between sending the call and receiving the response </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classBaseOverlay.html#adc50f1e153d88a20ca921e84a0dbf3b2">BaseOverlay</a>, and <a class="el" href="classBaseApp.html#ab3577433bc200bc7a6f533312c58b91c">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00501">501</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>, <a class="el" href="BaseApp_8cc_source.html#l00565">BaseApp::internalHandleRpcResponse()</a>, and <a class="el" href="BaseOverlay_8cc_source.html#l01737">BaseOverlay::internalHandleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// call rpc stubs</span>
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg );
    <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>( Ping ) {
        <a class="code" href="classBaseRpc.html#a2042b62345b9f494d01b55ab946eaf48">pingRpcResponse</a>(_PingResponse, context, rpcId, rtt);
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( );
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae4b1dfdb39322697542e02d3be48a848"></a><!-- doxytag: member="BaseRpc::internalHandleRpcTimeout" ref="ae4b1dfdb39322697542e02d3be48a848" args="(BaseCallMessage *msg, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;destKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::internalHandleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles rpc timeouts internal in base classes<br/>
 </p>
<p>This method is used to implement basic functionality in the <a class="el" href="classBaseRpc.html" title="Base class for RPCs.">BaseRpc</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The call message </td></tr>
    <tr><td class="paramname">dest</td><td>The node that did not response </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classBaseRpc.html#ad25a2ad1fb68d2da5d1fab8b577592a4" title="Handles rpc responses internal in base classes ">internalHandleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The ID of the call </td></tr>
    <tr><td class="paramname">destKey</td><td>The key of the call if used </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool true, if call has been handled. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>return bool? </dd></dl>

<p>Reimplemented in <a class="el" href="classBaseOverlay.html#ac89854c2f011597f3421d414851f4407">BaseOverlay</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00513">513</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>, and <a class="el" href="BaseOverlay_8cc_source.html#l01744">BaseOverlay::internalHandleRpcTimeout()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg ) {
        <a class="code" href="RpcMacros_8h.html#ae07fad586ce7b9e82ad12848767a32e5">RPC_ON_CALL</a>( Ping ) {
            <a class="code" href="classBaseRpc.html#a2789009bedea79d85900252a19b23927">pingRpcTimeout</a>(_PingCall, dest, context, rpcId);
        }
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2c7d2b7bc0e2b9eef6481c654d57d877"></a><!-- doxytag: member="BaseRpc::internalSendRouteRpc" ref="a2c7d2b7bc0e2b9eef6481c654d57d877" args="(BaseRpcMessage *message, const OverlayKey &amp;destKey, const std::vector&lt; TransportAddress &gt; &amp;sourceRoute, RoutingType routingType)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BaseRpc::internalSendRouteRpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseRpcMessage.html">BaseRpcMessage</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sourceRoute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="classBaseOverlay.html#afe4a27831cec5ad68f1ddca071461808">BaseOverlay</a>, and <a class="el" href="classBaseApp.html#a766d0849fb0786ce51269e73fd4c9f84">BaseApp</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00620">sendRpcMessageWithTransport()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e96c8787fba93dc24c673507152cff3"></a><!-- doxytag: member="BaseRpc::internalSendRpcResponse" ref="a8e96c8787fba93dc24c673507152cff3" args="(BaseCallMessage *call, BaseResponseMessage *response)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BaseRpc::internalSendRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="classBaseOverlay.html#a3b7e4eeca10c3052e0bb51762fe1ce71">BaseOverlay</a>, and <a class="el" href="classBaseApp.html#a286d01727e3a18377232ac9f5e8b07c7">BaseApp</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00600">sendRpcResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a421904b1b501580efed12e6490d3324a"></a><!-- doxytag: member="BaseRpc::pingNode" ref="a421904b1b501580efed12e6490d3324a" args="(const TransportAddress &amp;dest, simtime_t timeout=&#45;1, int retries=0, cPolymorphic *context=NULL, const char *caption=&quot;PING&quot;, RpcListener *rpcListener=NULL, int rpcId=&#45;1, TransportType transportType=INVALID_TRANSPORT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseRpc::pingNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>caption</em> = <code>&quot;PING&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a>&#160;</td>
          <td class="paramname"><em>transportType</em> = <code>INVALID_TRANSPORT</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ping a node by its <a class="el" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a> </p>
<p>Statistics are collected by this method.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>the node to ping </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout </td></tr>
    <tr><td class="paramname">retries</td><td>how often to retry after timeout </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">caption</td><td>special name for the ping call (instead of "PING") </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">transportType</td><td>The transport used for this RPC </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the nonce of the sent ping call </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00702">702</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="IterativeLookup_8cc_source.html#l00416">IterativeLookup::addSibling()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00623">Pastry::handleRequestLeafSetResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00654">Pastry::handleRequestRoutingRowResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>, <a class="el" href="Kademlia_8cc_source.html#l01121">Kademlia::handleTimerEvent()</a>, <a class="el" href="Kademlia_8cc_source.html#l00204">Kademlia::joinOverlay()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00991">NeighborCache::queryProx()</a>, and <a class="el" href="Kademlia_8cc_source.html#l00320">Kademlia::routingAdd()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classPingCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">PingCall</a>* call = <span class="keyword">new</span> <a class="code" href="classPingCall.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">PingCall</a>(caption);
    call-&gt;setBitLength(<a class="code" href="CommonMessages__m_8h.html#ab7ee4e96118fb051913602b515b24297">PINGCALL_L</a>(call));
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseRpc.html#a16d5d34610391c442e9f9cde71b2518a">numPingSent</a>++; <a class="code" href="classBaseRpc.html#a5653805d9dcb9a53bc240b388e735389">bytesPingSent</a> += call-&gt;getByteLength());

    <span class="keywordflow">if</span> (transportType == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a> ||
        (transportType != <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a> &amp;&amp;
         <a class="code" href="classBaseRpc.html#aa76a787b8fbbc33de93646edc67f0e23" title="Return the component type of this module.">getThisCompType</a>() == <a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ead1b904580b02f8adaa1ab2de239c4c79">OVERLAY_COMP</a>)) {
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#ac128e0ff0d09f81b652f7d3e00ce9441" title="Sends a Remote-Procedure-Call message to the underlay ">sendUdpRpcCall</a>(dest, call, context, timeout, retries, rpcId,
                       rpcListener);
    } <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="classBaseRpc.html#aa76a787b8fbbc33de93646edc67f0e23" title="Return the component type of this module.">getThisCompType</a>(), dest, call, context,
                         <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>, timeout, retries, rpcId,
                         rpcListener);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="afdf8ba10dc92ed3d351c8a7472c2093e"></a><!-- doxytag: member="BaseRpc::pingResponse" ref="afdf8ba10dc92ed3d351c8a7472c2093e" args="(PingResponse *pingResponse, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::pingResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPingResponse.html">PingResponse</a> *&#160;</td>
          <td class="paramname"><em>pingResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classoversim_1_1Chord.html#aed457bb4c6d08a24f916fb7bbbc91952">oversim::Chord</a>, <a class="el" href="classBroose.html#a0e74d664db69ad2cefde9d3443a36cc6">Broose</a>, <a class="el" href="classNeighborCache.html#ab3c80224821887880caf9192c4d83a8e">NeighborCache</a>, <a class="el" href="classKBRTestApp.html#afec33d48dc2b5c2920391f29abab1237">KBRTestApp</a>, <a class="el" href="classBootstrapList.html#a3eb9d08b32d70520df0d389731090ec9">BootstrapList</a>, and <a class="el" href="classPastry.html#a5d3a97713d0a9653e64d252297d41c15">Pastry</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00659">659</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00688">pingRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa398208e1cab8ddbb8df60b73af58597"></a><!-- doxytag: member="BaseRpc::pingRpcCall" ref="aa398208e1cab8ddbb8df60b73af58597" args="(PingCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::pingRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPingCall.html">PingCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00669">669</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00492">internalHandleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::string pongName(call-&gt;getName());
    <span class="keywordflow">if</span> (pongName == <span class="stringliteral">&quot;PING&quot;</span>)
        pongName = <span class="stringliteral">&quot;PONG&quot;</span>;
    <span class="keywordflow">else</span> {
        pongName = <span class="stringliteral">&quot;PONG: [ &quot;</span>;
        pongName += call-&gt;getName();
        pongName += <span class="stringliteral">&quot; ]&quot;</span>;
    }

    <a class="code" href="classPingResponse.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">PingResponse</a>* response = <span class="keyword">new</span> <a class="code" href="classPingResponse.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">PingResponse</a>(pongName.c_str());
    response-&gt;setBitLength(<a class="code" href="CommonMessages__m_8h.html#ae3c44f7f2bca0070e7fa3077731de647">PINGRESPONSE_L</a>(response));
    <a class="code" href="GlobalStatistics_8h.html#af29140ebe8e0a93406a58441f7c5fec8" title="Macro used for recording statistics considering measureNetwIn parameter.">RECORD_STATS</a>(<a class="code" href="classBaseRpc.html#a5f194baa9787f523bdbf6f8639356a62">numPingResponseSent</a>++; <a class="code" href="classBaseRpc.html#a8525bc500487a2641a2a947b0d5e1946">bytesPingResponseSent</a> +=
        response-&gt;getByteLength());

    <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(call, response );
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2042b62345b9f494d01b55ab946eaf48"></a><!-- doxytag: member="BaseRpc::pingRpcResponse" ref="a2042b62345b9f494d01b55ab946eaf48" args="(PingResponse *response, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::pingRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPingResponse.html">PingResponse</a> *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classP2pns.html#ad99741575de9f1681597bdda146f1744">P2pns</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00688">688</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00501">internalHandleRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBaseRpc.html#afdf8ba10dc92ed3d351c8a7472c2093e">pingResponse</a>(response, context, rpcId, rtt);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2789009bedea79d85900252a19b23927"></a><!-- doxytag: member="BaseRpc::pingRpcTimeout" ref="a2789009bedea79d85900252a19b23927" args="(PingCall *pingCall, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::pingRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPingCall.html">PingCall</a> *&#160;</td>
          <td class="paramname"><em>pingCall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00694">694</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00513">internalHandleRpcTimeout()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classBaseRpc.html#afd90e156e9aa1dff7e4e99f50b2c9b51">pingTimeout</a>(pingCall, dest, context, rpcId);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd90e156e9aa1dff7e4e99f50b2c9b51"></a><!-- doxytag: member="BaseRpc::pingTimeout" ref="afd90e156e9aa1dff7e4e99f50b2c9b51" args="(PingCall *pingCall, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::pingTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPingCall.html">PingCall</a> *&#160;</td>
          <td class="paramname"><em>pingCall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classoversim_1_1Chord.html#a17b3783648663e0962f40b42e294bd55">oversim::Chord</a>, <a class="el" href="classBroose.html#aa089c2853d648b0009fcf501f8ec8c7f">Broose</a>, <a class="el" href="classNeighborCache.html#aef4fca6b3c22482d4424f83d7656ddc1">NeighborCache</a>, <a class="el" href="classBootstrapList.html#a092a947c1ff84f394e21280413422f88">BootstrapList</a>, and <a class="el" href="classP2pns.html#a4102f396c4053f34b4c5edd9fa915c12">P2pns</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00664">664</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00694">pingRpcTimeout()</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0dea7eed103c0e97176576d6642f7bfa"></a><!-- doxytag: member="BaseRpc::sendInternalRpcCall" ref="a0dea7eed103c0e97176576d6642f7bfa" args="(CompType destComp, BaseCallMessage *msg, cPolymorphic *context=NULL, simtime_t timeout=&#45;1, int retries=0, int rpcId=&#45;1, RpcListener *rpcListener=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BaseRpc::sendInternalRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends an internal Remote-Procedure-Call between two tiers<br/>
 </p>
<p>If no timeout is provided, a default value of globalParameters.rpcUdpTimeout for underlay and globalParameters.rpcKeyTimeout for a overlay rpc is used. After a timeout the message gets retransmitted for at maximum retries times. The destKey attribute is kept untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">destComp</td><td>Destination component </td></tr>
    <tr><td class="paramname">msg</td><td>RPC Call Message </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout in seconds (-1=use default value, 0=no timeout) </td></tr>
    <tr><td class="paramname">retries</td><td>How often we try to resent rpc call, if it gets lost </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The nonce of the RPC </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00326">326</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#abf8bd682bf17131b4bc58708b2e7ced2" title="Sends a Remote-Procedure-Call message to the underlay.">sendRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a>, destComp,
                           <a class="code" href="classTransportAddress.html#ac1709545db722cbbce1367034142d31f" title="TransportAddress without specified ip and port.">TransportAddress::UNSPECIFIED_NODE</a>,
                           <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>, msg, context,
                           <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551aec961f27dcdb3050f97033fbd88b89b3">NO_OVERLAY_ROUTING</a>, timeout, retries, rpcId,
                           rpcListener);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="abaae7e20b0960e9a90cadd216a2a6126"></a><!-- doxytag: member="BaseRpc::sendMessageToUDP" ref="abaae7e20b0960e9a90cadd216a2a6126" args="(const TransportAddress &amp;addr, cPacket *message, simtime_t delay=SIMTIME_ZERO)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BaseRpc::sendMessageToUDP </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPacket *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>delay</em> = <code>SIMTIME_ZERO</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classBaseOverlay.html#a10189697bd95f3de66c27c1ecf07e323">BaseOverlay</a>, and <a class="el" href="classBaseApp.html#a82df6d5b93be11580514c2b0c937208a">BaseApp</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00429">429</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00620">sendRpcMessageWithTransport()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;sendMessageToUDP() not implemented&quot;</span>);
    };
</pre></div>
</div>
</div>
<a class="anchor" id="a816918e82652f724c291923e018eabe2"></a><!-- doxytag: member="BaseRpc::sendRouteRpcCall" ref="a816918e82652f724c291923e018eabe2" args="(CompType destComp, const TransportAddress &amp;dest, const OverlayKey &amp;destKey, BaseCallMessage *msg, cPolymorphic *context=NULL, RoutingType routingType=DEFAULT_ROUTING, simtime_t timeout=&#45;1, int retries=0, int rpcId=&#45;1, RpcListener *rpcListener=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BaseRpc::sendRouteRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em> = <code>DEFAULT_ROUTING</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Routes a Remote-Procedure-Call message to an <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>. </p>
<p><br/>
</p>
<p>If no timeout is provided, a default value of globalParameters.rpcUdpTimeout for underlay and globalParameters.rpcKeyTimeout for a overlay rpc is used. After a timeout the message gets retransmitted for at maximum retries times. The destKey attribute is kept untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">destComp</td><td>The destination component </td></tr>
    <tr><td class="paramname">dest</td><td>Destination node handle (if specified, used as first hop) </td></tr>
    <tr><td class="paramname">destKey</td><td>Destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> (if unspecified, the message will be sent to dest using the overlay's UDP port) </td></tr>
    <tr><td class="paramname">msg</td><td>RPC Call Message </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">routingType</td><td>KBR routing type </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout in seconds (-1=use default value, 0=no timeout) </td></tr>
    <tr><td class="paramname">retries</td><td>How often we try to resent rpc call, if it gets lost </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The nonce of the RPC </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00178">178</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="HTopology_8cc_source.html#l00259">HTopology::changeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00293">TreeManagement::checkTreeChildNodes()</a>, <a class="el" href="HTopology_8cc_source.html#l00524">HTopology::finishOverlay()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00177">MyOverlay::getNeighbors()</a>, <a class="el" href="HTopology_8cc_source.html#l01113">HTopology::getParametersForSelectionAlgo()</a>, <a class="el" href="HTopology_8cc_source.html#l01142">HTopology::goAheadWithRestSelectionProcess()</a>, <a class="el" href="HTopology_8cc_source.html#l00476">HTopology::handleJoinTimerExpired()</a>, <a class="el" href="HTopology_8cc_source.html#l00358">HTopology::handleRescueParametersEstimationTimer()</a>, <a class="el" href="HTopology_8cc_source.html#l01036">HTopology::handleRpcResponse()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00138">TreeManagement::handleRpcTimeout()</a>, <a class="el" href="HTopology_8cc_source.html#l00980">HTopology::handleRpcTimeout()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>, <a class="el" href="HTopology_8cc_source.html#l00620">HTopology::initializeNodesOneUp()</a>, <a class="el" href="RecursiveLookup_8cc_source.html#l00054">RecursiveLookup::lookup()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00702">pingNode()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00423">TreeManagement::registerAtParent()</a>, <a class="el" href="HTopology_8cc_source.html#l01293">HTopology::scheduleDeadlineSegments()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00152">GlobalViewBuilder::sendCapRequest()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00272">TreeManagement::sendChildReleaseCall()</a>, <a class="el" href="Nps_8cc_source.html#l00424">Nps::sendCoordsReqCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00662">TreeManagement::sendMessageToChildren()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00634">TreeManagement::sendMessageToParent()</a>, <a class="el" href="DiscoveryMode_8cc_source.html#l00233">DiscoveryMode::sendNewRequest()</a>, <a class="el" href="HTopology_8cc_source.html#l00407">HTopology::sendSegmentToChildren()</a>, and <a class="el" href="DiscoveryMode_8cc_source.html#l00034">DiscoveryMode::start()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> (dest.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>() &amp;&amp; destKey.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>())
            opp_error(<span class="stringliteral">&quot;BaseRpc::sendRouteRpcCall() with both key and &quot;</span>
                      <span class="stringliteral">&quot;transportAddress unspecified!&quot;</span>);
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#abf8bd682bf17131b4bc58708b2e7ced2" title="Sends a Remote-Procedure-Call message to the underlay.">sendRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>, destComp, dest, destKey, msg,
                           context, routingType, timeout, retries,
                           rpcId, rpcListener);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="abfb0486832f6f42f6b4e35059bae5d21"></a><!-- doxytag: member="BaseRpc::sendRouteRpcCall" ref="abfb0486832f6f42f6b4e35059bae5d21" args="(CompType destComp, const OverlayKey &amp;destKey, BaseCallMessage *msg, cPolymorphic *context=NULL, RoutingType routingType=DEFAULT_ROUTING, simtime_t timeout=&#45;1, int retries=0, int rpcId=&#45;1, RpcListener *rpcListener=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BaseRpc::sendRouteRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em> = <code>DEFAULT_ROUTING</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Routes a Remote-Procedure-Call message to an <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>. </p>
<p><br/>
</p>
<p>If no timeout is provided, a default value of globalParameters.rpcUdpTimeout for underlay and globalParameters.rpcKeyTimeout for a overlay rpc is used. After a timeout the message gets retransmitted for at maximum retries times. The destKey attribute is kept untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">destComp</td><td>The destination component </td></tr>
    <tr><td class="paramname">destKey</td><td>Destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> </td></tr>
    <tr><td class="paramname">msg</td><td>RPC Call Message </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">routingType</td><td>KBR routing type </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout in seconds (-1=use default value, 0=no timeout) </td></tr>
    <tr><td class="paramname">retries</td><td>How often we try to resent rpc call, if it gets lost </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The nonce of the RPC </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00219">219</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#abf8bd682bf17131b4bc58708b2e7ced2" title="Sends a Remote-Procedure-Call message to the underlay.">sendRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>, destComp,
                           <a class="code" href="classTransportAddress.html#ac1709545db722cbbce1367034142d31f" title="TransportAddress without specified ip and port.">TransportAddress::UNSPECIFIED_NODE</a>,
                           destKey, msg, context, routingType, timeout,
                           retries, rpcId, rpcListener);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a6da40906ead3bb7faa0782f47385435e"></a><!-- doxytag: member="BaseRpc::sendRouteRpcCall" ref="a6da40906ead3bb7faa0782f47385435e" args="(CompType destComp, const TransportAddress &amp;dest, BaseCallMessage *msg, cPolymorphic *context=NULL, RoutingType routingType=DEFAULT_ROUTING, simtime_t timeout=&#45;1, int retries=0, int rpcId=&#45;1, RpcListener *rpcListener=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BaseRpc::sendRouteRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em> = <code>DEFAULT_ROUTING</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a Remote-Procedure-Call message using the overlay's UDP port<br/>
 This replaces ROUTE_DIRECT calls! </p>
<p>If no timeout is provided, a default value of globalParameters.rpcUdpTimeout for underlay and globalParameters.rpcKeyTimeout for a overlay rpc is used. After a timeout the message gets retransmitted for at maximum retries times. The destKey attribute is kept untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">destComp</td><td>The destination component </td></tr>
    <tr><td class="paramname">dest</td><td>Destination node handle (may contain a source route) </td></tr>
    <tr><td class="paramname">msg</td><td>RPC Call Message </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">routingType</td><td>KBR routing type </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout </td></tr>
    <tr><td class="paramname">retries</td><td>How often we try to resent rpc call, if it gets lost </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The nonce of the RPC </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00258">258</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#abf8bd682bf17131b4bc58708b2e7ced2" title="Sends a Remote-Procedure-Call message to the underlay.">sendRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>, destComp, dest,
                           <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>, msg, context,
                           routingType, timeout, retries, rpcId, rpcListener);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="abf8bd682bf17131b4bc58708b2e7ced2"></a><!-- doxytag: member="BaseRpc::sendRpcCall" ref="abf8bd682bf17131b4bc58708b2e7ced2" args="(TransportType transportType, CompType destComp, const TransportAddress &amp;dest, const OverlayKey &amp;destKey, BaseCallMessage *msg, cPolymorphic *context, RoutingType routingType, simtime_t timeout, int retries, int rpcId, RpcListener *rpcListener)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BaseRpc::sendRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a>&#160;</td>
          <td class="paramname"><em>transportType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a Remote-Procedure-Call message to the underlay. </p>
<p><br/>
 USE ONE OF THE WRAPPER FUNCTIONS INSTEAD: <br/>
 <a class="el" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall()</a>, <a class="el" href="classBaseRpc.html#a0dea7eed103c0e97176576d6642f7bfa" title="Sends an internal Remote-Procedure-Call between two tiers ">sendInternalRpcCall()</a>, or <a class="el" href="classBaseRpc.html#ac128e0ff0d09f81b652f7d3e00ce9441" title="Sends a Remote-Procedure-Call message to the underlay ">sendUdpRpcCall()</a></p>
<p>If no timeout is provided, a default value of globalParameters.rpcUdpTimeout for underlay and globalParameters.rpcKeyTimeout for a overlay rpc is used. Internal RPCs don't have a default timeout. After a timeout the message gets retransmitted for at maximum retries times. The destKey attribute is kept untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">transportType</td><td>The type of transport </td></tr>
    <tr><td class="paramname">destComp</td><td>The destination component </td></tr>
    <tr><td class="paramname">dest</td><td>Destination node handle (may contain a source route) </td></tr>
    <tr><td class="paramname">destKey</td><td>route the RPC to the node that is responsible for destkey </td></tr>
    <tr><td class="paramname">msg</td><td>RPC Call Message </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">routingType</td><td>KBR routing type </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout in seconds (-1=use default value, 0=no timeout) </td></tr>
    <tr><td class="paramname">retries</td><td>How often we try to resent rpc call, if it gets lost </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener (callback handler) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The nonce of the RPC </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00173">173</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8h_source.html#l00326">sendInternalRpcCall()</a>, <a class="el" href="BaseRpc_8h_source.html#l00178">sendRouteRpcCall()</a>, and <a class="el" href="BaseRpc_8h_source.html#l00293">sendUdpRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// create nonce, timeout and set default parameters</span>
    uint32_t nonce;
    <span class="keywordflow">do</span> {
        nonce = intuniform(1, 2147483647);
    } <span class="keywordflow">while</span> (<a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.count(nonce) &gt; 0);

    <span class="keywordflow">if</span> (timeout == -1) {
        <span class="keywordflow">switch</span> (transportType) {
        <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a>:
            timeout = 0;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a>:
            <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a1ac45c35436f95f0717a202b3d0ac9a2">optimizeTimeouts</a>) {
                timeout = <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a23056db53fc60a2eaedf425b7370146e" title="Caclulation of reasonable timout value.">getNodeTimeout</a>(dest);
                <span class="keywordflow">if</span> (timeout == -1) timeout = <a class="code" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">rpcUdpTimeout</a>;
            } <span class="keywordflow">else</span> timeout = <a class="code" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">rpcUdpTimeout</a>;
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>:
            timeout = (destKey.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>() ?
                       <a class="code" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">rpcUdpTimeout</a> :
                       <a class="code" href="classBaseRpc.html#a0e3d1dc5889337099be6ff9e28b73240">rpcKeyTimeout</a>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;BaseRpc::sendRpcMessage(): &quot;</span>
                                <span class="stringliteral">&quot;Unknown RpcTransportType!&quot;</span>);
        }
    }

    <span class="keywordflow">if</span> (rpcListener == NULL)
        rpcListener = <a class="code" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">defaultRpcListener</a>;

    <span class="comment">// create state</span>
    <a class="code" href="classRpcState.html">RpcState</a> state;
    state.<a class="code" href="classRpcState.html#ae2280f03e7a177053f89a93b24fe3297">id</a> = rpcId;
    state.<a class="code" href="classRpcState.html#a97fd14be15108343e25a4a248efb3a62">timeSent</a> = simTime();
    state.<a class="code" href="classRpcState.html#a694cccf34fd2fbaa575bde65891bd74b">dest</a> = dest.<a class="code" href="classTransportAddress.html#aa24e734db847686768b0ddbd3098721c" title="returns a copy of the TransportAddress">dup</a>();
    state.<a class="code" href="classRpcState.html#a7da91029796444bf8ef490710adeacec">destKey</a> = destKey;
    state.<a class="code" href="classRpcState.html#a127b5965baa99a05d0e6821145fd84ad">srcComp</a> = <a class="code" href="classBaseRpc.html#aa76a787b8fbbc33de93646edc67f0e23" title="Return the component type of this module.">getThisCompType</a>();
    state.<a class="code" href="classRpcState.html#a83c440f3ea8f8412c606722c4e5b9343">destComp</a> = destComp;
    state.<a class="code" href="classRpcState.html#a06c6fc1f6dc38ac4e370d35ca1e9488d">listener</a> = rpcListener;
    state.<a class="code" href="classRpcState.html#a2709b29880ed2e6e03cf8b42a0db89d5">timeoutMsg</a> = <span class="keyword">new</span> <a class="code" href="classRpcTimeoutMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">RpcTimeoutMessage</a>();
    state.<a class="code" href="classRpcState.html#a2709b29880ed2e6e03cf8b42a0db89d5">timeoutMsg</a>-&gt;<a class="code" href="classBaseRpcMessage.html#a91b797f5d9f50b8b3dbbe2270da98f7c">setNonce</a>(nonce);
    state.<a class="code" href="classRpcState.html#a9d8de7ffa3ada360063e97c00cf5fa13">retries</a> = retries;
    state.<a class="code" href="classRpcState.html#ade382a69df3a34d8e7ee83eb5ab4d1fd">rto</a> = timeout;
    state.<a class="code" href="classRpcState.html#a84bbe60e7474627bd5ee0d37a19d76d8">transportType</a> = transportType;
    <span class="comment">//state.transportType = (destKey.isUnspecified() &amp;&amp; (dest.getSourceRouteSize() == 0)</span>
    <span class="comment">//        ? UDP_TRANSPORT : transportType); //test</span>
    state.<a class="code" href="classRpcState.html#a267a75cf58f42204f3e793c2b7298e95">routingType</a> = routingType;
    state.<a class="code" href="classRpcState.html#a54ba0c872daf45da9c05a6fea7a97f10">context</a> = context;

    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>.count(nonce) &gt; 0)
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;RPC nonce collision&quot;</span>);

    <span class="comment">// set message parameters</span>
    msg-&gt;<a class="code" href="classBaseRpcMessage.html#a91b797f5d9f50b8b3dbbe2270da98f7c">setNonce</a>(nonce);
    <span class="keywordflow">if</span> (transportType == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>)
        msg-&gt;<a class="code" href="classBaseRpcMessage.html#a81ad410e0c78be586d28aa064418fe8d">setSrcNode</a>(<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>());
    <span class="keywordflow">else</span>
        msg-&gt;<a class="code" href="classBaseRpcMessage.html#a81ad410e0c78be586d28aa064418fe8d">setSrcNode</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
    msg-&gt;<a class="code" href="classBaseOverlayMessage.html#a97cdd7fcea5530191070f50e92d39eb5">setType</a>(<a class="code" href="CommonMessages__m_8h.html#a6af1a552a7a6bce33c291758c369b17ea7f7e32ed10aea1dd73b80e96c70e8abf">RPC</a>);

    <span class="comment">// sign the message</span>
    <span class="comment">// if (transportType != INTERNAL_TRANSPORT) cryptoModule-&gt;signMessage(msg);</span>

    <span class="comment">// save copy of call message in RpcState</span>
    state.<a class="code" href="classRpcState.html#a4323716676784bfd337ea6b0687f3044">callMsg</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classBaseCallMessage.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">BaseCallMessage</a>*<span class="keyword">&gt;</span>(msg-&gt;<a class="code" href="classBaseCallMessage.html#a2e1b28efce2f3b0b45c6b101b9515704">dup</a>());
    assert(!msg-&gt;getEncapsulatedPacket() || !msg-&gt;getEncapsulatedPacket()-&gt;getControlInfo());

    <span class="comment">// register state</span>
    <a class="code" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">rpcStates</a>[nonce] = state;

    <span class="comment">// schedule timeout message</span>
    <span class="keywordflow">if</span> (state.<a class="code" href="classRpcState.html#ade382a69df3a34d8e7ee83eb5ab4d1fd">rto</a> != 0)
        scheduleAt(simTime() + state.<a class="code" href="classRpcState.html#ade382a69df3a34d8e7ee83eb5ab4d1fd">rto</a>, state.<a class="code" href="classRpcState.html#a2709b29880ed2e6e03cf8b42a0db89d5">timeoutMsg</a>);

    <span class="comment">// TODO: cleanup code to have only one type for source routes</span>
    std::vector&lt;TransportAddress&gt; sourceRoute;
    sourceRoute.push_back(dest);
    <span class="keywordflow">if</span> (dest.<a class="code" href="classTransportAddress.html#a77e5ef053f35c57a510063ed01a82d8b" title="Returns the length of the source route to reach this node.">getSourceRouteSize</a>() &gt; 0) {
        state.<a class="code" href="classRpcState.html#a84bbe60e7474627bd5ee0d37a19d76d8">transportType</a> = transportType = <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>;
        sourceRoute.insert(sourceRoute.begin(), dest.<a class="code" href="classTransportAddress.html#a4481a01d6223b5f052c9302205c9a078" title="Returns source route used to reach this node.">getSourceRoute</a>().rend(),
                          dest.<a class="code" href="classTransportAddress.html#a4481a01d6223b5f052c9302205c9a078" title="Returns source route used to reach this node.">getSourceRoute</a>().rbegin());
        <span class="comment">// remove the original source route from the destination</span>
        sourceRoute.back().clearSourceRoute();
    }
    <a class="code" href="classBaseRpc.html#adb13716a0ebdfa359f7498f6ba1b8508">sendRpcMessageWithTransport</a>(transportType, destComp, routingType,
                                sourceRoute, destKey, msg);

    <span class="keywordflow">return</span> nonce;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adb13716a0ebdfa359f7498f6ba1b8508"></a><!-- doxytag: member="BaseRpc::sendRpcMessageWithTransport" ref="adb13716a0ebdfa359f7498f6ba1b8508" args="(TransportType transportType, CompType destComp, RoutingType routingType, const std::vector&lt; TransportAddress &gt; &amp;sourceRoute, const OverlayKey &amp;destKey, BaseRpcMessage *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::sendRpcMessageWithTransport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a>&#160;</td>
          <td class="paramname"><em>transportType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551">RoutingType</a>&#160;</td>
          <td class="paramname"><em>routingType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classTransportAddress.html">TransportAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sourceRoute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseRpcMessage.html">BaseRpcMessage</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00620">620</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00532">sendRpcResponse()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">switch</span> (transportType) {
    <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a>: {
        <a class="code" href="classBaseRpc.html#abaae7e20b0960e9a90cadd216a2a6126">sendMessageToUDP</a>(sourceRoute[0], message);
        <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>: {
        <a class="code" href="classBaseRpc.html#a2c7d2b7bc0e2b9eef6481c654d57d877">internalSendRouteRpc</a>(message, destKey,
                             sourceRoute, routingType);
        <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">case</span> <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a>: {
        cGate *destCompGate = <a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#a5fc03fda227c0cca828109842af1b320">getCompRpcGate</a>(destComp);
        <span class="keywordflow">if</span> (destCompGate == NULL) {
            <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;BaseRpc::sendRpcMessageWithTransport():&quot;</span>
                                    <span class="stringliteral">&quot; INTERNAL_RPC to unknown RpcCompType!&quot;</span>);
        }
        <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a> *overlayCtrlInfo = <span class="keyword">new</span> <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>();
        overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a7f814b40a36e2d8c30efab47d61ebfb3">setSrcComp</a>(<a class="code" href="classBaseRpc.html#aa76a787b8fbbc33de93646edc67f0e23" title="Return the component type of this module.">getThisCompType</a>());
        overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#adcf0261f01c139a8604483cf240226f3">setDestComp</a>(destComp);
        overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a36db08008216830aaa46b21ee16db58a">setTransportType</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a>);
        message-&gt;setControlInfo(overlayCtrlInfo);
        sendDirect(message, destCompGate);
        <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">default</span>:
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;BaseRpc::sendRpcMessageWithTransport: &quot;</span>
                                <span class="stringliteral">&quot;invalid transportType!&quot;</span>);
        <span class="keywordflow">break</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc06091d348c98a5efbf54fe0afe8747"></a><!-- doxytag: member="BaseRpc::sendRpcResponse" ref="adc06091d348c98a5efbf54fe0afe8747" args="(TransportType transportType, CompType destComp, const TransportAddress &amp;dest, const OverlayKey &amp;destKey, BaseCallMessage *call, BaseResponseMessage *response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::sendRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9">TransportType</a>&#160;</td>
          <td class="paramname"><em>transportType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a>&#160;</td>
          <td class="paramname"><em>destComp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send Remote-Procedure response message and deletes call message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">transportType</td><td>The transport used for this RPC </td></tr>
    <tr><td class="paramname">destComp</td><td>Destination component </td></tr>
    <tr><td class="paramname">dest</td><td>The <a class="el" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a> of the destination (hint for ROUTE_TRANSPORT) </td></tr>
    <tr><td class="paramname">destKey</td><td>The destination key for a ROUTE_TRANSPORT </td></tr>
    <tr><td class="paramname">call</td><td>The corresponding call message to the response </td></tr>
    <tr><td class="paramname">response</td><td>The response message </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00532">532</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>

<p>Referenced by <a class="el" href="Nps_8cc_source.html#l00162">Nps::coordsReqRpc()</a>, <a class="el" href="HTopology_8cc_source.html#l01142">HTopology::goAheadWithRestSelectionProcess()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00201">GlobalViewBuilder::handleCapReqRpcCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00459">TreeManagement::handleChildCheckRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">GlobalViewBuilder::handleCoordinateRpcCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00848">HTopology::handleGetParametersCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00653">HTopology::handleJoinCall()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00484">TreeManagement::handleParentRequestRpcCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>, <a class="el" href="BasePastry_8cc_source.html#l00543">BasePastry::handleRequestLeafSetCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>, <a class="el" href="BasePastry_8cc_source.html#l00591">BasePastry::handleRequestRoutingRowCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>, <a class="el" href="DiscoveryMode_8cc_source.html#l00097">DiscoveryMode::handleRpcCall()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00197">MyOverlay::handleRpcCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00884">HTopology::handleRpcCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00793">HTopology::handleScheduleSegmentsCall()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00284">KBRTestApp::kbrTestCall()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00669">pingRpcCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00605">HTopology::sendChildren()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00600">sendRpcResponse()</a>, and <a class="el" href="KBRTestApp_8cc_source.html#l00292">KBRTestApp::underlayTestCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (call == NULL || response == NULL) {
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;call or response = NULL!&quot;</span>);
    }

    <span class="comment">// vivaldi: set coordinates and error estimation in response</span>
    <span class="keywordflow">if</span> (<a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#abfd044fbe032dede0011d4a7925c3949">piggybackOwnCoords</a>()) { <span class="comment">//TODO only for directly sent msgs</span>
        std::vector&lt;double&gt; nodeCoord =
            <a class="code" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f" title="pointer to the neighbor cache">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#affdf04759fd1df8315954b8789d91eab">getNcsAccess</a>().<a class="code" href="classAbstractNcs.html#afb2c12a5b86a18f15f7a47a95d8bfc4e">getOwnNcsInfo</a>();

        response-&gt;<a class="code" href="classBaseResponseMessage.html#a4f05dbcf7968e8a20ca74cd54c4590a8">setNcsInfoArraySize</a>(nodeCoord.size());
        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; nodeCoord.size(); i++) {
            response-&gt;<a class="code" href="classBaseResponseMessage.html#ac97bf5fb6d4d09d8e8e2f31c9ab2455a">setNcsInfo</a>(i, nodeCoord[i]);
        }
    }

    assert(transportType == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a> ||
           !dest.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>() ||
           !destKey.<a class="code" href="classOverlayKey.html#abe357a4d1babcf7d30598a61cbc0f5c2" title="Returns true, if the key is unspecified.">isUnspecified</a>());

    <span class="keywordflow">if</span> (transportType == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>)
        response-&gt;<a class="code" href="classBaseRpcMessage.html#a81ad410e0c78be586d28aa064418fe8d">setSrcNode</a>(<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>());
    <span class="keywordflow">else</span>
        response-&gt;<a class="code" href="classBaseRpcMessage.html#a81ad410e0c78be586d28aa064418fe8d">setSrcNode</a>(<a class="code" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8" title="NodeHandle to this node.">thisNode</a>);
    response-&gt;<a class="code" href="classBaseOverlayMessage.html#a97cdd7fcea5530191070f50e92d39eb5">setType</a>(<a class="code" href="CommonMessages__m_8h.html#a6af1a552a7a6bce33c291758c369b17ea7f7e32ed10aea1dd73b80e96c70e8abf">RPC</a>);
    response-&gt;<a class="code" href="classBaseRpcMessage.html#a91b797f5d9f50b8b3dbbe2270da98f7c">setNonce</a>(call-&gt;<a class="code" href="classBaseRpcMessage.html#a79f78c32aa4461025a89e8de3bc35702">getNonce</a>());
    response-&gt;<a class="code" href="classBaseOverlayMessage.html#a07301be10c346b328a0a9cc4cae48777">setStatType</a>(call-&gt;<a class="code" href="classBaseOverlayMessage.html#af0a4bf31778e05a809f8d55dff5bfcc1">getStatType</a>());

    <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551" title="Enum generated from common/CommonMessages.msg by opp_msgc.">RoutingType</a> routingType = <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551aec961f27dcdb3050f97033fbd88b89b3">NO_OVERLAY_ROUTING</a>;
    <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* overlayCtrlInfo = NULL;
    <span class="keywordflow">if</span> (dynamic_cast&lt;OverlayCtrlInfo*&gt;(call-&gt;getControlInfo())) {
        overlayCtrlInfo =
            <span class="keyword">static_cast&lt;</span><a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*<span class="keyword">&gt;</span>(call-&gt;removeControlInfo());
        response-&gt;<a class="code" href="classBaseResponseMessage.html#a1d11d3e2ad7941803af477fca247c103">setCallHopCount</a>(overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a76fd4681ebb00eb023e35a88e4ba9042">getHopCount</a>());
    } <span class="keywordflow">else</span> {
        <span class="keyword">delete</span> call-&gt;removeControlInfo();
        response-&gt;<a class="code" href="classBaseResponseMessage.html#a1d11d3e2ad7941803af477fca247c103">setCallHopCount</a>(1); <span class="comment">// one udp hop (?)</span>
    }

    <span class="comment">// source routing</span>
    std::vector&lt;TransportAddress&gt; sourceRoute;
    <span class="keywordflow">if</span> (overlayCtrlInfo &amp;&amp; transportType == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a03dcc78e081682d383ff0baec54dcf8c">ROUTE_TRANSPORT</a>) {
        routingType =
            <span class="keyword">static_cast&lt;</span><a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551" title="Enum generated from common/CommonMessages.msg by opp_msgc.">RoutingType</a><span class="keyword">&gt;</span>(overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a4b81411df66c4c813b664665731ee38c">getRoutingType</a>());
        <span class="keywordflow">for</span> (uint32_t i = overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a38e9356d609483149c5676dc9f306466">getVisitedHopsArraySize</a>(); i &gt; 0; --i) {
            sourceRoute.push_back(overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#adae6a08b83220c3317cd0d42b761298e">getVisitedHops</a>(i - 1));
        }
    }

    <span class="keywordflow">if</span> (sourceRoute.size() == 0) {
        <span class="comment">// empty visited hops list =&gt; direct response</span>
        sourceRoute.push_back(dest);
    }

    <a class="code" href="classBaseRpc.html#adb13716a0ebdfa359f7498f6ba1b8508">sendRpcMessageWithTransport</a>(transportType, compType,
                                routingType, sourceRoute,
                                destKey, response);
    <span class="keyword">delete</span> overlayCtrlInfo;
    <span class="keyword">delete</span> call;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af946a132d30ff367e9051f2b62b7bc92"></a><!-- doxytag: member="BaseRpc::sendRpcResponse" ref="af946a132d30ff367e9051f2b62b7bc92" args="(BaseCallMessage *call, BaseResponseMessage *response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseRpc::sendRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send Remote-Procedure response message to UDP and deletes call message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">call</td><td>The corresponding call message to the response </td></tr>
    <tr><td class="paramname">response</td><td>The response message </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="BaseRpc_8cc_source.html#l00600">600</a> of file <a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <a class="code" href="classTransportAddress.html" title="This class implements a common transport address.">TransportAddress</a>* destNode = &amp;(call-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>());
    <span class="keyword">const</span> <a class="code" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a>* destKey = &amp;(call-&gt;<a class="code" href="classBaseRpcMessage.html#ada3e122125cfb5acc7350277ca69c45a">getSrcNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>());

    <a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>* overlayCtrlInfo =
        <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classOverlayCtrlInfo.html" title="Class generated from common/CommonMessages.msg by opp_msgc.">OverlayCtrlInfo</a>*<span class="keyword">&gt;</span>(call-&gt;getControlInfo());

    <span class="comment">// &quot;magic&quot; transportType selection: internal</span>
    <span class="keywordflow">if</span> (overlayCtrlInfo &amp;&amp;
        overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#ad80a56dfc9e2b8c5bc12994fee6adda2">getTransportType</a>() == <a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a>) {
        <a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a94f99d3e9b3318d2fc69d80e3c33008b">INTERNAL_TRANSPORT</a>,
                        static_cast&lt;CompType&gt;(overlayCtrlInfo-&gt;<a class="code" href="classOverlayCtrlInfo.html#a79a35b8f98c2fecef8d6bc566c4a7437">getSrcComp</a>()),
                        *destNode, *destKey, call, response);
    } <span class="keywordflow">else</span> {
        <a class="code" href="classBaseRpc.html#a8e96c8787fba93dc24c673507152cff3">internalSendRpcResponse</a>(call, response);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac128e0ff0d09f81b652f7d3e00ce9441"></a><!-- doxytag: member="BaseRpc::sendUdpRpcCall" ref="ac128e0ff0d09f81b652f7d3e00ce9441" args="(const TransportAddress &amp;dest, BaseCallMessage *msg, cPolymorphic *context=NULL, simtime_t timeout=&#45;1, int retries=0, int rpcId=&#45;1, RpcListener *rpcListener=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BaseRpc::sendUdpRpcCall </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retries</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRpcListener.html">RpcListener</a> *&#160;</td>
          <td class="paramname"><em>rpcListener</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a Remote-Procedure-Call message to the underlay<br/>
 </p>
<p>If no timeout is provided, a default value of globalParameters.rpcUdpTimeout for underlay and globalParameters.rpcKeyTimeout for a overlay rpc is used. After a timeout the message gets retransmitted for at maximum retries times. The destKey attribute is kept untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Destination node handle (may contain a source route) </td></tr>
    <tr><td class="paramname">msg</td><td>RPC Call Message </td></tr>
    <tr><td class="paramname">context</td><td>a pointer to an arbitrary cPolymorphic object, which can be used to store additional state </td></tr>
    <tr><td class="paramname">timeout</td><td>RPC timeout in seconds (-1=use default value, 0=no timeout) </td></tr>
    <tr><td class="paramname">retries</td><td>How often we try to resent rpc call, if it gets lost </td></tr>
    <tr><td class="paramname">rpcId</td><td>RPC id </td></tr>
    <tr><td class="paramname">rpcListener</td><td>RPC Listener </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The nonce of the RPC </dd></dl>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00293">293</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="Bamboo_8cc_source.html#l00202">Bamboo::doLeafsetMaintenance()</a>, <a class="el" href="Bamboo_8cc_source.html#l00250">Bamboo::doLocalTuning()</a>, <a class="el" href="Pastry_8cc_source.html#l00859">Pastry::doRoutingTableMaintenance()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, <a class="el" href="Kademlia_8cc_source.html#l00831">Kademlia::handleNodeGracefulLeaveNotification()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00910">IterativePathLookup::handleTimeout()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00702">pingNode()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00650">IterativeLookup::sendRpc()</a>, and <a class="el" href="Kademlia_8cc_source.html#l00193">Kademlia::sendSiblingFindNodeCall()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classBaseRpc.html#abf8bd682bf17131b4bc58708b2e7ced2" title="Sends a Remote-Procedure-Call message to the underlay.">sendRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aca1e72535e7f260e54ed8bbf984dade9a01580b2e886cd821bd7f3f2bcd7c690c">UDP_TRANSPORT</a>, <a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5eaf3e64c2733321fd2c525766733a4b7c0">INVALID_COMP</a>, dest,
                           <a class="code" href="classOverlayKey.html#ac0d4135dff2985e3582fdbed2a37eb75" title="OverlayKey without defined key.">OverlayKey::UNSPECIFIED_KEY</a>, msg, context,
                           <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551aec961f27dcdb3050f97033fbd88b89b3">NO_OVERLAY_ROUTING</a>, timeout, retries, rpcId,
                           rpcListener);
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8525bc500487a2641a2a947b0d5e1946"></a><!-- doxytag: member="BaseRpc::bytesPingResponseSent" ref="a8525bc500487a2641a2a947b0d5e1946" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBaseRpc.html#a8525bc500487a2641a2a947b0d5e1946">BaseRpc::bytesPingResponseSent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00451">451</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00669">pingRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a5653805d9dcb9a53bc240b388e735389"></a><!-- doxytag: member="BaseRpc::bytesPingSent" ref="a5653805d9dcb9a53bc240b388e735389" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBaseRpc.html#a5653805d9dcb9a53bc240b388e735389">BaseRpc::bytesPingSent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00449">449</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00702">pingNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a394dcba6b6307c746927bf74fbea33a5"></a><!-- doxytag: member="BaseRpc::cryptoModule" ref="a394dcba6b6307c746927bf74fbea33a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCryptoModule.html">CryptoModule</a>* <a class="el" href="classBaseRpc.html#a394dcba6b6307c746927bf74fbea33a5">BaseRpc::cryptoModule</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to <a class="el" href="classCryptoModule.html" title="The CryptoModule contains several method needed for message authentication.">CryptoModule</a> </p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00446">446</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00052">BaseRpc()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="aff648eca9051b1f37ea42335b021d672"></a><!-- doxytag: member="BaseRpc::debugOutput" ref="aff648eca9051b1f37ea42335b021d672" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBaseRpc.html#aff648eca9051b1f37ea42335b021d672">BaseRpc::debugOutput</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>debug output ? </p>

<p>Reimplemented in <a class="el" href="classBaseApp.html#afbdeb4fb8c437056bb934cca461e89b4">BaseApp</a>, <a class="el" href="classBaseOverlay.html#a49ff0fb8c25792a1339d54a60c36f2cd">BaseOverlay</a>, and <a class="el" href="classDHTTestApp.html#af4f5c22914b4aa65988213e8d5c9e90a">DHTTestApp</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00083">83</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a62d50ea3c4a4d90e309575f8e6bec440"></a><!-- doxytag: member="BaseRpc::defaultRpcListener" ref="a62d50ea3c4a4d90e309575f8e6bec440" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRpcListener.html">RpcListener</a>* <a class="el" href="classBaseRpc.html#a62d50ea3c4a4d90e309575f8e6bec440">BaseRpc::defaultRpcListener</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00523">523</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00052">BaseRpc()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00147">finishRpcs()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a9552ba3a2b09c83b3c561e65dab9f23d"></a><!-- doxytag: member="BaseRpc::globalStatistics" ref="a9552ba3a2b09c83b3c561e65dab9f23d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalStatistics.html">GlobalStatistics</a>* <a class="el" href="classBaseRpc.html#a9552ba3a2b09c83b3c561e65dab9f23d">BaseRpc::globalStatistics</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to <a class="el" href="classGlobalStatistics.html" title="Module to record global statistics.">GlobalStatistics</a> module in this node </p>

<p>Reimplemented in <a class="el" href="classBaseApp.html#a70bdab2d4ea3553205115f057194f692">BaseApp</a>, <a class="el" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad">NeighborCache</a>, and <a class="el" href="classDHTTestApp.html#a57ec8613b021a442c7f92b900eb2e4bb">DHTTestApp</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00086">86</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="Quon_8cc_source.html#l00121">Quon::changeState()</a>, <a class="el" href="Vast_8cc_source.html#l01157">Vast::finishOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l01103">Quon::finishOverlay()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00155">MyOverlay::finishOverlay()</a>, <a class="el" href="Gia_8cc_source.html#l01212">Gia::finishOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l00521">oversim::Nice::finishOverlay()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">BasePastry::finishOverlay()</a>, <a class="el" href="Kademlia_8cc_source.html#l00180">Kademlia::finishOverlay()</a>, <a class="el" href="Kademlia_8cc_source.html#l01323">Kademlia::handleBucketRefreshTimerExpired()</a>, <a class="el" href="Quon_8cc_source.html#l00850">Quon::handleNodeMove()</a>, <a class="el" href="Vast_8cc_source.html#l00859">Vast::handleNodeMove()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseOverlay_8cc_source.html#l01264">SendToKeyListener::SendToKeyListener()</a>.</p>

</div>
</div>
<a class="anchor" id="ad80237130dc2316d0d76ac6757c50f4f"></a><!-- doxytag: member="BaseRpc::neighborCache" ref="ad80237130dc2316d0d76ac6757c50f4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNeighborCache.html">NeighborCache</a>* <a class="el" href="classBaseRpc.html#ad80237130dc2316d0d76ac6757c50f4f">BaseRpc::neighborCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to the neighbor cache </p>

<p>Reimplemented in <a class="el" href="classNeighborCache.html#a6f9e10ff6b8ac2ecb0f8126f77a8ad4d">NeighborCache</a>, and <a class="el" href="classCBRDHT.html#ad79c28188c6a3d9283ee8da5dcb72da4">CBRDHT</a>.</p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00445">445</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BasePastry_8cc_source.html#l00057">BasePastry::baseInit()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00052">BaseRpc()</a>, <a class="el" href="BasePastry_8cc_source.html#l00438">BasePastry::determineAliveTable()</a>, <a class="el" href="Landmark_8cc_source.html#l00079">Landmark::finishApp()</a>, <a class="el" href="Landmark_8cc_source.html#l00039">Landmark::initializeApp()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00455">Bamboo::lookupFinished()</a>, <a class="el" href="BasePastry_8cc_source.html#l00369">BasePastry::pingNodes()</a>, <a class="el" href="BasePastry_8cc_source.html#l00342">BasePastry::prePing()</a>, <a class="el" href="Kademlia_8cc_source.html#l00320">Kademlia::routingAdd()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00532">sendRpcResponse()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f194baa9787f523bdbf6f8639356a62"></a><!-- doxytag: member="BaseRpc::numPingResponseSent" ref="a5f194baa9787f523bdbf6f8639356a62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBaseRpc.html#a5f194baa9787f523bdbf6f8639356a62">BaseRpc::numPingResponseSent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00450">450</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00669">pingRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a16d5d34610391c442e9f9cde71b2518a"></a><!-- doxytag: member="BaseRpc::numPingSent" ref="a16d5d34610391c442e9f9cde71b2518a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBaseRpc.html#a16d5d34610391c442e9f9cde71b2518a">BaseRpc::numPingSent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00448">448</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00702">pingNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ac45c35436f95f0717a202b3d0ac9a2"></a><!-- doxytag: member="BaseRpc::optimizeTimeouts" ref="a1ac45c35436f95f0717a202b3d0ac9a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBaseRpc.html#a1ac45c35436f95f0717a202b3d0ac9a2">BaseRpc::optimizeTimeouts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00526">526</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a633ad17071241f981fb76a9678337a"></a><!-- doxytag: member="BaseRpc::overlay" ref="a9a633ad17071241f981fb76a9678337a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseOverlay.html">BaseOverlay</a>* <a class="el" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">BaseRpc::overlay</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00080">80</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseApp_8h_source.html#l00233">BaseApp::callLocalLookup()</a>, <a class="el" href="BaseApp_8h_source.html#l00244">BaseApp::callNeighborSet()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">GlobalViewBuilder::cleanup()</a>, <a class="el" href="SimpleUnderlayNCS_8cc_source.html#l00054">SimpleUnderlayNCS::createNcsInfo()</a>, <a class="el" href="RealWorldTestApp_8cc_source.html#l00048">RealWorldTestApp::deliver()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00475">KBRTestApp::deliver()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00530">KBRTestApp::forward()</a>, <a class="el" href="NeighborCache_8h_source.html#l00269">NeighborCache::getOverlayThisNode()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00853">NeighborCache::getProx()</a>, <a class="el" href="Nice_8cc_source.html#l03300">oversim::Nice::handleAppMessage()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">GlobalViewBuilder::handleCoordSendTimer()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00426">KBRTestApp::handleLookupResponse()</a>, <a class="el" href="GIASearchApp_8cc_source.html#l00154">GIASearchApp::handleLowerMessage()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00511">TreeManagement::handleParentRequestRpcResponse()</a>, <a class="el" href="hstreaming_8cc_source.html#l00098">HStreaming::handleReadyMessage()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00658">NeighborCache::handleReadyMessage()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00301">KBRTestApp::handleRpcResponse()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00375">KBRTestApp::handleRpcTimeout()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00157">SimpleGameClient::handleTimerEvent()</a>, <a class="el" href="GIASearchApp_8cc_source.html#l00083">GIASearchApp::handleTimerEvent()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00780">NeighborCache::handleTimerEvent()</a>, <a class="el" href="SimpleUnderlayNCS_8cc_source.html#l00034">SimpleUnderlayNCS::init()</a>, <a class="el" href="TreeManagement_8cc_source.html#l00059">TreeManagement::init()</a>, <a class="el" href="Nps_8cc_source.html#l00041">Nps::init()</a>, <a class="el" href="Landmark_8cc_source.html#l00039">Landmark::initializeApp()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00029">SimpleGameClient::initializeApp()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00073">NeighborCache::initializeApp()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, <a class="el" href="BaseApp_8h_source.html#l00264">BaseApp::isSiblingFor()</a>, <a class="el" href="IterativeLookup_8cc_source.html#l00689">IterativeLookup::lookup()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00705">NeighborCache::prepareOverlay()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00620">sendRpcMessageWithTransport()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00532">sendRpcResponse()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00753">NeighborCache::setCbrNodeId()</a>, <a class="el" href="Nps_8cc_source.html#l00447">Nps::setOwnLayer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">GlobalViewBuilder::spreadGlobalView()</a>, and <a class="el" href="NeighborCache_8cc_source.html#l00326">NeighborCache::updateNode()</a>.</p>

</div>
</div>
<a class="anchor" id="a0dc0c1443bf9b23da0c0e7d4fc9af41c"></a><!-- doxytag: member="BaseRpc::rpcExponentialBackoff" ref="a0dc0c1443bf9b23da0c0e7d4fc9af41c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBaseRpc.html#a0dc0c1443bf9b23da0c0e7d4fc9af41c">BaseRpc::rpcExponentialBackoff</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00527">527</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a0e3d1dc5889337099be6ff9e28b73240"></a><!-- doxytag: member="BaseRpc::rpcKeyTimeout" ref="a0e3d1dc5889337099be6ff9e28b73240" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classBaseRpc.html#a0e3d1dc5889337099be6ff9e28b73240">BaseRpc::rpcKeyTimeout</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00525">525</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="af109c565dddd82caff9f4230a8b87e32"></a><!-- doxytag: member="BaseRpc::rpcsPending" ref="af109c565dddd82caff9f4230a8b87e32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBaseRpc.html#af109c565dddd82caff9f4230a8b87e32">BaseRpc::rpcsPending</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00522">522</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="a406d454a8bc87f85df920ac49fc788b7"></a><!-- doxytag: member="BaseRpc::rpcStates" ref="a406d454a8bc87f85df920ac49fc788b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseRpc.html#ab1d2746aee1698173f6c27155c1e0dff">RpcStates</a> <a class="el" href="classBaseRpc.html#a406d454a8bc87f85df920ac49fc788b7">BaseRpc::rpcStates</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00524">524</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00158">cancelAllRpcs()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00278">cancelRpcMessage()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="af7f8a9d32155e067464ca8e9c716b74e"></a><!-- doxytag: member="BaseRpc::rpcUdpTimeout" ref="af7f8a9d32155e067464ca8e9c716b74e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="classBaseRpc.html#af7f8a9d32155e067464ca8e9c716b74e">BaseRpc::rpcUdpTimeout</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00525">525</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>, and <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a3edfa69071548f98e78b8669f564953a"></a><!-- doxytag: member="BaseRpc::thisCompType" ref="a3edfa69071548f98e78b8669f564953a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5e">CompType</a> <a class="el" href="classBaseRpc.html#a3edfa69071548f98e78b8669f564953a">BaseRpc::thisCompType</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00427">427</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="BaseRpc_8cc_source.html#l00092">initRpcs()</a>.</p>

</div>
</div>
<a class="anchor" id="a88eb68c06450fd12ea072f471bf1c1b8"></a><!-- doxytag: member="BaseRpc::thisNode" ref="a88eb68c06450fd12ea072f471bf1c1b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNodeHandle.html">NodeHandle</a> <a class="el" href="classBaseRpc.html#a88eb68c06450fd12ea072f471bf1c1b8">BaseRpc::thisNode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a> to this node. </p>

<p>Definition at line <a class="el" href="BaseRpc_8h_source.html#l00073">73</a> of file <a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a>.</p>

<p>Referenced by <a class="el" href="HTopology_8cc_source.html#l00818">HTopology::addSegmentToCache()</a>, <a class="el" href="Quon_8cc_source.html#l00315">Quon::addSite()</a>, <a class="el" href="BasePastry_8cc_source.html#l00187">BasePastry::baseChangeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00057">BasePastry::baseInit()</a>, <a class="el" href="Nice_8cc_source.html#l00555">oversim::Nice::BasicJoinLayer()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00278">MyOverlay::callbackNeighbors()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00289">MyOverlay::callbackTimeout()</a>, <a class="el" href="Gia_8cc_source.html#l00124">Gia::changeState()</a>, <a class="el" href="HTopology_8cc_source.html#l00259">HTopology::changeState()</a>, <a class="el" href="Bamboo_8cc_source.html#l00086">Bamboo::changeState()</a>, <a class="el" href="Quon_8cc_source.html#l00121">Quon::changeState()</a>, <a class="el" href="Nice_8cc_source.html#l00248">oversim::Nice::changeState()</a>, <a class="el" href="Pastry_8cc_source.html#l00161">Pastry::changeState()</a>, <a class="el" href="Nice_8cc_source.html#l02263">oversim::Nice::checkLeaderHeartbeatsForCollisions()</a>, <a class="el" href="Pastry_8cc_source.html#l00939">Pastry::checkProxCache()</a>, <a class="el" href="Nice_8cc_source.html#l02150">oversim::Nice::cleanPeers()</a>, <a class="el" href="Nice_8cc_source.html#l02868">oversim::Nice::ClusterMerge()</a>, <a class="el" href="Nice_8cc_source.html#l02936">oversim::Nice::ClusterMergeRequest()</a>, <a class="el" href="Nice_8cc_source.html#l02621">oversim::Nice::ClusterSplit()</a>, <a class="el" href="Nps_8cc_source.html#l00209">Nps::coordsReqRpcResponse()</a>, <a class="el" href="BasePastry_8cc_source.html#l00664">BasePastry::createStateMessage()</a>, <a class="el" href="Quon_8cc_source.html#l00456">Quon::deleteSite()</a>, <a class="el" href="MyApplication_8cc_source.html#l00117">MyApplication::deliver()</a>, <a class="el" href="Bamboo_8cc_source.html#l00275">Bamboo::doGlobalTuning()</a>, <a class="el" href="Pastry_8cc_source.html#l00761">Pastry::doJoinUpdate()</a>, <a class="el" href="Bamboo_8cc_source.html#l00250">Bamboo::doLocalTuning()</a>, <a class="el" href="Pastry_8cc_source.html#l00859">Pastry::doRoutingTableMaintenance()</a>, <a class="el" href="Pastry_8cc_source.html#l00804">Pastry::doSecondStage()</a>, <a class="el" href="Pastry_8cc_source.html#l01070">Pastry::endProcessingState()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00121">MyOverlay::findNode()</a>, <a class="el" href="BasePastry_8cc_source.html#l00906">BasePastry::findNode()</a>, <a class="el" href="Kademlia_8cc_source.html#l00969">Kademlia::findNode()</a>, <a class="el" href="HTopology_8cc_source.html#l00564">HTopology::findNode()</a>, <a class="el" href="BasePastry_8cc_source.html#l00813">BasePastry::finishOverlay()</a>, <a class="el" href="HTopology_8cc_source.html#l00524">HTopology::finishOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l01642">oversim::Nice::getHighestLayer()</a>, <a class="el" href="Nice_8cc_source.html#l01628">oversim::Nice::getHighestLeaderLayer()</a>, <a class="el" href="Nice_8cc_source.html#l03031">oversim::Nice::getMaxDistance()</a>, <a class="el" href="Nice_8cc_source.html#l03083">oversim::Nice::getMeanDistance()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00177">MyOverlay::getNeighbors()</a>, <a class="el" href="BaseRpc_8h_source.html#l00071">getThisNode()</a>, <a class="el" href="HTopology_8cc_source.html#l01142">HTopology::goAheadWithRestSelectionProcess()</a>, <a class="el" href="Nice_8cc_source.html#l03234">oversim::Nice::gracefulLeave()</a>, <a class="el" href="Quon_8cc_source.html#l00229">Quon::handleAppMessage()</a>, <a class="el" href="Nice_8cc_source.html#l03300">oversim::Nice::handleAppMessage()</a>, <a class="el" href="Pastry_8cc_source.html#l00886">Pastry::handleFailedNode()</a>, <a class="el" href="HTopology_8cc_source.html#l00653">HTopology::handleJoinCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00476">HTopology::handleJoinTimerExpired()</a>, <a class="el" href="Nice_8cc_source.html#l00755">oversim::Nice::handleNiceClusterMergeRequest()</a>, <a class="el" href="Nice_8cc_source.html#l00869">oversim::Nice::handleNiceHeartbeat()</a>, <a class="el" href="Nice_8cc_source.html#l01282">oversim::Nice::handleNiceJoinCluster()</a>, <a class="el" href="Nice_8cc_source.html#l01348">oversim::Nice::handleNiceJoineval()</a>, <a class="el" href="Nice_8cc_source.html#l00928">oversim::Nice::handleNiceLeaderHeartbeat()</a>, <a class="el" href="Nice_8cc_source.html#l01117">oversim::Nice::handleNiceLeaderTransfer()</a>, <a class="el" href="Nice_8cc_source.html#l01385">oversim::Nice::handleNiceMulticast()</a>, <a class="el" href="Nice_8cc_source.html#l01433">oversim::Nice::handleNicePingProbe()</a>, <a class="el" href="Nice_8cc_source.html#l01478">oversim::Nice::handleNicePollRp()</a>, <a class="el" href="Nice_8cc_source.html#l00623">oversim::Nice::handleNiceQuery()</a>, <a class="el" href="Nice_8cc_source.html#l01506">oversim::Nice::handleNiceQueryResponse()</a>, <a class="el" href="Nice_8cc_source.html#l01572">oversim::Nice::handleNiceRemove()</a>, <a class="el" href="HTopology_8cc_source.html#l00455">HTopology::handlePacketGenerationTimer()</a>, <a class="el" href="Pastry_8cc_source.html#l00382">Pastry::handlePastryJoinCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00594">Pastry::handlePastryJoinResponse()</a>, <a class="el" href="hstreaming_8cc_source.html#l00098">HStreaming::handleReadyMessage()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00658">NeighborCache::handleReadyMessage()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00366">SimpleGameClient::handleRealworldPacket()</a>, <a class="el" href="BasePastry_8cc_source.html#l00543">BasePastry::handleRequestLeafSetCall()</a>, <a class="el" href="Bamboo_8cc_source.html#l00183">Bamboo::handleRequestLeafSetResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00623">Pastry::handleRequestLeafSetResponse()</a>, <a class="el" href="BasePastry_8cc_source.html#l00634">BasePastry::handleRequestLeafSetResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00474">Pastry::handleRequestRepairCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00504">Pastry::handleRequestRepairResponse()</a>, <a class="el" href="BasePastry_8cc_source.html#l00591">BasePastry::handleRequestRoutingRowCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00654">Pastry::handleRequestRoutingRowResponse()</a>, <a class="el" href="BasePastry_8cc_source.html#l00649">BasePastry::handleRequestRoutingRowResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00444">Pastry::handleRequestStateCall()</a>, <a class="el" href="Pastry_8cc_source.html#l00608">Pastry::handleRequestStateResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00358">Pastry::handleRpcCall()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00197">MyOverlay::handleRpcCall()</a>, <a class="el" href="BasePastry_8cc_source.html#l00476">BasePastry::handleRpcCall()</a>, <a class="el" href="HTopology_8cc_source.html#l00884">HTopology::handleRpcCall()</a>, <a class="el" href="Bamboo_8cc_source.html#l00162">Bamboo::handleRpcResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00519">Pastry::handleRpcResponse()</a>, <a class="el" href="BasePastry_8cc_source.html#l00497">BasePastry::handleRpcResponse()</a>, <a class="el" href="HTopology_8cc_source.html#l01036">HTopology::handleRpcResponse()</a>, <a class="el" href="Pastry_8cc_source.html#l00575">Pastry::handleRpcTimeout()</a>, <a class="el" href="Kademlia_8cc_source.html#l01250">Kademlia::handleRpcTimeout()</a>, <a class="el" href="BasePastry_8cc_source.html#l00524">BasePastry::handleRpcTimeout()</a>, <a class="el" href="Pastry_8cc_source.html#l01193">Pastry::handleStateMessage()</a>, <a class="el" href="Bamboo_8cc_source.html#l00377">Bamboo::handleStateMessage()</a>, <a class="el" href="MyApplication_8cc_source.html#l00080">MyApplication::handleTimerEvent()</a>, <a class="el" href="Pastry_8cc_source.html#l00252">Pastry::handleTimerEvent()</a>, <a class="el" href="Bamboo_8cc_source.html#l00133">Bamboo::handleTimerEvent()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00160">KBRTestApp::handleTimerEvent()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00780">NeighborCache::handleTimerEvent()</a>, <a class="el" href="Quon_8cc_source.html#l00260">Quon::handleUDPMessage()</a>, <a class="el" href="MyApplication_8cc_source.html#l00144">MyApplication::handleUDPMessage()</a>, <a class="el" href="Pastry_8cc_source.html#l00339">Pastry::handleUDPMessage()</a>, <a class="el" href="HTopology_8cc_source.html#l00429">HTopology::handleVideoSegment()</a>, <a class="el" href="Landmark_8cc_source.html#l00039">Landmark::initializeApp()</a>, <a class="el" href="KBRTestApp_8cc_source.html#l00051">KBRTestApp::initializeApp()</a>, <a class="el" href="Vast_8cc_source.html#l00034">Vast::initializeOverlay()</a>, <a class="el" href="Quon_8cc_source.html#l00031">Quon::initializeOverlay()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00041">MyOverlay::initializeOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l00122">oversim::Nice::initializeOverlay()</a>, <a class="el" href="HTopology_8cc_source.html#l00170">HTopology::initializeOverlay()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00293">internalHandleRpcMessage()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00107">MyOverlay::isSiblingFor()</a>, <a class="el" href="BasePastry_8cc_source.html#l00742">BasePastry::isSiblingFor()</a>, <a class="el" href="Kademlia_8cc_source.html#l00755">Kademlia::isSiblingFor()</a>, <a class="el" href="HTopology_8cc_source.html#l00551">HTopology::isSiblingFor()</a>, <a class="el" href="Nice_8cc_source.html#l01670">oversim::Nice::JoinCluster()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00070">MyOverlay::joinOverlay()</a>, <a class="el" href="Kademlia_8cc_source.html#l00204">Kademlia::joinOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l03135">oversim::Nice::LeaderTransfer()</a>, <a class="el" href="Bamboo_8cc_source.html#l00455">Bamboo::lookupFinished()</a>, <a class="el" href="Nice_8cc_source.html#l02352">oversim::Nice::maintenance()</a>, <a class="el" href="Nice_8cc_source.html#l02229">oversim::Nice::mergeNeeded()</a>, <a class="el" href="Pastry_8cc_source.html#l01101">Pastry::mergeState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00258">BasePastry::newLeafs()</a>, <a class="el" href="BasePastry_8cc_source.html#l00369">BasePastry::pingNodes()</a>, <a class="el" href="Pastry_8cc_source.html#l00232">Pastry::pingResponse()</a>, <a class="el" href="Nice_8cc_source.html#l03467">oversim::Nice::pollRP()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00705">NeighborCache::prepareOverlay()</a>, <a class="el" href="BasePastry_8cc_source.html#l00342">BasePastry::prePing()</a>, <a class="el" href="Pastry_8cc_source.html#l01410">Pastry::processState()</a>, <a class="el" href="BasePastry_8cc_source.html#l00273">BasePastry::proxCallback()</a>, <a class="el" href="Quon_8cc_source.html#l00473">Quon::purgeSites()</a>, <a class="el" href="Nice_8cc_source.html#l00594">oversim::Nice::Query()</a>, <a class="el" href="Pastry_8cc_source.html#l00696">Pastry::recursiveRoutingHook()</a>, <a class="el" href="Kademlia_8cc_source.html#l00889">Kademlia::recursiveRoutingHook()</a>, <a class="el" href="Nice_8cc_source.html#l03190">oversim::Nice::Remove()</a>, <a class="el" href="Kademlia_8cc_source.html#l00320">Kademlia::routingAdd()</a>, <a class="el" href="Kademlia_8cc_source.html#l00239">Kademlia::routingInit()</a>, <a class="el" href="Nice_8cc_source.html#l03365">oversim::Nice::sendDataToOverlay()</a>, <a class="el" href="Nice_8cc_source.html#l01757">oversim::Nice::sendHeartbeats()</a>, <a class="el" href="Nice_8cc_source.html#l01999">oversim::Nice::sendHeartbeatTo()</a>, <a class="el" href="Quon_8cc_source.html#l01047">Quon::sendMessage()</a>, <a class="el" href="Nice_8cc_source.html#l02135">oversim::Nice::sendRemoveTo()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00173">sendRpcCall()</a>, <a class="el" href="BaseRpc_8cc_source.html#l00532">sendRpcResponse()</a>, <a class="el" href="Kademlia_8cc_source.html#l00193">Kademlia::sendSiblingFindNodeCall()</a>, <a class="el" href="Quon_8cc_source.html#l01035">Quon::sendToApp()</a>, <a class="el" href="Kademlia_8cc_source.html#l00739">Kademlia::setBucketUsage()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00753">NeighborCache::setCbrNodeId()</a>, <a class="el" href="MyOverlay_8cc_source.html#l00062">MyOverlay::setOwnNodeID()</a>, <a class="el" href="HTopology_8cc_source.html#l00227">HTopology::setOwnNodeID()</a>, <a class="el" href="Nice_8cc_source.html#l02208">oversim::Nice::splitNeeded()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00421">NeighborCache::updateNcsInfo()</a>, <a class="el" href="SimpleGameClient_8cc_source.html#l00413">SimpleGameClient::updateNeighbors()</a>, <a class="el" href="NeighborCache_8cc_source.html#l00326">NeighborCache::updateNode()</a>, <a class="el" href="Quon_8cc_source.html#l00364">Quon::updateThisSite()</a>, <a class="el" href="BasePastry_8cc_source.html#l00785">BasePastry::updateTooltip()</a>, <a class="el" href="HTopology_8cc_source.html#l00231">HTopology::updateTooltip()</a>, <a class="el" href="Gia_8cc_source.html#l00234">Gia::updateTooltip()</a>, <a class="el" href="Kademlia_8cc_source.html#l01429">Kademlia::updateTooltip()</a>, and <a class="el" href="Nice_8cc_source.html#l03420">oversim::Nice::updateVisualization()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BaseRpc_8h_source.html">BaseRpc.h</a></li>
<li><a class="el" href="BaseRpc_8cc_source.html">BaseRpc.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classBaseRpc.html">BaseRpc</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:40 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
