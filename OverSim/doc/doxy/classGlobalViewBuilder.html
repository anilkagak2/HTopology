<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OverSim: GlobalViewBuilder Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OverSim
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classGlobalViewBuilder.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">GlobalViewBuilder Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GlobalViewBuilder" --><!-- doxytag: inherits="AbstractTreeMsgClient" -->
<p><code>#include &lt;<a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GlobalViewBuilder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classGlobalViewBuilder.png" usemap="#GlobalViewBuilder_map" alt=""/>
  <map id="GlobalViewBuilder_map" name="GlobalViewBuilder_map">
<area href="classAbstractTreeMsgClient.html" alt="AbstractTreeMsgClient" shape="rect" coords="0,56,141,80"/>
<area href="classRpcListener.html" title="A Remote-Procedure-Call listener class." alt="RpcListener" shape="rect" coords="0,0,141,24"/>
</map>
 </div></div>

<p><a href="classGlobalViewBuilder-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a1e8c929b310614f22df9118759bf7516">GlobalViewBuilder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a3a21dbfa41e2c41787850c7a2c53dcaf">~GlobalViewBuilder</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#abd89f32ef4f20291e1e06a6d0a58fb13">initializeViewBuilder</a> (<a class="el" href="classNeighborCache.html">NeighborCache</a> *<a class="el" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>, <a class="el" href="classBaseOverlay.html">BaseOverlay</a> *<a class="el" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">.cc  <a href="#abd89f32ef4f20291e1e06a6d0a58fb13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#aa8ae1389d89de7cbcb03c13ba68895fb">start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a6dc363b6ab217e8625b771d5fc7b0cc7">cleanup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ad63b3d40bc4a4025edb25f6801dc8a83">handleTimerEvent</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a7df33976fda402e379ebea2fc4d6a0d8">handleCoordSendTimer</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a60c7234c2e76481a14f6f0880fae1a21">handleCoordinateRpcCall</a> (<a class="el" href="classGlobalViewBuilderCall.html">GlobalViewBuilderCall</a> *globalViewBuilderCall)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a3b1df0f62d302b026bd8bd6fb150a145">handleCapReqRpcCall</a> (<a class="el" href="classCapReqCall.html">CapReqCall</a> *call)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a7b729fbb8bd93471b8fbb0cf81eca4ef">sendCapRequest</a> (const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a4f62de45a0457486749cabcad83802e8">handleRpcCall</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a2e9b384a9b910c20eff9034f29a16cce">handleRpcResponse</a> (<a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *msg, cPolymorphic *context, int rpcId, simtime_t rtt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC response has been received.  <a href="#a2e9b384a9b910c20eff9034f29a16cce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a608527231ced15aea21f996f3882ff05">handleRpcTimeout</a> (<a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *msg, const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;dest, cPolymorphic *context, int rpcId, const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;destKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if an RPC timeout has been reached.  <a href="#a608527231ced15aea21f996f3882ff05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cPar &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#afbeb3567a6c453e697865dd99b76dd90">parProxy</a> (const char *parname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a8ec353f051f4ff7629a40ebaa93f5db6">newParent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a77d0b11983f93cdc01a8ec95319be791">isCapReady</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a5e5999c901d2785118175fbce25b4005">isCapValid</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="CoordBasedRouting_8h.html#ad91d7d67c95c2e1de279d6c2a96d241e">AP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a06688f06738200cfd819a21387cf1473">getCAP</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a3899a1102a6bb45b30a852a6b2b6c594">spreadGlobalView</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the calculated global view down the tree to the children.  <a href="#a3899a1102a6bb45b30a852a6b2b6c594"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ab4072c0c1f5c9b8a82ccb2c4f3f352fc">checkOverlayReady</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNeighborCache.html">NeighborCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTreeManagement.html">TreeManagement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAbstractSendStrategy.html">AbstractSendStrategy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBaseOverlay.html">BaseOverlay</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a2c7f7a37f909031eac7485e34382f241">meanCoordSendInterval</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">mean time interval between sending test messages  <a href="#a2c7f7a37f909031eac7485e34382f241"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#aa4ba182cd9a1f0a5524cf14b9aa35077">deviation</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deviation of time interval  <a href="#aa4ba182cd9a1f0a5524cf14b9aa35077"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a8c67fddbf5e3ad008a3d34100546d797">activeStrategy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a32aab99ad6fde5d58decf131aaa83ab5">onlyAcceptCompleteCCD</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSendStrategyFactory.html">SendStrategyFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a0d1ee4286c6fe99b8574913878deeeee">sendStrategyFactory</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="CoordBasedRouting_8h.html#ad91d7d67c95c2e1de279d6c2a96d241e">AP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#ad66fb1502d9109f93fa91460d7df30b8">capReady</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00057">57</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1e8c929b310614f22df9118759bf7516"></a><!-- doxytag: member="GlobalViewBuilder::GlobalViewBuilder" ref="a1e8c929b310614f22df9118759bf7516" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GlobalViewBuilder::GlobalViewBuilder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00091">91</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>
<div class="fragment"><pre class="fragment">                        {
        <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a> = NULL;
        <a class="code" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a> = NULL;
        <a class="code" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a> = NULL;
    };
</pre></div>
</div>
</div>
<a class="anchor" id="a3a21dbfa41e2c41787850c7a2c53dcaf"></a><!-- doxytag: member="GlobalViewBuilder::~GlobalViewBuilder" ref="a3a21dbfa41e2c41787850c7a2c53dcaf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual GlobalViewBuilder::~GlobalViewBuilder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00097">97</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
        <span class="keyword">delete</span> <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>;
        <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;cancelAndDelete(<a class="code" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a>);
        <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;cancelAndDelete(<a class="code" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a>);
    };
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab4072c0c1f5c9b8a82ccb2c4f3f352fc"></a><!-- doxytag: member="GlobalViewBuilder::checkOverlayReady" ref="ab4072c0c1f5c9b8a82ccb2c4f3f352fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GlobalViewBuilder::checkOverlayReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00282">282</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">handleCoordSendTimer()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span>  !<a class="code" href="classUnderlayConfiguratorAccess.html" title="Gives access to the UnderlayConfigurator.">UnderlayConfiguratorAccess</a>().<a class="code" href="classUnderlayConfiguratorAccess.html#a5e0cc87f6699810ee663e2239184e9b9">get</a>()-&gt;<a class="code" href="classUnderlayConfigurator.html#a00c2e85286a38799c7a04edb52ae6e76" title="still in initialization phase?">isInInitPhase</a>();
    <span class="comment">//return UnderlayConfiguratorAccess().get()-&gt;isTransitionTimeFinished() &amp;&amp; !UnderlayConfiguratorAccess().get()-&gt;isInInitPhase();</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6dc363b6ab217e8625b771d5fc7b0cc7"></a><!-- doxytag: member="GlobalViewBuilder::cleanup" ref="a6dc363b6ab217e8625b771d5fc7b0cc7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">69</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00658">NeighborCache::handleReadyMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// TODO AbstractSendStrategy::initializeStrategy()</span>
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a04f69062088821181341dd376e6e8524" title="Set the Nodehandle of the own node to identify the own coordinates.">setThisNode</a>(<a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>());
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a22655321f1a44801b516eb5e31cc45aa">setMyCoordinates</a>(<a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#affdf04759fd1df8315954b8789d91eab">getNcsAccess</a>().<a class="code" href="classAbstractNcs.html#afb2c12a5b86a18f15f7a47a95d8bfc4e">getOwnNcsInfo</a>());
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a085687ebc156f6c21a4346246a5e6780" title="cleanup the coordinate map and remove data of nodes which are not longer in the branch">cleanUpCoordData</a>(<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#a2e4264a8dd8c9dfd3b7eb4f960e67d03">getChildNodes</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a06688f06738200cfd819a21387cf1473"></a><!-- doxytag: member="GlobalViewBuilder::getCAP" ref="a06688f06738200cfd819a21387cf1473" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="CoordBasedRouting_8h.html#ad91d7d67c95c2e1de279d6c2a96d241e">AP</a>* GlobalViewBuilder::getCAP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00133">133</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00753">NeighborCache::setCbrNodeId()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> &amp;<a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="a3b1df0f62d302b026bd8bd6fb150a145"></a><!-- doxytag: member="GlobalViewBuilder::handleCapReqRpcCall" ref="a3b1df0f62d302b026bd8bd6fb150a145" args="(CapReqCall *call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::handleCapReqRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCapReqCall.html">CapReqCall</a> *&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00201">201</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00078">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classAreaDataContainer.html">AreaDataContainer</a> tmpAreaDataContainer;
    tmpAreaDataContainer.<a class="code" href="classAreaDataContainer.html#a38154e198ac75557255c97b00b840efc">CBRAreaPool</a> = <a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a>;
    <a class="code" href="classCapReqResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">CapReqResponse</a>* response = <span class="keyword">new</span> <a class="code" href="classCapReqResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">CapReqResponse</a>();
    response-&gt;<a class="code" href="classCapReqResponse.html#a50bbe1b8415fb6ae138f54fe4ffdea92">setAreaData</a>(tmpAreaDataContainer);
    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(call, response);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a60c7234c2e76481a14f6f0880fae1a21"></a><!-- doxytag: member="GlobalViewBuilder::handleCoordinateRpcCall" ref="a60c7234c2e76481a14f6f0880fae1a21" args="(GlobalViewBuilderCall *globalViewBuilderCall)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::handleCoordinateRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGlobalViewBuilderCall.html">GlobalViewBuilderCall</a> *&#160;</td>
          <td class="paramname"><em>globalViewBuilderCall</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">93</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00078">handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>() == msg-&gt;getSrcNode()) {
        <span class="comment">//std::cout &lt;&lt; treeManager-&gt;getCurrentTreeLevel() &lt;&lt; &quot; !!!&quot; &lt;&lt; std::endl;</span>
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }
    <span class="comment">// CAP received</span>
    <span class="keywordflow">if</span> (dynamic_cast&lt;AreaDataCall*&gt;(msg)) {
        <a class="code" href="classAreaDataCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">AreaDataCall</a>* temp = <span class="keyword">static_cast&lt;</span><a class="code" href="classAreaDataCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">AreaDataCall</a>*<span class="keyword">&gt;</span>(msg);
        <span class="comment">//treeManager-&gt;isParent(msg-&gt;getSrcNode())</span>
        <span class="keywordflow">if</span> (<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#afc584bf2c7605137e93fc69fe2272d38">getParentNode</a>().<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>() ||
            (msg-&gt;getSrcNode() != <a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#afc584bf2c7605137e93fc69fe2272d38">getParentNode</a>())) {
            std::cout &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                      &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; msg-&gt;getSrcNode().getIp() &lt;&lt; <span class="stringliteral">&quot; is not my parent! Deleting AreaDataCall!&quot;</span> &lt;&lt; std::endl;
            <span class="keyword">delete</span> msg;
            <span class="keywordflow">return</span>;
        }

        <a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a> = temp-&gt;<a class="code" href="classAreaDataCall.html#a426320d97fbaed86fccfd038880794b4">getAreaData</a>().<a class="code" href="classAreaDataContainer.html#a38154e198ac75557255c97b00b840efc">CBRAreaPool</a>;
        <span class="comment">//std::vector&lt;double&gt; tempvec =</span>
        <span class="comment">//        neighborCache-&gt;getNcsAccess().getOwnNcsInfo().getCoords();</span>
        <span class="comment">//for (uint8_t i = 0; i&lt; tempvec.size(); ++i) {</span>
        <span class="comment">//    std::cout &lt;&lt; tempvec[i] &lt;&lt; std::endl;</span>
        <span class="comment">//}</span>
        <span class="comment">//std::cout &lt;&lt; overlay-&gt;getThisNode().getKey() &lt;&lt; &quot; -&gt; &quot;</span>
        <span class="comment">//          &lt;&lt; CoordBasedRoutingAccess().get()-&gt;getNodeId(tempvec, 4, 160, &amp;cap) &lt;&lt; &quot;\n&quot; &lt;&lt; std::endl;</span>

        <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;getParentModule()-&gt;bubble(<span class="stringliteral">&quot;CAP received!&quot;</span>);
        <a class="code" href="classGlobalViewBuilder.html#ad66fb1502d9109f93fa91460d7df30b8">capReady</a> = <span class="keyword">true</span>;

        <a class="code" href="classAreaDataCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">AreaDataCall</a>* newAreaCall = <span class="keyword">new</span> <a class="code" href="classAreaDataCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">AreaDataCall</a>(<span class="stringliteral">&quot;AreaDataCall&quot;</span>);
        newAreaCall-&gt;<a class="code" href="classAreaDataCall.html#a99d417c9f01185860eea38f097d1a4c4">setAreaData</a>(temp-&gt;<a class="code" href="classAreaDataCall.html#a426320d97fbaed86fccfd038880794b4">getAreaData</a>());
        newAreaCall-&gt;setBitLength(temp-&gt;getBitLength());

        <span class="comment">//std::cout &lt;&lt; treeManager-&gt;getCurrentTreeLevel() &lt;&lt; std::endl;</span>
        <a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#aca91cfe88405942601f17b55c64f254a">sendMessageToChildren</a>(newAreaCall);
    }
    <span class="comment">// coordinates received from child</span>
    <span class="keywordflow">else</span> {
        <span class="comment">// check if this a child</span>
        <span class="keywordflow">if</span> (<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#a2a3e54e1c53d4d721ef008bf6456361e">isChild</a>(msg-&gt;getSrcNode())) {
             <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a5bea7ce5c4d7b5dbb986fe9fbcad1341">handleCoordinateRpcCall</a>(msg);
        }  <span class="keywordflow">else</span> {
            <span class="comment">//TODO do not delete msg if msg was sent to a key</span>
            std::cout &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                      &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; msg-&gt;getSrcNode().getIp() <span class="comment">//&lt;&lt; &quot; (&quot; &lt;&lt; msg-&gt;getDestKey()</span>
                      &lt;&lt; <span class="stringliteral">&quot;) is no child of mine! Deleting Coordinates!&quot;</span> &lt;&lt; std::endl;
            <span class="keyword">delete</span> msg;
            <span class="keywordflow">return</span>;
        }
    }

    <a class="code" href="classGlobalViewBuilderResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">GlobalViewBuilderResponse</a>* gvbResponse = <span class="keyword">new</span> <a class="code" href="classGlobalViewBuilderResponse.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">GlobalViewBuilderResponse</a>(<span class="stringliteral">&quot;GlobalViewBuilderResponse&quot;</span>);
    gvbResponse-&gt;setBitLength(<a class="code" href="TreeManagementMessage__m_8h.html#ab0836c98cbc9dc20eaf835f4177ae683">GLOBALVIEWBUILDERRESPONSE_L</a>(gvbResponse));

    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#adc06091d348c98a5efbf54fe0afe8747" title="Send Remote-Procedure response message and deletes call message.">sendRpcResponse</a>(msg, gvbResponse);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7df33976fda402e379ebea2fc4d6a0d8"></a><!-- doxytag: member="GlobalViewBuilder::handleCoordSendTimer" ref="a7df33976fda402e379ebea2fc4d6a0d8" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::handleCoordSendTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">224</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;cancelEvent(msg);
    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;scheduleAt(simTime() + <a class="code" href="classGlobalViewBuilder.html#a2c7f7a37f909031eac7485e34382f241" title="mean time interval between sending test messages">meanCoordSendInterval</a>,
                              <span class="comment">//truncnormal(meanCoordSendInterval, deviation),</span>
                              msg);

    <span class="keyword">const</span> <a class="code" href="classNodeHandle.html" title="This class implements a node handle.">NodeHandle</a>&amp; thisNode = this-&gt;<a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>();
    <span class="keywordflow">if</span>(thisNode.<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
        <span class="keywordflow">return</span>;
    }

    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a04f69062088821181341dd376e6e8524" title="Set the Nodehandle of the own node to identify the own coordinates.">setThisNode</a>(<a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>());
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a22655321f1a44801b516eb5e31cc45aa">setMyCoordinates</a>(<a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#affdf04759fd1df8315954b8789d91eab">getNcsAccess</a>().<a class="code" href="classAbstractNcs.html#afb2c12a5b86a18f15f7a47a95d8bfc4e">getOwnNcsInfo</a>());
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a085687ebc156f6c21a4346246a5e6780" title="cleanup the coordinate map and remove data of nodes which are not longer in the branch">cleanUpCoordData</a>(<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#a2e4264a8dd8c9dfd3b7eb4f960e67d03">getChildNodes</a>());

    <span class="keywordflow">if</span> (!<a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a8317329015f5923320d94ae628401de2" title="Returns a pointer to the treeManager Module.">getTreeManager</a>()-&gt;<a class="code" href="classTreeManagement.html#afc584bf2c7605137e93fc69fe2272d38">getParentNode</a>().<a class="code" href="classNodeHandle.html#ab5136375a4548ced7c2014a73c8743c9" title="indicates if this NodeHandle is specified">isUnspecified</a>()) {
        std::stringstream nodeState;
        nodeState.str(<span class="stringliteral">&quot;&quot;</span>);
        nodeState &lt;&lt; <span class="stringliteral">&quot;LVL: &quot;</span>;
        nodeState &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#a8eb49d4d9e1df68543a607e7cb38dd3e" title="return the current tree level of this node">getCurrentTreeLevel</a>();
        nodeState &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;
        nodeState &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a82409fcac368729fe914dfccacbcaf8e" title="return a short status of the running send strategy">getStrategyDataStatus</a>();

        <span class="keywordflow">if</span> (!<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#a1a40ced95ba4eea6df7de40104411280">isRoot</a>() <span class="comment">/*neighborCache-&gt;getTreeManager()-&gt;getParentNode().getKey() !=</span>
<span class="comment">            neighborCache-&gt;overlay-&gt;getThisNode().getKey()*/</span>) {
            <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a8317329015f5923320d94ae628401de2" title="Returns a pointer to the treeManager Module.">getTreeManager</a>()-&gt;<a class="code" href="classTreeManagement.html#a0f27e1436b5db404e2329d43bc577e60" title="send a message to the parent">sendMessageToParent</a>(<a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a8d252d74a37bf5630c8e6d3f72e0ac06">getCoordinateMessage</a>());
        } <span class="keywordflow">else</span> {
            <span class="comment">// this node is root</span>
            <span class="keywordflow">if</span>(<a class="code" href="classGlobalViewBuilder.html#ab4072c0c1f5c9b8a82ccb2c4f3f352fc">checkOverlayReady</a>() == <span class="keyword">true</span>) {
                EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; GlobalViewBuilder::handleCoordSendTimer (&quot;</span>
                   &lt;&lt; <span class="stringliteral">&quot;Spread GlobaLViewData&quot;</span> &lt;&lt; <span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;
                <span class="comment">// wait some seconds before spreading the CAP</span>
                <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;cancelEvent(<a class="code" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a>);
                <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;scheduleAt(simTime() + 10, <a class="code" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a>); <span class="comment">//TODO parameter</span>
                <span class="comment">//spreadGlobalView();</span>
            }
        }

        <span class="comment">//std::cout &lt;&lt; treeManager-&gt;getCurrentTreeLevel() &lt;&lt; &quot;\n&quot;</span>
        <span class="comment">//          &lt;&lt; sendStrategy-&gt;getStrategyDataStatus() &lt;&lt; std::endl;</span>

        <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;getParentModule()-&gt;getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, nodeState.str().c_str());
    } <span class="keywordflow">else</span> {
        std::cout &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; @ &quot;</span>
                  &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>()
                  &lt;&lt; <span class="stringliteral">&quot;: I have no parent :-(&quot;</span> &lt;&lt; std::endl;
        <a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#adc6f93b4af76efcd31a605b77789421d">startTreeBuilding</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4f62de45a0457486749cabcad83802e8"></a><!-- doxytag: member="GlobalViewBuilder::handleRpcCall" ref="a4f62de45a0457486749cabcad83802e8" args="(BaseCallMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GlobalViewBuilder::handleRpcCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classAbstractTreeMsgClient.html#ad95c829c3b1b889b24673a9378a4499c">AbstractTreeMsgClient</a>.</p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00078">78</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00814">NeighborCache::handleRpcCall()</a>.</p>
<div class="fragment"><pre class="fragment">{
    EV &lt;&lt; <span class="stringliteral">&quot;|DD|&gt; GlobalViewBuilder::handleRpcCall (&quot;</span> &lt;&lt; <span class="stringliteral">&quot;) &lt;||&quot;</span> &lt;&lt; endl;


    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>( msg );
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( <a class="code" href="classGlobalViewBuilder.html">GlobalViewBuilder</a>, <a class="code" href="classGlobalViewBuilder.html#a60c7234c2e76481a14f6f0880fae1a21">handleCoordinateRpcCall</a>);
    <a class="code" href="RpcMacros_8h.html#ad81d44e9bc59d2fb2cfcacc4d5ecda35" title="Declares a RPC method delegation.">RPC_DELEGATE</a>( CapReq, <a class="code" href="classGlobalViewBuilder.html#a3b1df0f62d302b026bd8bd6fb150a145">handleCapReqRpcCall</a>);
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( );

    <span class="comment">//delete(msg);</span>

    <span class="keywordflow">return</span> <a class="code" href="RpcMacros_8h.html#aa5e964b7c7129c0943237a786e455e9a">RPC_HANDLED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2e9b384a9b910c20eff9034f29a16cce"></a><!-- doxytag: member="GlobalViewBuilder::handleRpcResponse" ref="a2e9b384a9b910c20eff9034f29a16cce" args="(BaseResponseMessage *msg, cPolymorphic *context, int rpcId, simtime_t rtt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::handleRpcResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseResponseMessage.html">BaseResponseMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>rtt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC response has been received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The response message. </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classGlobalViewBuilder.html#a2e9b384a9b910c20eff9034f29a16cce" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">rtt</td><td>The Round-Trip-Time of this RPC </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#a6229090a446fb649cfec3c1fb61e7167">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00160">160</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="RpcMacros_8h.html#aa75b135e279b574267e1a7dc4ab79da4" title="Marks the beginning of a Remote-Procedure-Call Switch block.">RPC_SWITCH_START</a>(msg)
            <a class="code" href="RpcMacros_8h.html#a0394d2dc4f9f1e15d7e99c9f43da10c7">RPC_ON_RESPONSE</a>(CapReq) {
        <span class="comment">/*int bitsPerDigit = neighborCache-&gt;overlay-&gt;getBitsPerDigit();</span>
<span class="comment">        neighborCache-&gt;thisNode.setKey(CoordBasedRoutingAccess().get()-&gt;getNodeId(neighborCache-&gt;getNcsAccess().getOwnNcsInfo().getCoords(),</span>
<span class="comment">                                                                                 bitsPerDigit,</span>
<span class="comment">                                                                                 OverlayKey::getLength(),</span>
<span class="comment">                                                                                 &amp;_CapReqResponse-&gt;getAreaData().CBRAreaPool));</span>
<span class="comment"></span>
<span class="comment">        EV &lt;&lt; &quot;[GlobalViewBuilder::handleRpcResponse() @ &quot;</span>
<span class="comment">                &lt;&lt; neighborCache-&gt;thisNode.getIp()</span>
<span class="comment">                &lt;&lt; &quot; (&quot; &lt;&lt; neighborCache-&gt;thisNode.getKey().toString(16) &lt;&lt; &quot;)]&quot;</span>
<span class="comment">                &lt;&lt; &quot;\n    -&gt; nodeID ( 2): &quot;</span>
<span class="comment">                &lt;&lt; neighborCache-&gt;thisNode.getKey().toString(2)</span>
<span class="comment">                &lt;&lt; &quot;\n    -&gt; nodeID (16): &quot;</span>
<span class="comment">                &lt;&lt; neighborCache-&gt;thisNode.getKey().toString(16) &lt;&lt; endl;</span>
<span class="comment"></span>
<span class="comment">        // returning to BaseOverlay</span>
<span class="comment">        neighborCache-&gt;overlay-&gt;join(neighborCache-&gt;thisNode.getKey());*/</span>
        <a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a> = _CapReqResponse-&gt;getAreaData().CBRAreaPool;
        <span class="comment">//if (cap.size() &gt; 0) //TODO</span>
        <a class="code" href="classGlobalViewBuilder.html#ad66fb1502d9109f93fa91460d7df30b8">capReady</a> = <span class="keyword">true</span>; <span class="comment">//TODO</span>
        <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0df75e09a10623f6ad9e45ee05f20938">prepareOverlay</a>();
    }
    <a class="code" href="RpcMacros_8h.html#a29a8a3f21e67ecb25f58608a54df5191" title="Marks the end of a Remote-Procedure-Call Switch block.">RPC_SWITCH_END</a>( )
}
</pre></div>
</div>
</div>
<a class="anchor" id="a608527231ced15aea21f996f3882ff05"></a><!-- doxytag: member="GlobalViewBuilder::handleRpcTimeout" ref="a608527231ced15aea21f996f3882ff05" args="(BaseCallMessage *msg, const TransportAddress &amp;dest, cPolymorphic *context, int rpcId, const OverlayKey &amp;destKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::handleRpcTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBaseCallMessage.html">BaseCallMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOverlayKey.html">OverlayKey</a> &amp;&#160;</td>
          <td class="paramname"><em>destKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if an RPC timeout has been reached. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The original RPC message. </td></tr>
    <tr><td class="paramname">dest</td><td>The destination node </td></tr>
    <tr><td class="paramname">context</td><td>Pointer to an optional state object. The object has to be handled/deleted by the <a class="el" href="classGlobalViewBuilder.html#a2e9b384a9b910c20eff9034f29a16cce" title="This method is called if an RPC response has been received.">handleRpcResponse()</a> code </td></tr>
    <tr><td class="paramname">rpcId</td><td>The RPC id. </td></tr>
    <tr><td class="paramname">destKey</td><td>the destination <a class="el" href="classOverlayKey.html" title="A common overlay key class.">OverlayKey</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classRpcListener.html#aaaf9cd362481527ed995dd159aa96b73">RpcListener</a>.</p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00191">191</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::cout &lt;&lt; <span class="stringliteral">&quot;THIS SHOULD NOT HAPPEN!!!&quot;</span> &lt;&lt; std::endl;
    assert(<span class="keyword">false</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad63b3d40bc4a4025edb25f6801dc8a83"></a><!-- doxytag: member="GlobalViewBuilder::handleTimerEvent" ref="ad63b3d40bc4a4025edb25f6801dc8a83" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::handleTimerEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">210</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00780">NeighborCache::handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (msg == <a class="code" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#a1a40ced95ba4eea6df7de40104411280">isRoot</a>()) {
            <a class="code" href="classGlobalViewBuilder.html#a3899a1102a6bb45b30a852a6b2b6c594" title="Send the calculated global view down the tree to the children.">spreadGlobalView</a>();
        } <span class="keywordflow">else</span> {
            <span class="comment">//std::cout &lt;&lt; &quot;msg == spreadCapTimer &amp;&amp; !treeManager-&gt;isRoot()&quot; &lt;&lt; std::endl;</span>
        }
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a>) {
        <span class="comment">//neighborCache-&gt;cancelEvent(spreadCapTimer);</span>
        <a class="code" href="classGlobalViewBuilder.html#a7df33976fda402e379ebea2fc4d6a0d8">handleCoordSendTimer</a>(msg);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="abd89f32ef4f20291e1e06a6d0a58fb13"></a><!-- doxytag: member="GlobalViewBuilder::initializeViewBuilder" ref="abd89f32ef4f20291e1e06a6d0a58fb13" args="(NeighborCache *neighborCache, BaseOverlay *overlay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::initializeViewBuilder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNeighborCache.html">NeighborCache</a> *&#160;</td>
          <td class="paramname"><em>neighborCache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBaseOverlay.html">BaseOverlay</a> *&#160;</td>
          <td class="paramname"><em>overlay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>.cc </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Daniel Lienert </dd></dl>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">33</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00073">NeighborCache::initializeApp()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                {

    this-&gt;neighborCache = <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>;
    this-&gt;overlay = <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>;
    this-&gt;<a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a> = neighborCache-&gt;<a class="code" href="classNeighborCache.html#a8317329015f5923320d94ae628401de2" title="Returns a pointer to the treeManager Module.">getTreeManager</a>();

    <a class="code" href="classGlobalViewBuilder.html#a2c7f7a37f909031eac7485e34382f241" title="mean time interval between sending test messages">meanCoordSendInterval</a> = neighborCache-&gt;par(<span class="stringliteral">&quot;gvbCoordSendInterval&quot;</span>);
    <a class="code" href="classGlobalViewBuilder.html#aa4ba182cd9a1f0a5524cf14b9aa35077" title="deviation of time interval">deviation</a> = <a class="code" href="classGlobalViewBuilder.html#a2c7f7a37f909031eac7485e34382f241" title="mean time interval between sending test messages">meanCoordSendInterval</a> / 10;

    <a class="code" href="classGlobalViewBuilder.html#ad66fb1502d9109f93fa91460d7df30b8">capReady</a> = <span class="keyword">false</span>;
    <a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a> = 0;
    <a class="code" href="classGlobalViewBuilder.html#a32aab99ad6fde5d58decf131aaa83ab5">onlyAcceptCompleteCCD</a> = neighborCache-&gt;par(<span class="stringliteral">&quot;gvbOnlyAcceptCompleteCCD&quot;</span>);

    <span class="comment">// initialize the send Strategy</span>
    <a class="code" href="classGlobalViewBuilder.html#a8c67fddbf5e3ad008a3d34100546d797">activeStrategy</a> = this-&gt;neighborCache-&gt;par(<span class="stringliteral">&quot;gvbSendStrategy&quot;</span>).stdstringValue();
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a> = <a class="code" href="classSendStrategyFactory.html#ac853ccd047074bac33a5aee52ace1f76">SendStrategyFactory::getSendStrategyInstance</a>(<a class="code" href="classGlobalViewBuilder.html#a8c67fddbf5e3ad008a3d34100546d797">activeStrategy</a>);
    <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a5867f3e94f0492dc6c352dd4fc669b55" title="set a pointer to the neighborCache to access the optional parameters for the strategies">initialize</a>(<span class="keyword">this</span>);

    <a class="code" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;coordSendTimer&quot;</span>);
    <a class="code" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">spreadCapTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;spreadCapTimer&quot;</span>);

    <span class="comment">//start();</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a77d0b11983f93cdc01a8ec95319be791"></a><!-- doxytag: member="GlobalViewBuilder::isCapReady" ref="a77d0b11983f93cdc01a8ec95319be791" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GlobalViewBuilder::isCapReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00131">131</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00705">NeighborCache::prepareOverlay()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classGlobalViewBuilder.html#ad66fb1502d9109f93fa91460d7df30b8">capReady</a>; };
</pre></div>
</div>
</div>
<a class="anchor" id="a5e5999c901d2785118175fbce25b4005"></a><!-- doxytag: member="GlobalViewBuilder::isCapValid" ref="a5e5999c901d2785118175fbce25b4005" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GlobalViewBuilder::isCapValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00132">132</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00780">NeighborCache::handleTimerEvent()</a>, and <a class="el" href="NeighborCache_8cc_source.html#l00705">NeighborCache::prepareOverlay()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> (<a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a>.size() &gt; 0); };
</pre></div>
</div>
</div>
<a class="anchor" id="a8ec353f051f4ff7629a40ebaa93f5db6"></a><!-- doxytag: member="GlobalViewBuilder::newParent" ref="a8ec353f051f4ff7629a40ebaa93f5db6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::newParent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classAbstractTreeMsgClient.html#a952a36c915db9a987b52f6dbec608a6d">AbstractTreeMsgClient</a>.</p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00276">276</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//handleCoordSendTimer(coordSendTimer);</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="afbeb3567a6c453e697865dd99b76dd90"></a><!-- doxytag: member="GlobalViewBuilder::parProxy" ref="afbeb3567a6c453e697865dd99b76dd90" args="(const char *parname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cPar &amp; GlobalViewBuilder::parProxy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>parname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00460">460</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="StrategySimplifyCoords_8cc_source.html#l00175">StrategySimplifyCoords::decode()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00283">StrategyRegions::getMaxSpread()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00275">StrategyRegions::getSizePerDim()</a>, <a class="el" href="StrategyRemoveCoords_8cc_source.html#l00081">StrategyRemoveCoords::getStrategyCombinedParams()</a>, <a class="el" href="StrategyRegions_8cc_source.html#l00053">StrategyRegions::getStrategyCombinedParams()</a>, <a class="el" href="StrategySimplifyCoords_8cc_source.html#l00131">StrategySimplifyCoords::getStrategyCombinedParams()</a>, <a class="el" href="StrategyRemoveCoords_8cc_source.html#l00039">StrategyRemoveCoords::processCoordinates()</a>, and <a class="el" href="StrategySimplifyCoords_8cc_source.html#l00158">StrategySimplifyCoords::simplify()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;par(parname);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7b729fbb8bd93471b8fbb0cf81eca4ef"></a><!-- doxytag: member="GlobalViewBuilder::sendCapRequest" ref="a7b729fbb8bd93471b8fbb0cf81eca4ef" args="(const TransportAddress &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::sendCapRequest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTransportAddress.html">TransportAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00152">152</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00705">NeighborCache::prepareOverlay()</a>.</p>
<div class="fragment"><pre class="fragment">{
    assert(!node.<a class="code" href="classTransportAddress.html#a026e777c423ff2a0280edd2fa5472e74" title="indicates if TransportAddress is specified">isUnspecified</a>());
    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a816918e82652f724c291923e018eabe2" title="Routes a Remote-Procedure-Call message to an OverlayKey.">sendRouteRpcCall</a>(<a class="code" href="CommonMessages__m_8h.html#aad57ef0110fe8675eb299d467148bc5ead65752bbf62b380b2d957b69477f5742">NEIGHBORCACHE_COMP</a>,
                                    node,
                                    <span class="keyword">new</span> <a class="code" href="classCapReqCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">CapReqCall</a>(<span class="stringliteral">&quot;CapRequestCall&quot;</span>),
                                    NULL, <a class="code" href="CommonMessages__m_8h.html#a5bbe67ba1134d38bbb89c7c242ba6551a931137cd67090e50ef2ea3ccfb9e8d90">DEFAULT_ROUTING</a>, -1, 0, -1, <span class="keyword">this</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3899a1102a6bb45b30a852a6b2b6c594"></a><!-- doxytag: member="GlobalViewBuilder::spreadGlobalView" ref="a3899a1102a6bb45b30a852a6b2b6c594" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::spreadGlobalView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send the calculated global view down the tree to the children. </p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">289</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">handleTimerEvent()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="CoordinateSystem_8h.html#a71724399e99bfd4fc0f3643b4c048a95">CoordsVec</a> ccd = <a class="code" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">sendStrategy</a>-&gt;<a class="code" href="classAbstractSendStrategy.html#a819eb4902a780e0c126df67867eabd1c" title="return the decodes global View Data">getGlobalViewData</a>();
    <span class="comment">//std::cout &lt;&lt; &quot;CCD: &quot; &lt;&lt; ccd.size() &lt;&lt; std::endl;</span>
    uint32_t tempSize = 0;
    <span class="keywordflow">if</span> ((<a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a> == 0) ||
        ((ccd.size() &lt; (<a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a> * 1.5)) &amp;&amp;
         (ccd.size() &gt; (<a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a> * 0.5)))) {
        tempSize = <a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a>;
        <a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a> = ccd.size();
    }

    <a class="code" href="classCoordBasedRouting.html">CoordBasedRouting</a>* cbr = <a class="code" href="classCoordBasedRoutingAccess.html" title="Gives access to the CoordBasedRouting.">CoordBasedRoutingAccess</a>().<a class="code" href="classCoordBasedRoutingAccess.html#a52ae7545ba854d93787e15fb4f4bf0a6">get</a>();

    <span class="comment">//special case: only accept complete CCD</span>
    <span class="keywordflow">if</span> (<a class="code" href="classGlobalViewBuilder.html#a32aab99ad6fde5d58decf131aaa83ab5">onlyAcceptCompleteCCD</a> &amp;&amp;
        ((<span class="keywordtype">int</span>)ccd.size() !=
            <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseApp.html#a0587e13700e8641eec8143628dfd34cd" title="pointer to UnderlayConfigurator in this node">underlayConfigurator</a>-&gt;<a class="code" href="classUnderlayConfigurator.html#a611bd56fa1ac7fca47a2c8f02e8b2009">getOverlayTerminalCount</a>())) {
        EV &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span>
           &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
           &lt;&lt; <span class="stringliteral">&quot;)]\n    CAP.size() &quot;</span> &lt;&lt; ccd.size()
           &lt;&lt; <span class="stringliteral">&quot; != numTerminalCount: no spreading!&quot;</span> &lt;&lt; endl;
        std::cout &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span>
                  &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                  &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
                  &lt;&lt; <span class="stringliteral">&quot;)]\n    CCD.size() &quot;</span> &lt;&lt; ccd.size()
                  &lt;&lt; <span class="stringliteral">&quot; != numTerminalCount: no spreading!&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span>;
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cbr-&gt;<a class="code" href="classCoordBasedRouting.html#aacff616bb863c37a7ef540b6f9b8228a">changeIdLater</a>() &amp;&amp;
               (simTime() &gt; cbr-&gt;<a class="code" href="classCoordBasedRouting.html#a1dc2fea0b8591bf97fcc34d6e4e2f46f">getChangeIdStart</a>()) &amp;&amp;
               (simTime() &lt; (cbr-&gt;<a class="code" href="classCoordBasedRouting.html#a6dda44575b2598c3e28b2a7fe299a3f4">getChangeIdStop</a>() + 3000))) {
        EV &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span>
           &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
           &lt;&lt; <span class="stringliteral">&quot;)]\n    CAP.size() &quot;</span> &lt;&lt; ccd.size()
           &lt;&lt; <span class="stringliteral">&quot; in id change phase, no spreading&quot;</span> &lt;&lt; endl;
        std::cout &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span>
                  &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                  &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
                  &lt;&lt; <span class="stringliteral">&quot;)]\n    CAP.size() &quot;</span> &lt;&lt; ccd.size()
                  &lt;&lt; <span class="stringliteral">&quot; in id change phase, no spreading&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span>;

    } <span class="keywordflow">else</span> tempSize = <a class="code" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">oldCcdSize</a> = ccd.size();

    <span class="comment">//std::cout &lt;&lt; &quot;tempSize: &quot; &lt;&lt; tempSize &lt;&lt; std::endl;</span>
    <span class="comment">// CCD size check</span>
    <span class="keywordflow">if</span> ((ccd.size() &gt; (tempSize * 1.2)) ||
        (ccd.size() &lt; (tempSize * 0.8))) {
        EV &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span>
           &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
           &lt;&lt; <span class="stringliteral">&quot;)]\n    CAP.size() is too fluctuant: no spreading!&quot;</span> &lt;&lt; endl;
        std::cout &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span>
                  &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                  &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16)
                  &lt;&lt; <span class="stringliteral">&quot;)]\n    CAP.size() is too fluctuant: no spreading!&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span>;
    }

    <span class="comment">/*</span>
<span class="comment">    for (uint i = 0; i &lt; ccd.size(); ++i) {</span>
<span class="comment">        std::cout &lt;&lt; ccd[i] &lt;&lt; &quot;, &quot;;</span>
<span class="comment">    }</span>
<span class="comment">    std::cout &lt;&lt; std::endl;</span>
<span class="comment"></span>
<span class="comment">    uint32_t overlaySize  = overlay-&gt;estimateOverlaySize();</span>
<span class="comment">    if ((ccd.size() &gt; (2.0 * overlaySize)) ||</span>
<span class="comment">        (ccd.size() &lt; (0.5 * overlaySize))) {</span>
<span class="comment">        //oldCcdSize = ccd.size();</span>
<span class="comment">        std::cout &lt;&lt; &quot;CCD: &quot; &lt;&lt; ccd.size()</span>
<span class="comment">                  &lt;&lt; &quot;, overlay-&gt;estimateOverlaySize(): &quot; &lt;&lt; overlaySize</span>
<span class="comment">                  &lt;&lt; std::endl;</span>
<span class="comment">        //return;</span>
<span class="comment">    }</span>
<span class="comment">    */</span>

    <span class="comment">//tmpAreaDataContainer.CBRAreaPool = c2aAdapter-&gt;getCBRAreas();</span>

    <span class="comment">/*</span>
<span class="comment">    std::cout &lt;&lt; &quot;\n\n\nGlobalViewBuilder::spreadGlobalView(): The CCD with size = &quot; &lt;&lt; coordsVec.size() &lt;&lt; &quot;:&quot; &lt;&lt; std::endl;</span>
<span class="comment">    for (uint32_t i = 0; i &lt; coordsVec.size(); ++i) {</span>
<span class="comment">            std::cout &lt;&lt; coordsVec[i] &lt;&lt; &quot; &quot;;</span>
<span class="comment">    }</span>
<span class="comment">    std::cout &lt;&lt; endl;</span>
<span class="comment">     */</span>

    <span class="keyword">const</span> <a class="code" href="CoordBasedRouting_8h.html#ad91d7d67c95c2e1de279d6c2a96d241e">AP</a>* <a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a> =
        <a class="code" href="classCoordBasedRoutingAccess.html" title="Gives access to the CoordBasedRouting.">CoordBasedRoutingAccess</a>().<a class="code" href="classCoordBasedRoutingAccess.html#a52ae7545ba854d93787e15fb4f4bf0a6">get</a>()-&gt;<a class="code" href="classCoordBasedRouting.html#a3d6703cf4f039648d02324809a455e01">calculateCapFromCcd</a>(ccd,
                                                             <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#a9a633ad17071241f981fb76a9678337a">overlay</a>-&gt;<a class="code" href="classBaseOverlay.html#afcab85a6c5a4f8aa70a65ecabaa78180">getBitsPerDigit</a>());

    <span class="comment">/*</span>
<span class="comment">    C2AAdapter* c2aAdapter = C2AAdapter::getInstance();</span>
<span class="comment">    c2aAdapter-&gt;initialize(this, sendStrategy-&gt;getStrategyCombinedParams());</span>
<span class="comment">    c2aAdapter-&gt;setCoordinates(coordsVec);</span>
<span class="comment">    c2aAdapter-&gt;createAreas();</span>
<span class="comment"></span>
<span class="comment">    const AP cap_test = c2aAdapter-&gt;getCBRAreas();</span>
<span class="comment"></span>
<span class="comment">    std::cout &lt;&lt; &quot; &gt;----- &quot; &lt;&lt; cap-&gt;size() &lt;&lt; std::endl;</span>
<span class="comment">    //assert (cap_test.size() == cap-&gt;size());</span>
<span class="comment">    std::cout &lt;&lt; &quot;#nodes: &quot; &lt;&lt; coordsVec.size() &lt;&lt; &quot;, #areas: &quot; &lt;&lt; cap-&gt;size() &lt;&lt; std::endl;</span>
<span class="comment">    for (uint32_t i = 0; i &lt; cap-&gt;size(); ++i) {</span>
<span class="comment">    std::cout &lt;&lt; cap-&gt;at(i)-&gt;prefix &lt;&lt; &quot; (&quot;</span>
<span class="comment">              &lt;&lt; cap-&gt;at(i)-&gt;min[0] &lt;&lt; &quot;, &quot;</span>
<span class="comment">              &lt;&lt; cap-&gt;at(i)-&gt;min[1] &lt;&lt; &quot;) - (&quot;</span>
<span class="comment">              &lt;&lt; cap-&gt;at(i)-&gt;max[0] &lt;&lt; &quot;, &quot;</span>
<span class="comment">              &lt;&lt; cap-&gt;at(i)-&gt;max[1] &lt;&lt; &quot;)&quot;</span>
<span class="comment">              &lt;&lt; std::endl;</span>
<span class="comment">    }</span>
<span class="comment"></span>
<span class="comment">    std::cout &lt;&lt; &quot; ----- &quot; &lt;&lt; cap_test.size() &lt;&lt; std::endl;</span>
<span class="comment">    for (uint32_t i = 0; i &lt; cap_test.size(); ++i) {</span>
<span class="comment">    std::cout &lt;&lt; cap_test[i]-&gt;prefix &lt;&lt; &quot; (&quot;CBRArea</span>
<span class="comment">              &lt;&lt; cap_test[i]-&gt;min[0] &lt;&lt; &quot;, &quot;</span>
<span class="comment">              &lt;&lt; cap_test[i]-&gt;min[1] &lt;&lt; &quot;) - (&quot;</span>
<span class="comment">              &lt;&lt; cap_test[i]-&gt;max[0] &lt;&lt; &quot;, &quot;</span>
<span class="comment">              &lt;&lt; cap_test[i]-&gt;max[1] &lt;&lt; &quot;)&quot;</span>
<span class="comment">              &lt;&lt; std::endl;</span>
<span class="comment">    }</span>
<span class="comment">    std::cout &lt;&lt; &quot; -----&lt; &quot; &lt;&lt; std::endl;</span>
<span class="comment">    */</span>

    <span class="keywordflow">if</span> (cap == NULL) {
        EV &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
           &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
           &lt;&lt; <span class="stringliteral">&quot;    No CAP available for spreading!&quot;</span> &lt;&lt; endl;
        std::cout &lt;&lt; <span class="stringliteral">&quot;[GlobalViewBuilder::spreadGlobalView() @ &quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
                  &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">overlay</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classNodeHandle.html#aef531103cdf07c8353267f4d30a80112" title="returns key of this NodeHandle">getKey</a>().<a class="code" href="classOverlayKey.html#aabeb4fd284a630a82e982ba34ece4fd9" title="Returns a string representation of this key.">toString</a>(16) &lt;&lt; <span class="stringliteral">&quot;)]\n&quot;</span>
                  &lt;&lt; <span class="stringliteral">&quot;    No CAP available for spreading!&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span>;
    }


    <span class="comment">// measurement of CAP size</span>
    <span class="comment">/*</span>
<span class="comment">    std::fstream f;</span>
<span class="comment">    std::string name(&quot;CAP_&quot;);</span>
<span class="comment">    name += simTime().str();</span>
<span class="comment">    name += &quot;.bin&quot;;</span>
<span class="comment">    f.open(name.c_str(), std::ios::binary|std::ios::out);</span>
<span class="comment"></span>
<span class="comment">    for (uint32_t i = 0; i &lt; cap-&gt;size(); ++i) {</span>
<span class="comment">        f.write((char*)&amp;(cap-&gt;at(i).prefix), sizeof(cap-&gt;at(i).prefix));</span>
<span class="comment">        f.write((char*)&amp;(cap-&gt;at(i).min[0]), sizeof(cap-&gt;at(i).min[0]));</span>
<span class="comment">        f.write((char*)&amp;(cap-&gt;at(i).min[1]), sizeof(cap-&gt;at(i).min[1]));</span>
<span class="comment">        f.write((char*)&amp;(cap-&gt;at(i).max[0]), sizeof(cap-&gt;at(i).max[0]));</span>
<span class="comment">        f.write((char*)&amp;(cap-&gt;at(i).max[1]), sizeof(cap-&gt;at(i).max[1]));</span>
<span class="comment">    }</span>
<span class="comment">    f.close();</span>
<span class="comment">     */</span>

    <a class="code" href="classAreaDataCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">AreaDataCall</a>* msg = <span class="keyword">new</span> <a class="code" href="classAreaDataCall.html" title="Class generated from common/TreeManagementMessage.msg by opp_msgc.">AreaDataCall</a>(<span class="stringliteral">&quot;AreaDataCall&quot;</span>);
    <a class="code" href="classAreaDataContainer.html">AreaDataContainer</a> tmpAreaDataContainer;

    tmpAreaDataContainer.<a class="code" href="classAreaDataContainer.html#a38154e198ac75557255c97b00b840efc">CBRAreaPool</a> = *<a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a>;
    <span class="keyword">delete</span> <a class="code" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">cap</a>;

    std::cout &lt;&lt; <span class="stringliteral">&quot;\n   &quot;</span> &lt;&lt; simTime() &lt;&lt; <span class="stringliteral">&quot; CCD @ &quot;</span>
              &lt;&lt; <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classBaseRpc.html#ac3f420630d5618e81709c078b06fd9da" title="Returns the NodeHandle of this node.">getThisNode</a>().<a class="code" href="classTransportAddress.html#a00e613d98d3412e2b92897c25aa0eb4c" title="returns ip address">getIp</a>()
              &lt;&lt; <span class="stringliteral">&quot;: size = &quot;</span> &lt;&lt; ccd.size() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::endl;

    msg-&gt;<a class="code" href="classAreaDataCall.html#a99d417c9f01185860eea38f097d1a4c4">setAreaData</a>(tmpAreaDataContainer);
    <a class="code" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">treeManager</a>-&gt;<a class="code" href="classTreeManagement.html#aca91cfe88405942601f17b55c64f254a">sendMessageToChildren</a>(msg);

    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;<a class="code" href="classNeighborCache.html#a0ffa19a84d406ad8de4b86148a5879ad" title="pointer to GlobalStatistics module in this node">globalStatistics</a>-&gt;<a class="code" href="classGlobalStatistics.html#a6a697a0b67f344e4bc214159761f943a" title="Add a new value to the cStdDev container specified by the name parameter.">addStdDev</a>(<span class="stringliteral">&quot;GlobalViewBuilder: CCD size&quot;</span>,
                                               ccd.size());
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa8ae1389d89de7cbcb03c13ba68895fb"></a><!-- doxytag: member="GlobalViewBuilder::start" ref="aa8ae1389d89de7cbcb03c13ba68895fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalViewBuilder::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8cc_source.html#l00059">59</a> of file <a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a>.</p>

<p>Referenced by <a class="el" href="NeighborCache_8cc_source.html#l00658">NeighborCache::handleReadyMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;cancelEvent(<a class="code" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a>);
    <a class="code" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">neighborCache</a>-&gt;scheduleAt(simTime() +
                              truncnormal(<a class="code" href="classGlobalViewBuilder.html#a2c7f7a37f909031eac7485e34382f241" title="mean time interval between sending test messages">meanCoordSendInterval</a> / 2.0, <span class="comment">//TODO</span>
                                          <a class="code" href="classGlobalViewBuilder.html#aa4ba182cd9a1f0a5524cf14b9aa35077" title="deviation of time interval">deviation</a>),
                              <a class="code" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">coordSendTimer</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8c67fddbf5e3ad008a3d34100546d797"></a><!-- doxytag: member="GlobalViewBuilder::activeStrategy" ref="a8c67fddbf5e3ad008a3d34100546d797" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classGlobalViewBuilder.html#a8c67fddbf5e3ad008a3d34100546d797">GlobalViewBuilder::activeStrategy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00066">66</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>.</p>

</div>
</div>
<a class="anchor" id="af06e573952322692e6633f86ce473c73"></a><!-- doxytag: member="GlobalViewBuilder::cap" ref="af06e573952322692e6633f86ce473c73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CoordBasedRouting_8h.html#ad91d7d67c95c2e1de279d6c2a96d241e">AP</a> <a class="el" href="classGlobalViewBuilder.html#af06e573952322692e6633f86ce473c73">GlobalViewBuilder::cap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00071">71</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8h_source.html#l00133">getCAP()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00201">handleCapReqRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00160">handleRpcResponse()</a>, <a class="el" href="GlobalViewBuilder_8h_source.html#l00132">isCapValid()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>.</p>

</div>
</div>
<a class="anchor" id="ad66fb1502d9109f93fa91460d7df30b8"></a><!-- doxytag: member="GlobalViewBuilder::capReady" ref="ad66fb1502d9109f93fa91460d7df30b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGlobalViewBuilder.html#ad66fb1502d9109f93fa91460d7df30b8">GlobalViewBuilder::capReady</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00072">72</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00160">handleRpcResponse()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8h_source.html#l00131">isCapReady()</a>.</p>

</div>
</div>
<a class="anchor" id="ad58848012107af392ab8499108fa0de6"></a><!-- doxytag: member="GlobalViewBuilder::coordSendTimer" ref="ad58848012107af392ab8499108fa0de6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classGlobalViewBuilder.html#ad58848012107af392ab8499108fa0de6">GlobalViewBuilder::coordSendTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00063">63</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8h_source.html#l00091">GlobalViewBuilder()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">handleTimerEvent()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00059">start()</a>, and <a class="el" href="GlobalViewBuilder_8h_source.html#l00097">~GlobalViewBuilder()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4ba182cd9a1f0a5524cf14b9aa35077"></a><!-- doxytag: member="GlobalViewBuilder::deviation" ref="aa4ba182cd9a1f0a5524cf14b9aa35077" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classGlobalViewBuilder.html#aa4ba182cd9a1f0a5524cf14b9aa35077">GlobalViewBuilder::deviation</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deviation of time interval </p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00061">61</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00059">start()</a>.</p>

</div>
</div>
<a class="anchor" id="a2c7f7a37f909031eac7485e34382f241"></a><!-- doxytag: member="GlobalViewBuilder::meanCoordSendInterval" ref="a2c7f7a37f909031eac7485e34382f241" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classGlobalViewBuilder.html#a2c7f7a37f909031eac7485e34382f241">GlobalViewBuilder::meanCoordSendInterval</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>mean time interval between sending test messages </p>

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00060">60</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">handleCoordSendTimer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00059">start()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8f3c2930b82136731cbe716c0d6de4a"></a><!-- doxytag: member="GlobalViewBuilder::neighborCache" ref="ac8f3c2930b82136731cbe716c0d6de4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNeighborCache.html">NeighborCache</a>* <a class="el" href="classGlobalViewBuilder.html#ac8f3c2930b82136731cbe716c0d6de4a">GlobalViewBuilder::neighborCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00076">76</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">cleanup()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00201">handleCapReqRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">handleCoordSendTimer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00160">handleRpcResponse()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00460">parProxy()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00152">sendCapRequest()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00059">start()</a>, and <a class="el" href="GlobalViewBuilder_8h_source.html#l00097">~GlobalViewBuilder()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f159f7b693b83e4e13e772363337354"></a><!-- doxytag: member="GlobalViewBuilder::oldCcdSize" ref="a5f159f7b693b83e4e13e772363337354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classGlobalViewBuilder.html#a5f159f7b693b83e4e13e772363337354">GlobalViewBuilder::oldCcdSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00073">73</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>.</p>

</div>
</div>
<a class="anchor" id="a32aab99ad6fde5d58decf131aaa83ab5"></a><!-- doxytag: member="GlobalViewBuilder::onlyAcceptCompleteCCD" ref="a32aab99ad6fde5d58decf131aaa83ab5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classGlobalViewBuilder.html#a32aab99ad6fde5d58decf131aaa83ab5">GlobalViewBuilder::onlyAcceptCompleteCCD</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00067">67</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7abf229f9aeb3cfd292ba61a7c1b203"></a><!-- doxytag: member="GlobalViewBuilder::overlay" ref="ae7abf229f9aeb3cfd292ba61a7c1b203" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBaseOverlay.html">BaseOverlay</a>* <a class="el" href="classGlobalViewBuilder.html#ae7abf229f9aeb3cfd292ba61a7c1b203">GlobalViewBuilder::overlay</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00080">80</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>.</p>

</div>
</div>
<a class="anchor" id="afda44e069fe5aca1221ee8af7aef060c"></a><!-- doxytag: member="GlobalViewBuilder::sendStrategy" ref="afda44e069fe5aca1221ee8af7aef060c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAbstractSendStrategy.html">AbstractSendStrategy</a>* <a class="el" href="classGlobalViewBuilder.html#afda44e069fe5aca1221ee8af7aef060c">GlobalViewBuilder::sendStrategy</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00078">78</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">cleanup()</a>, <a class="el" href="GlobalViewBuilder_8h_source.html#l00091">GlobalViewBuilder()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">handleCoordSendTimer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>, and <a class="el" href="GlobalViewBuilder_8h_source.html#l00097">~GlobalViewBuilder()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d1ee4286c6fe99b8574913878deeeee"></a><!-- doxytag: member="GlobalViewBuilder::sendStrategyFactory" ref="a0d1ee4286c6fe99b8574913878deeeee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSendStrategyFactory.html">SendStrategyFactory</a> <a class="el" href="classGlobalViewBuilder.html#a0d1ee4286c6fe99b8574913878deeeee">GlobalViewBuilder::sendStrategyFactory</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00069">69</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f72d990feb887a9c9faa8d1946c21d0"></a><!-- doxytag: member="GlobalViewBuilder::spreadCapTimer" ref="a1f72d990feb887a9c9faa8d1946c21d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classGlobalViewBuilder.html#a1f72d990feb887a9c9faa8d1946c21d0">GlobalViewBuilder::spreadCapTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00064">64</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8h_source.html#l00091">GlobalViewBuilder()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">handleCoordSendTimer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">handleTimerEvent()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8h_source.html#l00097">~GlobalViewBuilder()</a>.</p>

</div>
</div>
<a class="anchor" id="ac677cc5eefec422b3657829cf1917817"></a><!-- doxytag: member="GlobalViewBuilder::treeManager" ref="ac677cc5eefec422b3657829cf1917817" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTreeManagement.html">TreeManagement</a>* <a class="el" href="classGlobalViewBuilder.html#ac677cc5eefec422b3657829cf1917817">GlobalViewBuilder::treeManager</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GlobalViewBuilder_8h_source.html#l00077">77</a> of file <a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a>.</p>

<p>Referenced by <a class="el" href="GlobalViewBuilder_8cc_source.html#l00069">cleanup()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00093">handleCoordinateRpcCall()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00224">handleCoordSendTimer()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00210">handleTimerEvent()</a>, <a class="el" href="GlobalViewBuilder_8cc_source.html#l00033">initializeViewBuilder()</a>, and <a class="el" href="GlobalViewBuilder_8cc_source.html#l00289">spreadGlobalView()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="GlobalViewBuilder_8h_source.html">GlobalViewBuilder.h</a></li>
<li><a class="el" href="GlobalViewBuilder_8cc_source.html">GlobalViewBuilder.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classGlobalViewBuilder.html">GlobalViewBuilder</a>      </li>

    <li class="footer">Generated on Thu Mar 6 2014 14:06:49 for OverSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
